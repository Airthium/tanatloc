"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[331],{41686:function(n,r,e){e.d(r,{Z:function(){return c}});var t=e(47568),i=e(34051),a=e.n(i),o=e(87492),u=function(){var n=(0,t.Z)(a().mark((function n(r,e){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.R)("/api/avatar",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({file:r,project:e})});case 2:return t=n.sent,n.abrupt("return",t.json());case 4:case"end":return n.stop()}}),n)})));return function(r,e){return n.apply(this,arguments)}}(),c={add:u}},24443:function(n,r,e){e.d(r,{Z:function(){return h}});var t=e(47568),i=e(34051),a=e.n(i),o=e(87492),u=function(){var n=(0,t.Z)(a().mark((function n(r){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.R)("/api/plugin",{method:"POST",body:JSON.stringify(r)});case 2:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),c=function(){var n=(0,t.Z)(a().mark((function n(r){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.R)("/api/plugin",{method:"PUT",body:JSON.stringify(r)});case 2:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),s=function(){var n=(0,t.Z)(a().mark((function n(r){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.R)("/api/plugin",{method:"DELETE",body:JSON.stringify(r)});case 2:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),d=e(26042),l=e(29815),p=e(8100),f=e(67294),h={add:u,update:c,del:s,usePlugins:function(){var n=(0,p.ZP)("/api/plugin",o._),r=n.data,e=n.error,t=n.mutate,i=!r,a=(null===r||void 0===r?void 0:r.plugins)||[],u=(0,f.useCallback)((function(n){var r=(0,l.Z)(a).concat([n]);t({plugins:r})}),[a,t]),c=(0,f.useCallback)((function(n){var r=a.filter((function(r){return r.key!==n.key}));t({plugins:r})}),[a,t]),s=(0,f.useCallback)((function(n){var r=a.map((function(r){return r.key===n.key&&(r=(0,d.Z)({},r,n)),r}));t({plugins:r})}),[a,t]);return[a,{mutatePlugins:t,addOnePlugin:u,delOnePlugin:c,mutateOnePlugin:s,errorPlugins:e,loadingPlugins:i}]}}},4687:function(n,r,e){e.d(r,{Z:function(){return s}});var t=e(47568),i=e(34051),a=e.n(i),o=e(87492),u=function(){var n=(0,t.Z)(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.R)("/api/plugins",{method:"GET",headers:{Accept:"application/json"}});case 2:return r=n.sent,n.abrupt("return",r.json());case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c=function(){var n=(0,t.Z)(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.R)("/api/plugins",{method:"POST",headers:{Accept:"application/json"}});case 2:return r=n.sent,n.abrupt("return",r.json());case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s={list:u,completeList:c}},94370:function(n,r,e){e.d(r,{Z:function(){return x}});var t=e(26042),i=e(69396),a=e(29815),o=e(8100),u=e(67294),c=e(87492),s=e(47568),d=e(34051),l=e.n(d),p=function(){var n=(0,s.Z)(l().mark((function n(r,e){var t;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.R)("/api/project",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({workspace:{id:r.id},project:e})});case 2:return t=n.sent,n.abrupt("return",t.json());case 4:case"end":return n.stop()}}),n)})));return function(r,e){return n.apply(this,arguments)}}(),f=function(){var n=(0,s.Z)(l().mark((function n(r,e){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.R)("/api/project/"+r.id,{method:"PUT",body:JSON.stringify(e)});case 2:case"end":return n.stop()}}),n)})));return function(r,e){return n.apply(this,arguments)}}(),h=function(){var n=(0,s.Z)(l().mark((function n(r,e){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.R)("/api/project/"+e.id,{method:"DELETE",body:JSON.stringify({id:r.id})});case 2:case"end":return n.stop()}}),n)})));return function(r,e){return n.apply(this,arguments)}}(),v=function(){var n=(0,s.Z)(l().mark((function n(r){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.R)("/api/project/"+r.id+"/archive",{method:"GET",headers:{Accept:"application/json"}}));case 1:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),g=function(){var n=(0,s.Z)(l().mark((function n(r){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.R)("/api/project/"+r.id+"/archive",{method:"PUT"}));case 1:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),m=function(){var n=(0,s.Z)(l().mark((function n(r){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.R)("/api/project/"+r.id+"/archive",{method:"DELETE"}));case 1:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),j=function(){var n=(0,s.Z)(l().mark((function n(r,e){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.R)("/api/project/"+r.id+"/archive",{method:"POST",body:JSON.stringify({archive:e})}));case 1:case"end":return n.stop()}}),n)})));return function(r,e){return n.apply(this,arguments)}}(),b={useProjects:function(n){var r=(0,o.ZP)(["/api/projects",JSON.stringify({ids:n})],c._),e=r.data,s=r.error,d=r.mutate,l=!e,p=(null===e||void 0===e?void 0:e.projects)||[],f=(0,u.useCallback)((function(n){var r=(0,a.Z)(p).concat([(0,i.Z)((0,t.Z)({},n),{users:[],geometries:[],simulations:[],groups:[]})]);d({projects:r})}),[p,d]),h=(0,u.useCallback)((function(n){var r=p.filter((function(r){return r.id!==n.id}));d({projects:r})}),[p,d]),v=(0,u.useCallback)((function(n){var r=p.map((function(r){return r.id===n.id&&(r=(0,t.Z)({},r,n)),r}));d({projects:r})}),[p,d]);return[p,{addOneProject:f,delOneProject:h,mutateOneProject:v,errorProjects:s,loadingProjects:l}]},useProject:function(n){var r=(0,o.ZP)("/api/project"+(n?"/"+n:""),c._),e=r.data,i=r.error,a=r.mutate,s=!e,d=(null===e||void 0===e?void 0:e.project)||{id:"0"},l=(0,u.useCallback)((function(n){var r=(0,t.Z)({},d,n);a({project:r})}),[d,a]);return[d,{mutateProject:l,errorProject:i,loadingProject:s}]},add:p,update:f,del:h,archive:v,unarchiveFromServer:g,deleteArchiveFile:m,unarchiveFromFile:j},x=b},41641:function(n,r,e){e.d(r,{HS:function(){return u},Lw:function(){return k},m1:function(){return g},o6:function(){return j},w6:function(){return s},ks:function(){return x},Qj:function(){return y}});var t=e(85893),i=e(58191),a=e(71577),o=e(64789),u=function(n){var r=n.disabled,e=n.primary,u=void 0===e||e,c=n.light,s=n.dark,d=n.fullWidth,l=n.needMargin,p=n.loading,f=n.children,h=n.onAdd;return(0,t.jsx)(i.Z,{title:f||"Add",children:(0,t.jsx)(a.Z,{className:(d?"full-width":"")+(l?" marginLeft-5":"")+(c?" text-light":"")+(s?" text-dark":""),disabled:r,loading:p,type:u?"primary":"default",icon:(0,t.jsx)(o.Z,{}),onClick:function(){return h()},children:f})})},c=e(86548),s=function(n){var r,e=n.disabled,o=n.primary,u=void 0!==o&&o,s=n.bordered,d=n.light,l=n.dark,p=n.needMargin,f=n.loading,h=n.children,v=n.onEdit;return r=e?"link":u?"primary":"default",(0,t.jsx)(i.Z,{title:h||"Edit",children:(0,t.jsx)(a.Z,{className:"no-background "+(p?"marginLeft-5 ":"")+(d?"text-light ":"")+(l?"text-dark ":"")+(s?"":"no-border "),disabled:e,loading:f,type:r,icon:(0,t.jsx)(c.Z,{}),onClick:v,children:h})})},d=e(47568),l=e(34051),p=e.n(l),f=e(67294),h=e(48689),v=e(32834),g=function(n){var r=n.disabled,e=n.loading,o=n.bordered,u=n.text,c=n.title,s=n.children,l=n.onDelete,g=(0,f.useState)(!1),m=g[0],j=g[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.AN,{visible:m,loading:e,title:c||"Delete",onCancel:function(){return j(!1)},onOk:(0,d.Z)(p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l();case 2:j(!1);case 3:case"end":return n.stop()}}),n)}))),children:u||"Are you sure?"}),(0,t.jsx)(i.Z,{title:s||"Delete",children:(0,t.jsx)(a.Z,{className:"no-background "+(o?"":"no-border"),danger:!0,disabled:r,type:r?"link":void 0,loading:e,icon:(0,t.jsx)(h.Z,{}),onClick:function(){return j(!0)},children:s})})]})},m=e(23430),j=function(n){var r=n.disabled,e=n.loading,o=n.bordered,u=n.children,c=n.onDownload;return(0,t.jsx)(i.Z,{title:u||"Download",children:(0,t.jsx)(a.Z,{className:"no-background "+(o?"":"no-border"),disabled:r,loading:e,icon:(0,t.jsx)(m.Z,{}),onClick:function(){return c()},children:u})})},b=e(82826),x=function(n){var r=n.children,e=n.onClick;return(0,t.jsx)(a.Z,{className:"no-border",icon:(0,t.jsx)(b.Z,{className:"color-primary"}),onClick:e,children:r||"Go back"})},k=function(n){var r=n.disabled,e=n.loading,o=n.children,u=n.onCancel;return(0,t.jsx)(i.Z,{title:o||"Cancel",children:(0,t.jsx)(a.Z,{disabled:r,loading:e,type:"default",onClick:u,children:o||"Cancel"})})},y=function(n){var r=n.children,e=n.onClick;return(0,t.jsx)(a.Z,{type:"link",onClick:e,style:{padding:0},children:r})}},60877:function(n,r,e){var t=e(85893),i=e(58191),a=e(63922),o=e(24093),u=e(11382),c=e(13023),s=e(48764).lW,d=function(n){return n?"hsl("+Array.from(n).reduce((function(n,r){return r.charCodeAt(0)+((n<<5)-n)}),0)%360+", 100%, 25%)":"#FFFFFF"},l=function(n){var r=n.toString(16);return 1===r.length?"0"+r:r},p={deepCopy:function(n){return JSON.parse(JSON.stringify(n))},stringToColor:d,rgbToHex:function(n){return"#"+l(Math.floor(255*n.r))+l(Math.floor(255*n.g))+l(Math.floor(255*n.b))},rgbToRgba:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n?"rgba("+255*n.r+", "+255*n.g+", "+255*n.b+", "+r+")":"rgba(255, 255, 255, 0)"},userToAvatar:function(n){var r=n.avatar&&s.from(n.avatar).toString(),e="",c="";return n.firstname||n.lastname?(e=n.firstname?n.firstname+" ":"",e+=n.lastname||"",c=n.firstname?n.firstname[0]:"",c+=n.lastname?n.lastname[0]:""):n.email&&(e=n.email,c=n.email[0]),(0,t.jsx)(i.Z,{title:e+(n.pending?" (Invite pending)":""),children:(0,t.jsx)(a.Z,{count:n.pending&&"Pending...",offset:[30,5],style:{backgroundColor:"#ff4d4f",zIndex:10},children:(0,t.jsx)(o.C,{src:r,style:{backgroundColor:d(e)},children:c.toUpperCase()||(0,t.jsx)(u.Z,{})})})},n.id||JSON.stringify(n))},groupToAvatar:function(n){var r=n.name,e="";return r&&(e=r[0]),(0,t.jsx)(i.Z,{title:r,children:(0,t.jsx)(o.C,{style:{backgroundColor:d(r)},children:e.toUpperCase()||(0,t.jsx)(u.Z,{})})},n.id||JSON.stringify(n))},validateEmail:function(n){return!!(0,c.parseOneAddress)(n)},getGitVersion:function(){return"git-master-9267d73"}};r.Z=p}}]);