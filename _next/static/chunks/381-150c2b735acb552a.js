"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[381],{87492:function(e,n,r){r.d(n,{R:function(){return h},_:function(){return f}});var t=r(47568),s=r(26042),i=r(69396),o=r(34051),a=r.n(o),c=r(59134),u=r.n(c),l=r(83454),d=l.env.PORT?parseInt(l.env.PORT):3e3,p=u()()?"http://localhost:"+d:"",f=function(){var e=(0,t.Z)(a().mark((function e(n,r){var t,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+n,(0,s.Z)({method:r?"POST":"GET",headers:{accept:"application/json","Content-Type":"application/json"}},r&&{body:r}));case 2:if(t=e.sent,i=t.headers.get("Content-Type"),t.ok){e.next=14;break}if(o=new Error("An error occured while fetching data."),e.t0=null===i||void 0===i?void 0:i.includes("application/json"),!e.t0){e.next=11;break}return e.next=10,t.json();case 10:e.t0=e.sent;case 11:throw o.info=e.t0,o.status=t.status,o;case 14:return e.abrupt("return",t.json());case 15:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),h=function(){var e=(0,t.Z)(a().mark((function e(n,r){var t,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+n,(0,i.Z)((0,s.Z)({},r),{method:r&&r.method||"GET",headers:(0,i.Z)((0,s.Z)({},r&&r.headers),{"Content-Type":"application/json"})}));case 2:if(t=e.sent,o=t.headers.get("Content-Type"),t.ok){e.next=14;break}if(c=new Error("An error occured while fetching data."),e.t0=null===o||void 0===o?void 0:o.includes("application/json"),!e.t0){e.next=11;break}return e.next=10,t.json();case 10:e.t0=e.sent;case 11:throw c.info=e.t0,c.status=t.status,c;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},67169:function(e,n,r){r.d(n,{Z:function(){return g}});var t=r(26042),s=r(8100),i=r(67294),o=r(87492),a=r(69396),c=r(29815),u=r(47568),l=r(34051),d=r.n(l),p=function(){var e=(0,u.Z)(d().mark((function e(n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.R)("/api/user",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify(n)});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,u.Z)(d().mark((function e(n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.R)("/api/user",{method:"PUT",body:JSON.stringify(n)});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,u.Z)(d().mark((function e(n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.R)("/api/user/"+n,{method:"PUT",body:JSON.stringify(r)});case 2:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),v=function(){var e=(0,u.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.R)("/api/user",{method:"DELETE"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,u.Z)(d().mark((function e(n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.R)("/api/user/"+n,{method:"DELETE"});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,u.Z)(d().mark((function e(n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.R)("/api/user/check",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify(n)});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m={useUser:function(){var e=(0,s.ZP)("/api/user",o._),n=e.data,r=e.error,a=e.mutate,c=!n,u=null===n||void 0===n?void 0:n.user,l=(0,i.useCallback)((function(e){a({user:(0,t.Z)({},u,e)})}),[u,a]),d=(0,i.useCallback)((function(){a({user:void 0})}),[a]);return[u,{mutateUser:l,clearUser:d,errorUser:401===(null===r||void 0===r?void 0:r.status)?void 0:r,loadingUser:401!==(null===r||void 0===r?void 0:r.status)&&c}]},useUsers:function(){var e=(0,s.ZP)("/api/users",o._),n=e.data,r=e.error,u=e.mutate,l=!n,d=(null===n||void 0===n?void 0:n.users)||[],p=(0,i.useCallback)((function(e){var n=(0,c.Z)(d).concat([(0,a.Z)((0,t.Z)({},e),{authorizedplugins:[]})]);u({users:n})}),[d,u]),f=(0,i.useCallback)((function(e){var n=d.filter((function(n){return n.id!==e.id}));u({users:n})}),[d,u]),h=(0,i.useCallback)((function(e){var n=d.map((function(n){return n.id===e.id&&(n=(0,t.Z)({},n,e)),n}));u({users:n})}),[d,u]);return[d,{addOneUser:p,delOneUser:f,mutateOneUser:h,errorUsers:r,loadingUsers:l}]},add:p,update:f,updateById:h,del:v,delById:x,check:Z},g=m},32834:function(e,n,r){r.d(n,{AN:function(){return m},ZP:function(){return j}});var t=r(47568),s=r(26042),i=r(69396),o=r(828),a=r(34051),c=r.n(a),u=r(85893),l=r(67294),d=r(81579),p=r(67040),f=r(6880),h=r(96844),v=r(26713),x=r(40262),Z="Dialog validation error",m=function(e){var n=e.visible,r=e.loading,s=e.title,i=e.children,o=e.onCancel,a=e.onOk;return(0,u.jsx)(p.Z,{className:"Dialog",title:(0,u.jsx)(f.Z.Text,{ellipsis:{tooltip:!0},children:s}),okText:"Delete",closable:!1,maskClosable:!1,visible:n,cancelButtonProps:{disabled:r},onCancel:function(){return o()},onOk:(0,t.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,h.lt)(Z,e.t0,!1);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),okButtonProps:{danger:!0,loading:r},children:(0,u.jsxs)(v.Z,{align:"start",children:[(0,u.jsx)(x.Z,{twoToneColor:"#ff4d4f"}),(0,u.jsx)("span",{style:{wordBreak:"break-word"},children:i})]})})},g="Dialog validation error",j=function(e){var n=e.visible,r=e.loading,a=e.title,v=e.initialValues,x=e.cancelButtonText,Z=e.cancelButtonProps,m=e.okButtonProps,j=e.okButtonText,k=e.children,y=e.onCancel,b=e.onOk,w=(0,o.Z)(d.Z.useForm(),1)[0];return(0,l.useEffect)((function(){n&&v&&w.setFieldsValue(v)}),[n,v,w]),(0,u.jsx)(p.Z,{className:"Dialog",title:(0,u.jsx)(f.Z.Text,{ellipsis:{tooltip:!0},children:a}),visible:n,closable:!1,maskClosable:!1,onCancel:y&&function(){w.resetFields(),y()},cancelButtonProps:(0,i.Z)((0,s.Z)({},Z),{disabled:r,style:{display:y?"inline-block":"none"}}),cancelText:x,onOk:b&&(0,t.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.validateFields();case 3:return n=e.sent,e.next=6,b(n);case 6:w.resetFields(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,h.lt)(g,e.t0,!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),okText:j,okButtonProps:(0,i.Z)((0,s.Z)({},m),{loading:r,style:{display:b?"inline-block":"none"}}),children:(0,u.jsx)(d.Z,{form:w,layout:"vertical",initialValues:v,children:k})})}},96844:function(e,n,r){r.d(n,{lt:function(){return Z},Xq:function(){return j},Ur:function(){return s}});var t=r(13448),s=function(e,n){t.Z.success({message:e,description:n,duration:10})},i=r(85893),o=r(6880),a=r(54907),c=r(26713),u=r(71577),l=r(79074),d=r(60274);l.S1({dsn:"https://3bb27cb32e55433696022ba93cb32430@o394613.ingest.sentry.io/5428383"});var p,f,h=d,v=[],x=function(){p&&(t.Z.close(p),p=void 0),v.forEach((function(e){return t.Z.close(e)})),v.length=0,t.Z.close(f),f=void 0},Z=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("Failed to fetch"!==(null===n||void 0===n?void 0:n.message)){if(r){var s,l,d="error_"+v.length;v.push(d),t.Z.error({key:d,message:e,description:n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Z.Text,{code:!0,children:n.message}),(n.status||n.info)&&(0,i.jsx)(a.Z,{children:(0,i.jsx)(a.Z.Panel,{header:"More information",children:(0,i.jsxs)(c.Z,{direction:"vertical",children:[n.status&&(0,i.jsxs)(o.Z.Text,{children:["Status: ",n.status]}),(null===(s=n.info)||void 0===s?void 0:s.message)&&(0,i.jsxs)(o.Z.Text,{children:["Description: ",null===(l=n.info)||void 0===l?void 0:l.message]})]})},"information")})]}),duration:0})}if(n&&console.error(n),n&&h.captureException(n),v.length>1&&!f){var Z="close_all";t.Z.info({key:Z,message:(0,i.jsx)(u.Z,{type:"primary",onClick:x,children:"Close all"}),description:"Close all error notifications",duration:0,placement:"top"}),f=Z}}else if(!p){var m="server_error";v.push(m),t.Z.error({key:m,message:"Server error",description:"Server is disconnected, please check your internet connection.",duration:0,onClose:function(){p=void 0}}),p=m}},m=r(81579),g=r(14670),j=function(e){var n,r,t=e.error;return t?(0,i.jsx)(m.Z.Item,{children:(0,i.jsx)(g.Z,{message:t.render||t.title,type:t.type,showIcon:!0,description:t.err&&(0,i.jsxs)(i.Fragment,{children:[t.err.message&&(0,i.jsxs)(o.Z.Text,{type:"danger",children:["Message: ",(0,i.jsx)("code",{children:t.err.message})]}),t.err.status&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsxs)(o.Z.Text,{type:"danger",children:["Status: ",(0,i.jsx)("code",{children:t.err.status})]})]}),(null===(n=t.err.info)||void 0===n?void 0:n.message)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsxs)(o.Z.Text,{type:"danger",children:["Information: ",(0,i.jsx)("code",{children:null===(r=t.err.info)||void 0===r?void 0:r.message})]})]})]})})}):null}},75107:function(e,n,r){var t=r(85893),s=r(26713),i=r(81474),o=r(11382),a=r(97183),c=function(e){var n=e.text;return(0,t.jsxs)(a.Z,{className:"tanatloc-gradient",children:[(0,t.jsx)("div",{className:"logo",children:(0,t.jsx)("img",{src:"/images/logo.svg",alt:"Tanatloc"})}),(0,t.jsx)(i.Z,{className:"Loading",children:(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(o.Z,{size:"large"}),null!==n&&void 0!==n?n:"Loading, please wait..."]})})]})};c.Simple=function(){return(0,t.jsx)(s.Z,{style:{height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:(0,t.jsx)(i.Z,{children:(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(o.Z,{}),"Loading, please wait..."]})})})},n.Z=c}}]);