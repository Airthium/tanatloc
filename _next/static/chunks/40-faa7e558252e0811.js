"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{67040:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return modal}});var mousePosition,toConsumableArray=__webpack_require__(74902),esm_extends=__webpack_require__(87462),CheckCircleOutlined=__webpack_require__(8751),CloseCircleOutlined=__webpack_require__(18429),ExclamationCircleOutlined=__webpack_require__(11475),InfoCircleOutlined=__webpack_require__(45605),React_render=__webpack_require__(38135),react=__webpack_require__(67294),react_namespaceObject=__webpack_require__.t(react,2),config_provider=__webpack_require__(17351),defineProperty=__webpack_require__(4942),classnames=__webpack_require__(94184),classnames_default=__webpack_require__.n(classnames),slicedToArray=__webpack_require__(97685),useState=__webpack_require__(30470),es_button=__webpack_require__(71577),button_button=__webpack_require__(6134),_util_ActionButton=function(props){var clickedRef=react.useRef(!1),ref=react.useRef(null),_useState=(0,useState.Z)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),loading=_useState2[0],setLoading=_useState2[1],close=props.close,onInternalClose=function(){null==close||close.apply(void 0,arguments)};react.useEffect(function(){var timeoutId=null;return props.autoFocus&&(timeoutId=setTimeout(function(){var _a;null===(_a=ref.current)||void 0===_a||_a.focus()})),function(){timeoutId&&clearTimeout(timeoutId)}},[]);var handlePromiseOnOk=function(returnValueOfOnOk){returnValueOfOnOk&&returnValueOfOnOk.then&&(setLoading(!0),returnValueOfOnOk.then(function(){setLoading(!1,!0),onInternalClose.apply(void 0,arguments),clickedRef.current=!1},function(e){console.error(e),setLoading(!1,!0),clickedRef.current=!1}))},type=props.type,children=props.children,prefixCls=props.prefixCls,buttonProps=props.buttonProps;return react.createElement(es_button.Z,(0,esm_extends.Z)({},(0,button_button.n)(type),{onClick:function(e){var thing,returnValueOfOnOk,actionFn=props.actionFn;if(!clickedRef.current){if(clickedRef.current=!0,!actionFn){onInternalClose();return}if(props.emitEvent){if(returnValueOfOnOk=actionFn(e),props.quitOnNullishReturnValue&&!((thing=returnValueOfOnOk)&&thing.then)){clickedRef.current=!1,onInternalClose(e);return}}else if(actionFn.length)returnValueOfOnOk=actionFn(close),clickedRef.current=!1;else if(!(returnValueOfOnOk=actionFn())){onInternalClose();return}handlePromiseOnOk(returnValueOfOnOk)}},loading:loading,prefixCls:prefixCls},buttonProps,{ref:ref}),children)},motion=__webpack_require__(33603),CloseOutlined=__webpack_require__(97937),es=__webpack_require__(79828),objectSpread2=__webpack_require__(1413),KeyCode=__webpack_require__(15105),uuid=0,contains=__webpack_require__(94999),pickAttrs=__webpack_require__(64217),rc_motion_es=__webpack_require__(62874);function Mask(props){var prefixCls=props.prefixCls,style=props.style,visible=props.visible,maskProps=props.maskProps,motionName=props.motionName;return react.createElement(rc_motion_es.Z,{key:"mask",visible:visible,motionName:motionName,leavedClassName:"".concat(prefixCls,"-mask-hidden")},function(_ref,ref){var motionClassName=_ref.className,motionStyle=_ref.style;return react.createElement("div",(0,esm_extends.Z)({ref:ref,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},motionStyle),style),className:classnames_default()("".concat(prefixCls,"-mask"),motionClassName)},maskProps))})}function getMotionName(prefixCls,transitionName,animationName){var motionName=transitionName;return!motionName&&animationName&&(motionName="".concat(prefixCls,"-").concat(animationName)),motionName}function getScroll(w,top){var ret=w["page".concat(top?"Y":"X","Offset")],method="scroll".concat(top?"Top":"Left");if("number"!=typeof ret){var d=w.document;"number"!=typeof(ret=d.documentElement[method])&&(ret=d.body[method])}return ret}var MemoChildren=react.memo(function(_ref){return _ref.children},function(_,_ref2){return!_ref2.shouldUpdate}),sentinelStyle={width:0,height:0,overflow:"hidden",outline:"none"},Panel=react.forwardRef(function(props,ref){var footerNode,headerNode,closer,prefixCls=props.prefixCls,className=props.className,style=props.style,title=props.title,ariaId=props.ariaId,footer=props.footer,closable=props.closable,closeIcon=props.closeIcon,onClose=props.onClose,children=props.children,bodyStyle=props.bodyStyle,bodyProps=props.bodyProps,modalRender=props.modalRender,onMouseDown=props.onMouseDown,onMouseUp=props.onMouseUp,holderRef=props.holderRef,visible=props.visible,forceRender=props.forceRender,width=props.width,height=props.height,sentinelStartRef=(0,react.useRef)(),sentinelEndRef=(0,react.useRef)();react.useImperativeHandle(ref,function(){return{focus:function(){var _sentinelStartRef$cur;null===(_sentinelStartRef$cur=sentinelStartRef.current)||void 0===_sentinelStartRef$cur||_sentinelStartRef$cur.focus()},changeActive:function(next){var activeElement=document.activeElement;next&&activeElement===sentinelEndRef.current?sentinelStartRef.current.focus():next||activeElement!==sentinelStartRef.current||sentinelEndRef.current.focus()}}});var contentStyle={};void 0!==width&&(contentStyle.width=width),void 0!==height&&(contentStyle.height=height),footer&&(footerNode=react.createElement("div",{className:"".concat(prefixCls,"-footer")},footer)),title&&(headerNode=react.createElement("div",{className:"".concat(prefixCls,"-header")},react.createElement("div",{className:"".concat(prefixCls,"-title"),id:ariaId},title))),closable&&(closer=react.createElement("button",{type:"button",onClick:onClose,"aria-label":"Close",className:"".concat(prefixCls,"-close")},closeIcon||react.createElement("span",{className:"".concat(prefixCls,"-close-x")})));var content=react.createElement("div",{className:"".concat(prefixCls,"-content")},closer,headerNode,react.createElement("div",(0,esm_extends.Z)({className:"".concat(prefixCls,"-body"),style:bodyStyle},bodyProps),children),footerNode);return react.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":title?ariaId:null,"aria-modal":"true",ref:holderRef,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},style),contentStyle),className:classnames_default()(prefixCls,className),onMouseDown:onMouseDown,onMouseUp:onMouseUp},react.createElement("div",{tabIndex:0,ref:sentinelStartRef,style:sentinelStyle,"aria-hidden":"true"}),react.createElement(MemoChildren,{shouldUpdate:visible||forceRender},modalRender?modalRender(content):content),react.createElement("div",{tabIndex:0,ref:sentinelEndRef,style:sentinelStyle,"aria-hidden":"true"}))}),Content=react.forwardRef(function(props,ref){var prefixCls=props.prefixCls,title=props.title,style=props.style,className=props.className,visible=props.visible,forceRender=props.forceRender,destroyOnClose=props.destroyOnClose,motionName=props.motionName,ariaId=props.ariaId,onVisibleChanged=props.onVisibleChanged,mousePosition=props.mousePosition,dialogRef=(0,react.useRef)(),_React$useState=react.useState(),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),transformOrigin=_React$useState2[0],setTransformOrigin=_React$useState2[1],contentStyle={};function onPrepare(){var el,rect,pos,doc,w,elementOffset=(pos={left:(rect=(el=dialogRef.current).getBoundingClientRect()).left,top:rect.top},w=(doc=el.ownerDocument).defaultView||doc.parentWindow,pos.left+=getScroll(w),pos.top+=getScroll(w,!0),pos);setTransformOrigin(mousePosition?"".concat(mousePosition.x-elementOffset.left,"px ").concat(mousePosition.y-elementOffset.top,"px"):"")}return transformOrigin&&(contentStyle.transformOrigin=transformOrigin),react.createElement(rc_motion_es.Z,{visible:visible,onVisibleChanged:onVisibleChanged,onAppearPrepare:onPrepare,onEnterPrepare:onPrepare,forceRender:forceRender,motionName:motionName,removeOnLeave:destroyOnClose,ref:dialogRef},function(_ref,motionRef){var motionClassName=_ref.className,motionStyle=_ref.style;return react.createElement(Panel,(0,esm_extends.Z)({},props,{ref:ref,title:title,ariaId:ariaId,prefixCls:prefixCls,holderRef:motionRef,style:(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({},motionStyle),style),contentStyle),className:classnames_default()(className,motionClassName)}))})});function Dialog(props){var id,_React$useState,_React$useState2,innerId,setInnerId,useOriginId,reactNativeId,_props$prefixCls=props.prefixCls,prefixCls=void 0===_props$prefixCls?"rc-dialog":_props$prefixCls,zIndex=props.zIndex,_props$visible=props.visible,visible=void 0!==_props$visible&&_props$visible,_props$keyboard=props.keyboard,keyboard=void 0===_props$keyboard||_props$keyboard,_props$focusTriggerAf=props.focusTriggerAfterClose,focusTriggerAfterClose=void 0===_props$focusTriggerAf||_props$focusTriggerAf,wrapStyle=props.wrapStyle,wrapClassName=props.wrapClassName,wrapProps=props.wrapProps,onClose=props.onClose,afterClose=props.afterClose,transitionName=props.transitionName,animation=props.animation,_props$closable=props.closable,_props$mask=props.mask,mask=void 0===_props$mask||_props$mask,maskTransitionName=props.maskTransitionName,maskAnimation=props.maskAnimation,_props$maskClosable=props.maskClosable,maskStyle=props.maskStyle,maskProps=props.maskProps,rootClassName=props.rootClassName,lastOutSideActiveElementRef=(0,react.useRef)(),wrapperRef=(0,react.useRef)(),contentRef=(0,react.useRef)(),_React$useState1=react.useState(visible),_React$useState21=(0,slicedToArray.Z)(_React$useState1,2),animatedVisible=_React$useState21[0],setAnimatedVisible=_React$useState21[1],ariaId=(_React$useState=react.useState("ssr-id"),innerId=(_React$useState2=(0,slicedToArray.Z)(_React$useState,2))[0],setInnerId=_React$useState2[1],reactNativeId=null==(useOriginId=(0,objectSpread2.Z)({},react_namespaceObject).useId)?void 0:useOriginId(),(react.useEffect(function(){if(!useOriginId){var nextId=uuid;uuid+=1,setInnerId("rc_unique_".concat(nextId))}},[]),id)?id:reactNativeId||innerId);function onInternalClose(e){null==onClose||onClose(e)}var contentClickRef=(0,react.useRef)(!1),contentTimeoutRef=(0,react.useRef)(),onWrapperClick=null;return(void 0===_props$maskClosable||_props$maskClosable)&&(onWrapperClick=function(e){contentClickRef.current?contentClickRef.current=!1:wrapperRef.current===e.target&&onInternalClose(e)}),(0,react.useEffect)(function(){visible&&(setAnimatedVisible(!0),(0,contains.Z)(wrapperRef.current,document.activeElement)||(lastOutSideActiveElementRef.current=document.activeElement))},[visible]),(0,react.useEffect)(function(){return function(){clearTimeout(contentTimeoutRef.current)}},[]),react.createElement("div",(0,esm_extends.Z)({className:classnames_default()("".concat(prefixCls,"-root"),rootClassName)},(0,pickAttrs.Z)(props,{data:!0})),react.createElement(Mask,{prefixCls:prefixCls,visible:mask&&visible,motionName:getMotionName(prefixCls,maskTransitionName,maskAnimation),style:(0,objectSpread2.Z)({zIndex:zIndex},maskStyle),maskProps:maskProps}),react.createElement("div",(0,esm_extends.Z)({tabIndex:-1,onKeyDown:function(e){if(keyboard&&e.keyCode===KeyCode.Z.ESC){e.stopPropagation(),onInternalClose(e);return}visible&&e.keyCode===KeyCode.Z.TAB&&contentRef.current.changeActive(!e.shiftKey)},className:classnames_default()("".concat(prefixCls,"-wrap"),wrapClassName),ref:wrapperRef,onClick:onWrapperClick,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({zIndex:zIndex},wrapStyle),{},{display:animatedVisible?null:"none"})},wrapProps),react.createElement(Content,(0,esm_extends.Z)({},props,{onMouseDown:function(){clearTimeout(contentTimeoutRef.current),contentClickRef.current=!0},onMouseUp:function(){contentTimeoutRef.current=setTimeout(function(){contentClickRef.current=!1})},ref:contentRef,closable:void 0===_props$closable||_props$closable,ariaId:ariaId,prefixCls:prefixCls,visible:visible&&animatedVisible,onClose:onInternalClose,onVisibleChanged:function(newVisible){if(newVisible)!function(){if(!(0,contains.Z)(wrapperRef.current,document.activeElement)){var _contentRef$current;null===(_contentRef$current=contentRef.current)||void 0===_contentRef$current||_contentRef$current.focus()}}();else{if(setAnimatedVisible(!1),mask&&lastOutSideActiveElementRef.current&&focusTriggerAfterClose){try{lastOutSideActiveElementRef.current.focus({preventScroll:!0})}catch(e){}lastOutSideActiveElementRef.current=null}animatedVisible&&(null==afterClose||afterClose())}},motionName:getMotionName(prefixCls,transitionName,animation)}))))}Content.displayName="Content";var DialogWrap=function(props){var visible=props.visible,getContainer=props.getContainer,forceRender=props.forceRender,_props$destroyOnClose=props.destroyOnClose,destroyOnClose=void 0!==_props$destroyOnClose&&_props$destroyOnClose,_afterClose=props.afterClose,_React$useState=react.useState(visible),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),animatedVisible=_React$useState2[0],setAnimatedVisible=_React$useState2[1];return(react.useEffect(function(){visible&&setAnimatedVisible(!0)},[visible]),forceRender||!destroyOnClose||animatedVisible)?react.createElement(es.Z,{open:visible||forceRender||animatedVisible,autoDestroy:!1,getContainer:getContainer,autoLock:visible||animatedVisible},react.createElement(Dialog,(0,esm_extends.Z)({},props,{destroyOnClose:destroyOnClose,afterClose:function(){null==_afterClose||_afterClose(),setAnimatedVisible(!1)}}))):null};DialogWrap.displayName="Dialog";var context=__webpack_require__(53124),form_context=__webpack_require__(65223),LocaleReceiver=__webpack_require__(23715),styleChecker=__webpack_require__(31808),locale=__webpack_require__(83008),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t};(0,styleChecker.jD)()&&document.documentElement.addEventListener("click",function(e){mousePosition={x:e.pageX,y:e.pageY},setTimeout(function(){mousePosition=null},100)},!0);var modal_Modal=function(props){var _classNames,_React$useContext=react.useContext(context.E_),getContextPopupContainer=_React$useContext.getPopupContainer,getPrefixCls=_React$useContext.getPrefixCls,direction=_React$useContext.direction,handleCancel=function(e){var onCancel=props.onCancel;null==onCancel||onCancel(e)},handleOk=function(e){var onOk=props.onOk;null==onOk||onOk(e)},customizePrefixCls=props.prefixCls,footer=props.footer,visible=props.visible,_props$open=props.open,wrapClassName=props.wrapClassName,centered=props.centered,getContainer=props.getContainer,closeIcon=props.closeIcon,_props$focusTriggerAf=props.focusTriggerAfterClose,_props$width=props.width,restProps=__rest(props,["prefixCls","footer","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","width"]),prefixCls=getPrefixCls("modal",customizePrefixCls),rootPrefixCls=getPrefixCls(),defaultFooter=react.createElement(LocaleReceiver.Z,{componentName:"Modal",defaultLocale:(0,locale.A)()},function(contextLocale){var okText=props.okText,_props$okType=props.okType,cancelText=props.cancelText,_props$confirmLoading=props.confirmLoading;return react.createElement(react.Fragment,null,react.createElement(es_button.Z,(0,esm_extends.Z)({onClick:handleCancel},props.cancelButtonProps),cancelText||contextLocale.cancelText),react.createElement(es_button.Z,(0,esm_extends.Z)({},(0,button_button.n)(void 0===_props$okType?"primary":_props$okType),{loading:void 0!==_props$confirmLoading&&_props$confirmLoading,onClick:handleOk},props.okButtonProps),null!=okText?okText:contextLocale.okText))}),closeIconToRender=react.createElement("span",{className:"".concat(prefixCls,"-close-x")},closeIcon||react.createElement(CloseOutlined.Z,{className:"".concat(prefixCls,"-close-icon")})),wrapClassNameExtended=classnames_default()(wrapClassName,(_classNames={},(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-centered"),!!centered),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-wrap-rtl"),"rtl"===direction),_classNames));return react.createElement(form_context.Ux,{status:!0,override:!0},react.createElement(DialogWrap,(0,esm_extends.Z)({width:void 0===_props$width?520:_props$width},restProps,{getContainer:void 0===getContainer?getContextPopupContainer:getContainer,prefixCls:prefixCls,wrapClassName:wrapClassNameExtended,footer:void 0===footer?defaultFooter:footer,visible:void 0!==_props$open&&_props$open||visible,mousePosition:mousePosition,onClose:handleCancel,closeIcon:closeIconToRender,focusTriggerAfterClose:void 0===_props$focusTriggerAf||_props$focusTriggerAf,transitionName:(0,motion.mL)(rootPrefixCls,"zoom",props.transitionName),maskTransitionName:(0,motion.mL)(rootPrefixCls,"fade",props.maskTransitionName)})))},modal_ConfirmDialog=function(props){var icon=props.icon,onCancel=props.onCancel,onOk=props.onOk,close=props.close,zIndex=props.zIndex,afterClose=props.afterClose,visible=props.visible,open=props.open,keyboard=props.keyboard,centered=props.centered,getContainer=props.getContainer,maskStyle=props.maskStyle,okText=props.okText,okButtonProps=props.okButtonProps,cancelText=props.cancelText,cancelButtonProps=props.cancelButtonProps,direction=props.direction,prefixCls=props.prefixCls,wrapClassName=props.wrapClassName,rootPrefixCls=props.rootPrefixCls,iconPrefixCls=props.iconPrefixCls,bodyStyle=props.bodyStyle,_props$closable=props.closable,closeIcon=props.closeIcon,modalRender=props.modalRender,focusTriggerAfterClose=props.focusTriggerAfterClose,okType=props.okType||"primary",contentPrefixCls="".concat(prefixCls,"-confirm"),okCancel=!("okCancel"in props)||props.okCancel,width=props.width||416,style=props.style||{},mask=void 0===props.mask||props.mask,maskClosable=void 0!==props.maskClosable&&props.maskClosable,autoFocusButton=null!==props.autoFocusButton&&(props.autoFocusButton||"ok"),classString=classnames_default()(contentPrefixCls,"".concat(contentPrefixCls,"-").concat(props.type),(0,defineProperty.Z)({},"".concat(contentPrefixCls,"-rtl"),"rtl"===direction),props.className),cancelButton=okCancel&&react.createElement(_util_ActionButton,{actionFn:onCancel,close:close,autoFocus:"cancel"===autoFocusButton,buttonProps:cancelButtonProps,prefixCls:"".concat(rootPrefixCls,"-btn")},cancelText);return react.createElement(config_provider.ZP,{prefixCls:rootPrefixCls,iconPrefixCls:iconPrefixCls,direction:direction},react.createElement(modal_Modal,{prefixCls:prefixCls,className:classString,wrapClassName:classnames_default()((0,defineProperty.Z)({},"".concat(contentPrefixCls,"-centered"),!!props.centered),wrapClassName),onCancel:function(){return null==close?void 0:close({triggerCancel:!0})},open:open||visible,title:"",footer:"",transitionName:(0,motion.mL)(rootPrefixCls,"zoom",props.transitionName),maskTransitionName:(0,motion.mL)(rootPrefixCls,"fade",props.maskTransitionName),mask:mask,maskClosable:maskClosable,maskStyle:maskStyle,style:style,bodyStyle:bodyStyle,width:width,zIndex:zIndex,afterClose:afterClose,keyboard:keyboard,centered:centered,getContainer:getContainer,closable:void 0!==_props$closable&&_props$closable,closeIcon:closeIcon,modalRender:modalRender,focusTriggerAfterClose:focusTriggerAfterClose},react.createElement("div",{className:"".concat(contentPrefixCls,"-body-wrapper")},react.createElement("div",{className:"".concat(contentPrefixCls,"-body")},icon,void 0===props.title?null:react.createElement("span",{className:"".concat(contentPrefixCls,"-title")},props.title),react.createElement("div",{className:"".concat(contentPrefixCls,"-content")},props.content)),react.createElement("div",{className:"".concat(contentPrefixCls,"-btns")},cancelButton,react.createElement(_util_ActionButton,{type:okType,actionFn:onOk,close:close,autoFocus:"ok"===autoFocusButton,buttonProps:okButtonProps,prefixCls:"".concat(rootPrefixCls,"-btn")},okText)))))},modal_destroyFns=[],confirm_rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t},defaultRootPrefixCls="";function confirm_confirm(config){var timeoutId,container=document.createDocumentFragment(),currentConfig=(0,esm_extends.Z)((0,esm_extends.Z)({},config),{close:close,open:!0});function destroy(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var triggerCancel=args.some(function(param){return param&&param.triggerCancel});config.onCancel&&triggerCancel&&config.onCancel.apply(config,[function(){}].concat((0,toConsumableArray.Z)(args.slice(1))));for(var i=0;i<modal_destroyFns.length;i++)if(modal_destroyFns[i]===close){modal_destroyFns.splice(i,1);break}(0,React_render.v)(container)}function render(_a){var okText=_a.okText,cancelText=_a.cancelText,customizePrefixCls=_a.prefixCls,props=confirm_rest(_a,["okText","cancelText","prefixCls"]);clearTimeout(timeoutId),timeoutId=setTimeout(function(){var runtimeLocale=(0,locale.A)(),_globalConfig=(0,config_provider.w6)(),getPrefixCls=_globalConfig.getPrefixCls,getIconPrefixCls=_globalConfig.getIconPrefixCls,rootPrefixCls=getPrefixCls(void 0,defaultRootPrefixCls),iconPrefixCls=getIconPrefixCls();(0,React_render.s)(react.createElement(modal_ConfirmDialog,(0,esm_extends.Z)({},props,{prefixCls:customizePrefixCls||"".concat(rootPrefixCls,"-modal"),rootPrefixCls:rootPrefixCls,iconPrefixCls:iconPrefixCls,okText:okText||(props.okCancel?runtimeLocale.okText:runtimeLocale.justOkText),cancelText:cancelText||runtimeLocale.cancelText})),container)})}function close(){for(var _this=this,_len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];(currentConfig=(0,esm_extends.Z)((0,esm_extends.Z)({},currentConfig),{open:!1,afterClose:function(){"function"==typeof config.afterClose&&config.afterClose(),destroy.apply(_this,args)}})).visible&&delete currentConfig.visible,render(currentConfig)}return render(currentConfig),modal_destroyFns.push(close),{destroy:close,update:function(configUpdate){render(currentConfig="function"==typeof configUpdate?configUpdate(currentConfig):(0,esm_extends.Z)((0,esm_extends.Z)({},currentConfig),configUpdate))}}}function withWarn(props){return(0,esm_extends.Z)((0,esm_extends.Z)({icon:react.createElement(ExclamationCircleOutlined.Z,null),okCancel:!1},props),{type:"warning"})}function withInfo(props){return(0,esm_extends.Z)((0,esm_extends.Z)({icon:react.createElement(InfoCircleOutlined.Z,null),okCancel:!1},props),{type:"info"})}function withSuccess(props){return(0,esm_extends.Z)((0,esm_extends.Z)({icon:react.createElement(CheckCircleOutlined.Z,null),okCancel:!1},props),{type:"success"})}function withError(props){return(0,esm_extends.Z)((0,esm_extends.Z)({icon:react.createElement(CloseCircleOutlined.Z,null),okCancel:!1},props),{type:"error"})}function withConfirm(props){return(0,esm_extends.Z)((0,esm_extends.Z)({icon:react.createElement(ExclamationCircleOutlined.Z,null),okCancel:!0},props),{type:"confirm"})}var locale_default=__webpack_require__(6213),useModal_HookModal=react.forwardRef(function(_ref,ref){var afterClose=_ref.afterClose,config=_ref.config,_React$useState=react.useState(!0),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1],_React$useState3=react.useState(config),_React$useState4=(0,slicedToArray.Z)(_React$useState3,2),innerConfig=_React$useState4[0],setInnerConfig=_React$useState4[1],_React$useContext=react.useContext(context.E_),direction=_React$useContext.direction,getPrefixCls=_React$useContext.getPrefixCls,prefixCls=getPrefixCls("modal"),rootPrefixCls=getPrefixCls(),close=function(){setOpen(!1);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var triggerCancel=args.some(function(param){return param&&param.triggerCancel});innerConfig.onCancel&&triggerCancel&&innerConfig.onCancel.apply(innerConfig,[function(){}].concat((0,toConsumableArray.Z)(args.slice(1))))};return react.useImperativeHandle(ref,function(){return{destroy:close,update:function(newConfig){setInnerConfig(function(originConfig){return(0,esm_extends.Z)((0,esm_extends.Z)({},originConfig),newConfig)})}}}),react.createElement(LocaleReceiver.Z,{componentName:"Modal",defaultLocale:locale_default.Z.Modal},function(contextLocale){return react.createElement(modal_ConfirmDialog,(0,esm_extends.Z)({prefixCls:prefixCls,rootPrefixCls:rootPrefixCls},innerConfig,{close:close,open:open,afterClose:afterClose,okText:innerConfig.okText||(innerConfig.okCancel?contextLocale.okText:contextLocale.justOkText),direction:direction,cancelText:innerConfig.cancelText||contextLocale.cancelText}))})}),useModal_uuid=0,ElementsHolder=react.memo(react.forwardRef(function(_props,ref){var _React$useState,_React$useState2,elements,setElements,_usePatchElement=(_React$useState=react.useState([]),elements=(_React$useState2=(0,slicedToArray.Z)(_React$useState,2))[0],setElements=_React$useState2[1],[elements,react.useCallback(function(element){return setElements(function(originElements){return[].concat((0,toConsumableArray.Z)(originElements),[element])}),function(){setElements(function(originElements){return originElements.filter(function(ele){return ele!==element})})}},[])]),_usePatchElement2=(0,slicedToArray.Z)(_usePatchElement,2),elements1=_usePatchElement2[0],patchElement=_usePatchElement2[1];return react.useImperativeHandle(ref,function(){return{patchElement:patchElement}},[]),react.createElement(react.Fragment,null,elements1)}));function modalWarn(props){return confirm_confirm(withWarn(props))}var es_modal_Modal=modal_Modal;es_modal_Modal.useModal=function(){var holderRef=react.useRef(null),_React$useState=react.useState([]),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),actionQueue=_React$useState2[0],setActionQueue=_React$useState2[1];react.useEffect(function(){actionQueue.length&&((0,toConsumableArray.Z)(actionQueue).forEach(function(action){action()}),setActionQueue([]))},[actionQueue]);var getConfirmFunc=react.useCallback(function(withFunc){return function(config){useModal_uuid+=1;var _a,closeFunc,modalRef=react.createRef(),modal=react.createElement(useModal_HookModal,{key:"modal-".concat(useModal_uuid),config:withFunc(config),ref:modalRef,afterClose:function(){null==closeFunc||closeFunc()}});return closeFunc=null===(_a=holderRef.current)||void 0===_a?void 0:_a.patchElement(modal),{destroy:function(){function destroyAction(){var _a;null===(_a=modalRef.current)||void 0===_a||_a.destroy()}modalRef.current?destroyAction():setActionQueue(function(prev){return[].concat((0,toConsumableArray.Z)(prev),[destroyAction])})},update:function(newConfig){function updateAction(){var _a;null===(_a=modalRef.current)||void 0===_a||_a.update(newConfig)}modalRef.current?updateAction():setActionQueue(function(prev){return[].concat((0,toConsumableArray.Z)(prev),[updateAction])})}}}},[]);return[react.useMemo(function(){return{info:getConfirmFunc(withInfo),success:getConfirmFunc(withSuccess),error:getConfirmFunc(withError),warning:getConfirmFunc(withWarn),confirm:getConfirmFunc(withConfirm)}},[]),react.createElement(ElementsHolder,{ref:holderRef})]},es_modal_Modal.info=function(props){return confirm_confirm(withInfo(props))},es_modal_Modal.success=function(props){return confirm_confirm(withSuccess(props))},es_modal_Modal.error=function(props){return confirm_confirm(withError(props))},es_modal_Modal.warning=modalWarn,es_modal_Modal.warn=modalWarn,es_modal_Modal.confirm=function(props){return confirm_confirm(withConfirm(props))},es_modal_Modal.destroyAll=function(){for(;modal_destroyFns.length;){var close=modal_destroyFns.pop();close&&close()}},es_modal_Modal.config=function(_ref){defaultRootPrefixCls=_ref.rootPrefixCls};var modal=es_modal_Modal}}]);