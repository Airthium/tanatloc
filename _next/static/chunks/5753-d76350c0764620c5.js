(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5753],{9819:function(e,l,t){"use strict";t.d(l,{E:function(){return i},j:function(){return a}});let a=[{label:"Density",symbol:"Rho",units:[{label:"\\(kg.m^{-3}\\)"}],unit:{label:"\\(kg.m^{-3}\\)"}},{label:"Young's modulus",symbol:"E",units:[{label:"\\(Pa\\)"}],unit:{label:"\\(Pa\\)"}},{label:"Poisson's ratio",symbol:"Nu"},{label:"Thermal conductivity",symbol:"Lambda",units:[{label:"\\(W.m^{-1}.K^{-1}\\)"}],unit:{label:"\\(W.m^{-1}.K^{-1}\\)"}},{label:"Heat capacity",symbol:"Cp",units:[{label:"\\(J.K^{-1}.kg^{-1}\\)"}],unit:{label:"\\(J.K^{-1}.kg^{-1}\\)"}},{label:"Dynamic viscosity",symbol:"Mu",units:[{label:"\\(Pa.s\\)"}],unit:{label:"\\(Pa.s\\)"}}],i={metal:{label:"Metal",children:[{key:"steel",label:"Generic Steel",children:[{label:"Density",symbol:"Rho",value:"7850"},{label:"Young's modulus",symbol:"E",value:"2.1e11"},{label:"Poisson's ratio",symbol:"Nu",value:"0.3"},{label:"Thermal conductivity",symbol:"Lambda",value:"15"},{label:"Heat capacity",symbol:"Cp",value:"502"}]},{key:"S235JR+AR",label:"Steel (S235JR+AR)",children:[{label:"Density",symbol:"Rho",value:"7850"},{label:"Young's modulus",symbol:"E",value:"2.1e11"},{label:"Poisson's ratio",symbol:"Nu",value:"0.27"},{label:"Thermal conductivity",symbol:"Lambda",value:"15"},{label:"Heat capacity",symbol:"Cp",value:"502"}]},{key:"304",label:"Stainless Steel 304",children:[{label:"Density",symbol:"Rho",value:"8000"},{label:"Young's modulus",symbol:"E",value:"193e9"},{label:"Poisson's ratio",symbol:"Nu",value:"0.29"},{label:"Thermal conductivity",symbol:"Lambda",value:"16.2"},{label:"Heat capacity",symbol:"Cp",value:"500"},{label:"Yield strength",symbol:"SigmaY",value:"215e6"}]},{key:"316L",label:"Stainless Steel 316L",children:[{label:"Density",symbol:"Rho",value:"7990"},{label:"Young's modulus",symbol:"E",value:"193e9"},{label:"Poisson's ratio",symbol:"Nu",value:"0.25"},{label:"Thermal conductivity",symbol:"Lambda",value:"16.2"},{label:"Heat capacity",symbol:"Cp",value:"500"},{label:"Yield strength",symbol:"SigmaY",value:"290e6"}]},{key:"6082-O",label:"Aluminium 6082-O",children:[{label:"Density",symbol:"Rho",value:"2700"},{label:"Young's modulus",symbol:"E",value:"69e9"},{label:"Poisson's ratio",symbol:"Nu",value:"0.33"},{label:"Thermal conductivity",symbol:"Lambda",value:"170"},{label:"Heat capacity",symbol:"Cp",value:"960"},{label:"Yield strength",symbol:"SigmaY",value:"60e6"}]},{key:"7075-O",label:"Aluminium 7075-O",children:[{label:"Density",symbol:"Rho",value:"2810"},{label:"Young's modulus",symbol:"E",value:"71.7e9"},{label:"Poisson's ratio",symbol:"Nu",value:"0.33"},{label:"Thermal conductivity",symbol:"Lambda",value:"173"},{label:"Heat capacity",symbol:"Cp",value:"960"},{label:"Yield strength",symbol:"SigmaY",value:"110e6"}]},{key:"2017A",label:"Aluminium 2017A",children:[{label:"Density",symbol:"Rho",value:"2790"},{label:"Young's modulus",symbol:"E",value:"72.5e9"},{label:"Poisson's ratio",symbol:"Nu",value:"0.33"},{label:"Thermal conductivity",symbol:"Lambda",value:"134"},{label:"Heat capacity",symbol:"Cp",value:"873"},{label:"Yield strength",symbol:"SigmaY",value:"275e6"}]}]},polymer:{label:"Polymer",children:[{key:"PMMA",label:"PMMA",children:[{label:"Density",symbol:"Rho",value:"1180"},{label:"Young's modulus",symbol:"E",value:"2.9e9"},{label:"Poisson's ratio",symbol:"Nu",value:"0.36"},{label:"Thermal conductivity",symbol:"Lambda",value:"0.193"},{label:"Heat capacity",symbol:"Cp",value:"1480"},{label:"Yield strength",symbol:"SigmaY",value:"69e6"}]}]},fluid:{label:"Fluid",children:[{key:"water",label:"Water",children:[{label:"Density",symbol:"Rho",value:"1e3"},{label:"Dynamic viscosity",symbol:"Mu",value:"1e-3"},{label:"Thermal conductivity",symbol:"Lambda",value:"0.6"},{label:"Heat capacity",symbol:"Cp",value:"4185"}]}]},contact:{label:"Contact",children:[{key:"fundation",label:"Fundation",children:[]}]}}},85615:function(e,l,t){"use strict";t.d(l,{Z:function(){return u}});var a=t(948);let i=async(e,l)=>{let t=await (0,a.R)("/api/result",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({simulation:e,result:l})});return t.json()},n=async(e,l)=>(0,a.R)("/api/result/download",{method:"POST",body:JSON.stringify({simulation:e,result:l})}),s=async e=>(0,a.R)("/api/result/archive",{method:"POST",body:JSON.stringify({simulation:e})});var u={load:i,download:n,archive:s}},15753:function(e,l,t){"use strict";t.d(l,{ZP:function(){return tN}});var a=t(85893),i=t(67294),n=t(16373),s=t(12386),u=t(56697),o=t(64749),r=t(20838),d=t(94055),c=t(53740),m=t(60052),h=t(68245),v=t(82492),y=t.n(v),p=t(8061),f=t(54509),x=t(95590),b=t(64352),g=t(8418),j=t(88053),C=t(28456),k=t(97221),Z=t(81229),w=t(70459),S=t(4863),E=t(70302),T=t(74048),N=t(89552),M=t(65400),P=t.n(M),O=t(52655),A=t(35304),L=t.n(A);let I={copy:"Unable to copy simulation"},R=async(e,l,t)=>{let a=await Z.Z.copy(l);await t.addOneSimulation(a),await t.mutateProject({id:e.id,simulations:[...e.simulations,a.id]})};var U=e=>{let{project:l,simulation:t,swr:n}=e,[s,u]=(0,i.useState)(!1),{dispatch:o}=(0,i.useContext)(p.uj),r=(0,i.useCallback)(()=>{(0,b.u)(async()=>{u(!0);try{await R(l,t,n)}catch(e){o((0,f.iT)({title:I.copy,err:e}))}finally{u(!1)}})},[l,t,n,o]);return(0,a.jsx)(d.default,{title:"Copy simulation",children:(0,a.jsx)(P(),{className:L().noBorder,loading:s,icon:(0,a.jsx)(O.default,{}),onClick:r})})},_=t(97538),Y=t(51024),z=t(51274);let F={update:"Unable to update simulation"},B=async(e,l,t)=>{await Z.Z.update({id:e.id},[{key:"name",value:l.name}]),await t.mutateOneSimulation({id:e.id,name:l.name})};var V=e=>{let{simulation:l,swr:t}=e,n=(0,i.useRef)(null),[s,u]=(0,i.useState)(!1),[o,r]=(0,i.useState)(!1),{dispatch:d}=(0,i.useContext)(p.uj);(0,i.useEffect)(()=>{n.current&&n.current.focus()});let c=(0,i.useCallback)(async e=>{r(!0);try{await B(l,e,t),r(!1),u(!1)}catch(e){throw d((0,f.iT)({title:F.update,err:e})),r(!1),e}},[l,t,d]),m=(0,i.useCallback)(()=>u(!0),[]),h=(0,i.useCallback)(()=>u(!1),[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.w6,{onEdit:m}),(0,a.jsx)(z.ZP,{title:"Edit the simulation's name",visible:s,initialValues:{name:l.name},onCancel:h,onOk:c,loading:o,children:(0,a.jsx)(_.Z.Item,{name:"name",label:"Name:",rules:[{required:!0,message:"Name is required"}],children:(0,a.jsx)(Y.default,{ref:n})})})]})};let H={del:"Unable to delete simulation"},W=async(e,l,t)=>{await Z.Z.del(l);let a=e.simulations.filter(e=>e!==l.id);await t.mutateProject({id:e.id,simulations:a}),await t.delOneSimulation({id:l.id})};var D=e=>{let{project:l,simulation:t,swr:n}=e,[s,u]=(0,i.useState)(!1),{dispatch:o}=(0,i.useContext)(p.uj),r=(0,i.useCallback)(async()=>{u(!0);try{await W(l,t,n)}catch(e){throw o((0,f.iT)({title:H.del,err:e})),e}finally{u(!1)}},[l,t,n,o]);return(0,a.jsx)(j.m1,{loading:s,text:(0,a.jsxs)(a.Fragment,{children:["Are you sure you want to delete the simulation"," ",(0,a.jsx)(c.Z.Text,{strong:!0,children:t.name}),"?"]}),onDelete:r})},G=t(68469),K=t(31059),q=t(48138),J=t(4851),$=t(64713),Q=t(2307),X=t(86994),ee=t(68130),el=e=>{let{dimension:l,initialValue:t,additionalKeywords:n,unit:s,units:u,onChange:o,onUnitChange:r}=e,[m,h]=(0,i.useState)(!1),[v,y]=(0,i.useState)(t),[p,f]=(0,i.useState)(),x=(0,i.useMemo)(()=>[{title:"Label",dataIndex:"label",key:"label"},{title:"Keyword",dataIndex:"value",key:"value"}],[]),b=(0,i.useCallback)(()=>h(!0),[]),j=(0,i.useCallback)(()=>h(!1),[]),C=(0,i.useCallback)(e=>{let t=e.target.value;try{f(void 0),(0,ee.Q)(t,{additionalKeywords:null==n?void 0:n.map(e=>{if(2!==l||!e.only3D)return e.value}).filter(e=>e)})}catch(e){f(e.message)}y(t)},[l,n]),k=(0,i.useCallback)(e=>{let l=e.target.value,t=null==u?void 0:u.find(e=>e.label===l);null==r||r(t)},[u,r]),Z=(0,i.useCallback)(async()=>{o({target:{value:v}})},[v,o]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.default,{title:"Complex formula",children:(0,a.jsx)(X.default,{onClick:b})}),(0,a.jsxs)(z.ZP,{title:"Formula",visible:m,initialValues:{formula:t},onOk:Z,onCancel:j,children:[(0,a.jsx)(_.Z.Item,{extra:(0,a.jsx)("span",{style:{color:"red"},children:p}),style:{marginBottom:0},children:(0,a.jsx)(Y.default.TextArea,{value:v,onChange:C,style:p?{borderColor:"red"}:{}})}),u?(0,a.jsx)(_.Z.Item,{children:(0,a.jsx)($.default.Group,{value:null==s?void 0:s.label,onChange:k,children:null==u?void 0:u.map(e=>(0,a.jsx)($.default.Button,{value:e.label,children:(0,a.jsx)(g.Z.Inline,{text:e.label})},e.label))})}):null,n?(0,a.jsx)(_.Z.Item,{children:(0,a.jsx)(G.Z,{items:[{key:"additional",label:"Additional keywords",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z.Text,{children:"Additional keywods are model-specific keywords, in addition to FreeFEM keywords."}),(0,a.jsx)(Q.Z,{pagination:!1,columns:x,dataSource:n.map(e=>({key:e.label,...e})).filter(e=>!(2===l&&e.only3D))})]})}]})}):null]})]})},et=t(2594),ea=t.n(et),ei=e=>{let{label:l,noLarge:t,className:n,dimension:s,defaultValue:u,defaultChecked:r,additionalKeywords:d,units:c,unit:m,onValueChange:h,onCheckedChange:v,onUnitChange:y}=e,[p,f]=(0,i.useState)(String(null!=u?u:0)),[x,b]=(0,i.useState)(!!r),[j,C]=(0,i.useState)(void 0!==r&&!r),[k,Z]=(0,i.useState)(0),[w,S]=(0,i.useState)(!1);(0,i.useEffect)(()=>{f(String(null!=u?u:0))},[u]),(0,i.useEffect)(()=>{b(!!r)},[r]);let E=(0,i.useCallback)(e=>{let l=e.target.checked;b(l),null==v||v(l),C(!l)},[v]),N=(0,i.useCallback)(e=>{k&&clearTimeout(k);let l=setTimeout(()=>{h(e),S(!1)},500);Z(+l)},[k,h]),M=(0,i.useCallback)(e=>{let l=e.target.value;f(l),S(!0),N(l)},[N]),P=(0,i.useCallback)(e=>{let l=null==c?void 0:c.find(l=>l.label===e);null==y||y(l)},[c,y]),O=(0,i.useMemo)(()=>m?c&&c.length>1?(0,a.jsx)(o.default,{className:ea().select,options:c.map(e=>({value:e.label,label:(0,a.jsx)(g.Z.Inline,{text:e.label})})),onChange:P,value:null==m?void 0:m.label}):(0,a.jsx)(g.Z.Inline,{text:m.label}):null,[m,c,P]),A=(0,i.useMemo)(()=>(0,a.jsx)(J.default,{spin:!0,className:L().textOrange}),[]),I=(0,i.useMemo)(()=>t?(0,a.jsx)(q.Z,{className:L().textGreen}):(0,a.jsx)(el,{dimension:s,initialValue:p,additionalKeywords:d,unit:m,units:c,onChange:M,onUnitChange:y}),[t,s,p,d,m,c,M,y]);return(0,a.jsx)(T.default,{className:"".concat(L().fullWidth," ").concat(ea().formula," ").concat(n),style:ea(),align:"start",children:(0,a.jsx)(_.Z,{layout:"vertical",children:(0,a.jsx)(_.Z.Item,{label:(0,a.jsxs)(a.Fragment,{children:[void 0!==r&&(0,a.jsx)(K.default,{checked:x,onChange:E,style:{marginRight:"5px"}}),l]}),children:(0,a.jsx)(Y.default,{className:ea().input,disabled:j,value:p,onChange:M,addonBefore:w?A:I,addonAfter:O})})})})};let en={manual:{type:"manual",value:1},auto:{type:"auto",value:"normal"},factor:{type:"factor",value:1}},es={update:"Unable to update simulation"},eu=async(e,l,t,a)=>{let i=k.Z.deepCopy(e);i.scheme.configuration.geometry.children[l].meshParameters=t;let n={...i.scheme.configuration.geometry,done:!0};await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","geometry"],value:n}]),await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","run"],value:{...i.scheme.configuration.run,done:!1}}]),await a.mutateOneSimulation(i)};var eo=e=>{let{simulation:l,index:t,swr:n}=e,[s,u]=(0,i.useState)(en.auto),{dispatch:r}=(0,i.useContext)(p.uj);(0,i.useEffect)(()=>{let e=l.scheme.configuration.geometry.children[t].meshParameters;e&&u(e)},[l,t]);let d=(0,i.useCallback)(e=>{(0,b.u)(async()=>{try{let a=en[e];await eu(l,t,a,n),u(a)}catch(e){r((0,f.iT)({title:es.update,err:e}))}})},[l,t,n,r]),c=(0,i.useCallback)(e=>{(0,b.u)(async()=>{try{let a={...s,value:e};await eu(l,t,a,n),u(a)}catch(e){r((0,f.iT)({title:es.update,err:e}))}})},[l,t,n,s,r]),m=(0,i.useCallback)(e=>{(0,b.u)(async()=>{try{let a={...s,unit:e};await eu(l,t,a,n),u(a)}catch(e){r((0,f.iT)({title:es.update,err:e}))}})},[l,t,n,s,r]);return(0,a.jsx)(G.Z,{items:[{key:"meshRefinement",label:"Mesh refinement",children:(0,a.jsxs)(E.Z,{size:"small",children:[(0,a.jsx)(_.Z,{layout:"vertical",children:(0,a.jsx)(_.Z.Item,{label:"Type",children:(0,a.jsx)(o.default,{className:L().fullWidth,options:Object.keys(en).map(e=>({label:e.charAt(0).toUpperCase()+e.slice(1),value:e})),value:s.type,onChange:d})})}),"auto"===s.type&&(0,a.jsx)(_.Z,{layout:"vertical",children:(0,a.jsx)(_.Z.Item,{label:"Size",children:(0,a.jsx)(o.default,{className:L().fullWidth,options:[{label:"Very fine",value:"veryfine"},{label:"Fine",value:"fine"},{label:"Normal",value:"normal"},{label:"Coarse",value:"coarse"},{label:"Very coarse",value:"verycoarse"}],value:s.value,onChange:c})})}),"manual"===s.type&&(0,a.jsx)(ei,{label:"Size",noLarge:!0,defaultValue:s.value,units:[{label:"m"},{label:"mm",multiplicator:1e3}],unit:s.unit,onValueChange:c,onUnitChange:m}),"factor"===s.type&&(0,a.jsx)(ei,{label:"Size",noLarge:!0,defaultValue:s.value,onValueChange:c})]})}]})};let er={update:"Unable to update simulation"},ed=async(e,l,t,a)=>{try{var i;let n=k.Z.deepCopy(e);n.scheme.configuration.geometry.children[t].value=l.id;let s={...n.scheme.configuration,dimension:null!==(i=l.summary.dimension)&&void 0!==i?i:3,geometry:{...n.scheme.configuration.geometry,done:!0},run:{...n.scheme.configuration.run,done:!1}};await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration"],value:s}]),await a.mutateOneSimulation(n)}catch(e){throw e}},ec=e=>{let{geometries:l,simulation:t,child:n,index:s,setGeometries:u,swr:r}=e,{dispatch:d}=(0,i.useContext)(p.uj),m=(0,i.useMemo)(()=>n.value,[n.value]),h=(0,i.useMemo)(()=>!!l.find(e=>e.id===m),[l,m]),v=(0,i.useMemo)(()=>n.noMeshable,[n.noMeshable]),y=(0,i.useCallback)(e=>{(0,b.u)(async()=>{try{let a=l.find(l=>l.id===e);await ed(t,a,s,r),u([a])}catch(e){d((0,f.iT)({title:er.update,err:e}))}})},[l,t,s,u,r,d]);return(0,i.useEffect)(()=>{l.length&&!m&&y(l[0].id)},[l,m,y]),(0,a.jsxs)(E.Z,{size:"small",title:n.label,children:[(0,a.jsxs)(_.Z,{layout:"vertical",children:[h?[]:[(0,a.jsx)(c.Z.Text,{strong:!0,type:"danger",children:"Geometry does not exists anymore"},"error")],(0,a.jsx)(_.Z.Item,{children:(0,a.jsx)(o.default,{placeholder:"Select a simulation domain",options:l.map(e=>({value:e.id,label:e.name})),value:h?m:void 0,onChange:y})})]}),v?null:(0,a.jsx)(eo,{simulation:{id:t.id,scheme:t.scheme},index:s,swr:{mutateOneSimulation:r.mutateOneSimulation}})]})};var em=t(40561),eh=t(33649),ev=t(54523),ey=t(78804);let ep={update:"Unable to delete material"},ef=async(e,l,t)=>{try{let a=k.Z.deepCopy(e),i=a.scheme.configuration.materials;i.values=[...i.values.slice(0,l),...i.values.slice(l+1)];let n={...i,done:!!i.values.length};await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","materials"],value:n}]),await t.mutateOneSimulation(a)}catch(e){throw e}};var ex=e=>{let{simulation:l,index:t,swr:n}=e,[s,u]=(0,i.useState)(!1),{dispatch:o}=(0,i.useContext)(p.uj),{dispatch:r}=(0,i.useContext)(ev.ZB),d=(0,i.useMemo)(()=>l.scheme.configuration.materials,[l]),m=(0,i.useMemo)(()=>d.values[t],[d,t]),h=(0,i.useMemo)(()=>m.selected,[m.selected]),v=(0,i.useCallback)(async()=>{u(!0);try{await ef(l,t,n),r((0,ey.Ys)(h))}catch(e){throw o((0,f.iT)({title:ep.update,err:e})),e}finally{u(!1)}},[l,t,n,h,r,o]);return(0,a.jsx)(j.m1,{loading:s,text:(0,a.jsxs)(a.Fragment,{children:["Are you sure you want to delete the material"," ",(0,a.jsx)(c.Z.Text,{strong:!0,children:m.material.label})]}),onDelete:v})},eb=t(29040),eg=t.n(eb);let ej=e=>{let{geometries:l,simulation:t,material:n,index:s,swr:u,_onEdit:o}=e,r=(0,i.useRef)(!1),{dispatch:d}=(0,i.useContext)(ev.ZB),m=(0,i.useMemo)(()=>l.find(e=>e.id===n.geometry),[l,n]),h=(0,i.useMemo)(()=>n.selected,[n.selected]),v=(0,i.useMemo)(()=>(null==m?void 0:m.summary.dimension)===2?"faces":"solids",[m]),y=(0,i.useCallback)(()=>{d((0,ey.wp)()),d((0,ey.Cw)(v)),d((0,ey.rx)(null==m?void 0:m.summary.uuid)),d((0,ey.Ys)(h))},[m,h,v,d]),p=(0,i.useCallback)(()=>{r.current||d((0,ey.h$)())},[d]),f=(0,i.useCallback)(()=>{r.current=!0,o(s),setTimeout(()=>r.current=!1,1e3)},[s,o]);return(0,a.jsxs)(E.Z,{className:"".concat(L().textAlignCenter," ").concat(eg().listItem),hoverable:!0,onMouseMove:y,onMouseLeave:p,actions:[(0,a.jsx)(j.w6,{onEdit:f},"edit"),(0,a.jsx)(ex,{index:s,simulation:t,swr:u},"delete")],children:[m?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.Z.Text,{type:"danger",strong:!0,children:[(0,a.jsx)(eh.Z,{})," Geometry not found"]}),(0,a.jsx)("br",{})]}),(0,a.jsx)(c.Z.Text,{strong:!0,className:L().textAlignCenter,children:n.material.label})]})};var eC=e=>{var l;let{geometries:t,simulation:n,swr:s,onEdit:u}=e,o=(0,i.useMemo)(()=>n.scheme.configuration.materials,[n]);return null===(l=o.values)||void 0===l?void 0:l.map((e,l)=>(0,a.jsx)(ej,{geometries:t,simulation:n,material:e,index:l,swr:s,_onEdit:u},e.uuid)).filter(e=>e)},ek=t(1825),eZ=t(83482),ew=t(3855),eS=t(59361),eE=t(95286),eT=t(91873),eN=t(7737),eM=t(49031);let eP=(e,l)=>{let t=[...e],a=t.findIndex(e=>e.uuid===l.uuid);return -1===a?t.push(l):t=[...t.slice(0,a),...t.slice(a+1)],t},eO=(e,l)=>{let t=[...e,...l];return t.reduce((e,l)=>(e.find(e=>e.uuid===l.uuid)||e.push(l),e),[])},eA=(e,l)=>{let t=[...e];return l.forEach(e=>{let l=t.findIndex(l=>l.uuid===e.uuid);-1!==l&&(t=[...t.slice(0,l),...t.slice(l+1)])}),t},eL=(e,l)=>{let t=[...e];return l.forEach(e=>{let l=t.findIndex(l=>l.uuid===e.uuid);-1===l?t.push(e):t=[...t.slice(0,l),...t.slice(l+1)]}),t},eI=e=>{let{color:l,setFilter:t}=e,n=(0,i.useCallback)(()=>{t(l)},[l,t]);return(0,a.jsx)(d.default,{title:"Color",children:(0,a.jsx)(P(),{style:{backgroundColor:k.Z.rgbToHex(l)},onClick:n,children:" "})})},eR=e=>{let{colors:l,setFilter:t}=e,n=(0,i.useCallback)(()=>{t(void 0)},[t]);return l.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.default,{title:"Reset",children:(0,a.jsx)(P(),{icon:(0,a.jsx)(eZ.default,{}),onClick:n})}),l.map(e=>(0,a.jsx)(eI,{color:e,setFilter:t},JSON.stringify(e)))]})},eU=e=>{let{element:l,alreadySelected:t,filter:n,search:s,context:u}=e,o=(0,i.useMemo)(()=>{var e,t,a;return(!n||n.r===(null===(e=l.color)||void 0===e?void 0:e.r)&&n.g===(null===(t=l.color)||void 0===t?void 0:t.g)&&n.b===(null===(a=l.color)||void 0===a?void 0:a.b))&&(!s||!l.name||!!l.name.includes(s))},[l,n,s]),r=(0,i.useMemo)(()=>{var e;return u.selected.find(e=>e.uuid===l.uuid)?"#EE9817":(null===(e=u.highlighted)||void 0===e?void 0:e.uuid)===l.uuid?"#FAD114":"transparent"},[l,u]),d=(0,i.useMemo)(()=>{var e;return u.selected.find(e=>e.uuid===l.uuid)?"rgba(238, 152, 23, 0.3)":(null===(e=u.highlighted)||void 0===e?void 0:e.uuid)===l.uuid?"rgba(250, 209, 20, 0.3)":"transparent"},[l,u]),c=(0,i.useCallback)(e=>{u.dispatch((0,ey.CH)(e))},[u]),m=(0,i.useCallback)(()=>{u.dispatch((0,ey.CH)())},[u]),h=(0,i.useCallback)(e=>{let l=eP(u.selected,e);u.dispatch((0,ey.Ys)(l))},[u]),v=(0,i.useCallback)(()=>c({uuid:l.uuid,label:l.label}),[l,c]),y=(0,i.useCallback)(()=>h({uuid:l.uuid,label:l.label}),[l,h]);return o?(0,a.jsx)(E.Z,{style:{marginBottom:"10px"},bodyStyle:{position:"relative",padding:"10px 10px 10px 40px",borderWidth:"2px",borderStyle:"solid",borderColor:r,backgroundColor:d},onMouseEnter:v,onMouseLeave:m,onClick:y,children:(0,a.jsxs)(T.default,{direction:"vertical",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{position:"absolute",left:"-2px",top:"-2px",bottom:"-2px",width:"30px",backgroundColor:k.Z.rgbToRgba(l.color,1)}}),l.name]}),null==t?void 0:t.map(e=>{if(e.selected.find(e=>e.uuid===l.uuid))return(0,a.jsx)(eS.Z,{color:k.Z.stringToColor(e.label),children:e.label},l.uuid+e.label)})]})}):null};var e_=e=>{var l;let{geometry:t,alreadySelected:n,updateSelected:s}=e,[u,o]=(0,i.useState)(),[r,m]=(0,i.useState)(),{type:h,highlighted:v,selected:y,dispatch:p}=(0,i.useContext)(ev.ZB);(0,x.Z)(()=>s(y),[y],[s]);let f=(0,i.useMemo)(()=>{var e;let l=[];return h&&(null===(e=t.summary[h])||void 0===e||e.forEach(e=>{if(e.color){let t=l.find(l=>l.r===e.color.r&&l.g===e.color.g&&l.b===e.color.b);t||l.push(e.color)}})),l},[t,h]),b=(0,i.useCallback)(()=>{var e,l;let a=null!==(l=null===(e=t.summary[h])||void 0===e?void 0:e.map(e=>{var l,t,a;if(!u||u&&u.r===(null===(l=e.color)||void 0===l?void 0:l.r)&&u.g===(null===(t=e.color)||void 0===t?void 0:t.g)&&u.b===(null===(a=e.color)||void 0===a?void 0:a.b))return{uuid:e.uuid,label:e.label}}).filter(e=>e))&&void 0!==l?l:[],i=eO(y,a);p((0,ey.Ys)(i))},[t,h,y,u,p]),g=(0,i.useCallback)(()=>{var e,l;let a=null!==(l=null===(e=t.summary[h])||void 0===e?void 0:e.map(e=>{var l,t,a;if(!u||u&&u.r===(null===(l=e.color)||void 0===l?void 0:l.r)&&u.g===(null===(t=e.color)||void 0===t?void 0:t.g)&&u.b===(null===(a=e.color)||void 0===a?void 0:a.b))return{uuid:e.uuid,label:e.label}}).filter(e=>e))&&void 0!==l?l:[],i=eA(y,a);p((0,ey.Ys)(i))},[t,h,y,u,p]),j=(0,i.useCallback)(()=>{var e,l;let a=null!==(l=null===(e=t.summary[h])||void 0===e?void 0:e.map(e=>{var l,t,a;if(!u||u&&u.r===(null===(l=e.color)||void 0===l?void 0:l.r)&&u.g===(null===(t=e.color)||void 0===t?void 0:t.g)&&u.b===(null===(a=e.color)||void 0===a?void 0:a.b))return{uuid:e.uuid,label:e.label}}).filter(e=>e))&&void 0!==l?l:[],i=eL(y,a);p((0,ey.Ys)(i))},[t,h,y,u,p]),C=(0,i.useCallback)(e=>{let l=e.target.value;m(l)},[]);return(0,a.jsxs)(E.Z,{size:"small",className:L().noBorderBottom,children:[(0,a.jsxs)(T.default,{direction:"vertical",className:L().fullWidth,children:[(0,a.jsx)(c.Z.Text,{strong:!0,children:"Filters"}),(0,a.jsxs)(T.default,{direction:"horizontal",wrap:!0,children:[(0,a.jsx)(eR,{colors:f,setFilter:o}),(0,a.jsx)(d.default,{title:"Select all",children:(0,a.jsx)(P(),{icon:(0,a.jsx)(eT.default,{}),onClick:b})}),(0,a.jsx)(d.default,{title:"Unselect all",children:(0,a.jsx)(P(),{icon:(0,a.jsx)(eE.Z,{}),onClick:g})}),(0,a.jsx)(d.default,{title:"Swap",children:(0,a.jsx)(P(),{icon:(0,a.jsx)(eM.Z,{}),onClick:j})})]}),(0,a.jsx)(Y.default,{placeholder:"Search",value:r,onChange:C,suffix:(0,a.jsx)(eN.default,{className:L().textLight})})]}),(0,a.jsx)("div",{className:L().fullWidth,style:{marginTop:"20px"},children:h?null===(l=t.summary[h])||void 0===l?void 0:l.map(e=>(0,a.jsx)(eU,{element:e,alreadySelected:n,filter:u,search:r,context:{selected:y,highlighted:v,dispatch:p}},e.uuid)):null})]})},eY=t(56590),ez=t(69590),eF=t(9819),eB=e=>{let{onSelect:l}=e,[t,o]=(0,i.useState)(),[r,d]=(0,i.useState)(),[c,m]=(0,i.useState)(),[h,v]=(0,i.useState)(),y=(0,i.useMemo)(()=>Object.keys(eF.E),[]),p=(0,i.useCallback)(()=>o(!0),[]),f=(0,i.useCallback)(()=>o(!1),[]),x=(0,i.useCallback)(e=>{let{key:l}=e,t=eF.E[l];d({key:l,children:t.children}),m(void 0),v(void 0)},[]),b=(0,i.useCallback)(e=>{let{key:l}=e,t=eF.E[r.key],a=t.children.find(e=>e.key===l);m({key:l}),v(a)},[r]),g=(0,i.useCallback)(()=>{l(h),o(!1)},[h,l]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P(),{icon:(0,a.jsx)(ez.Z,{}),onClick:p,className:L().fullWidth,children:"Pick a material"}),(0,a.jsx)(u.Z,{open:t,title:"Material database",onCancel:f,onOk:g,okText:"Choose",okButtonProps:{disabled:!h},width:"80%",children:(0,a.jsx)(n.Z,{children:(0,a.jsx)(n.Z.Content,{children:(0,a.jsxs)(T.default,{className:L().fullWidth,style:{alignItems:"stretch",gap:"20px"},children:[(0,a.jsx)(s.default,{mode:"inline",items:y.map(e=>({key:e,label:eF.E[e].label})),onClick:x}),(0,a.jsx)(s.default,{mode:"inline",items:null==r?void 0:r.children.map(e=>({key:e.key,label:e.label})),selectedKeys:(null==c?void 0:c.key)?[null==c?void 0:c.key]:[],onClick:b}),h&&(0,a.jsx)(eY.Z,{itemLayout:"vertical",style:{paddingLeft:"20px"},children:h.children.map(e=>(0,a.jsxs)(eY.Z.Item,{children:[e.label,": ",e.symbol," = ",e.value]},e.label))})]})})})})]})},eV=t(57632);let eH={material:"You need to define a material",selected:"You need to select a solid",update:"Unable to add material"},eW=async(e,l,t)=>{var a;let i=k.Z.deepCopy(l);i.uuid=(0,eV.Z)();let n=k.Z.deepCopy(e),s=n.scheme.configuration.materials;s.values=[...null!==(a=s.values)&&void 0!==a?a:[],i];let u={...s,done:!0};await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","materials"],value:u}]),await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","run"],value:{...n.scheme.configuration.run,done:!1}}]),await t.mutateOneSimulation(n)};var eD=e=>{let{simulation:l,material:t,swr:n,onError:s,onClose:u}=e,[o,r]=(0,i.useState)(!1),{dispatch:d}=(0,i.useContext)(p.uj),c=(0,i.useCallback)(()=>{(0,b.u)(async()=>{r(!0);try{var e;if(!t.material){s(eH.material),r(!1);return}if(!(null===(e=t.selected)||void 0===e?void 0:e.length)){s(eH.selected),r(!1);return}s(),await eW(l,t,n),r(!1),u()}catch(e){d((0,f.iT)({title:eH.update,err:e})),r(!1)}})},[l,t,n,s,u,d]);return(0,a.jsx)(j.HS,{loading:o,needMargin:!0,onAdd:c,children:"Add"})};let eG={uuid:"UUID not defined on material",material:"You need to define a material",selected:"You need to select a solid",update:"Unable to edit material"},eK=async(e,l,t)=>{let a=k.Z.deepCopy(e),i=a.scheme.configuration.materials,n=i.values.findIndex(e=>e.uuid===l.uuid);i.values=[...i.values.slice(0,n),l,...i.values.slice(n+1)];let s={...i};await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","materials"],value:s}]),await t.mutateOneSimulation(a)};var eq=e=>{let{simulation:l,material:t,swr:n,onError:s,onClose:u}=e,[o,r]=(0,i.useState)(!1),{dispatch:d}=(0,i.useContext)(p.uj),c=(0,i.useCallback)(()=>{(0,b.u)(async()=>{r(!0);try{var e;if(!t.uuid){s(eG.uuid),r(!1);return}if(!t.material){s(eG.material),r(!1);return}if(!(null===(e=t.selected)||void 0===e?void 0:e.length)){s(eG.selected),r(!1);return}s(),await eK(l,t,n),r(!1),u()}catch(e){d((0,f.iT)({title:eG.update,err:e})),r(!1)}})},[l,t,n,s,u,d]);return(0,a.jsx)(j.w6,{loading:o,primary:!0,needMargin:!0,onEdit:c,children:"Edit"})},eJ=t(64098),e$=t.n(eJ);let eQ=e=>{let{simulation:l,dimension:t,material:n,child:s,index:u,_onMaterialChange:o,_onUnitChange:r}=e,d=(0,i.useMemo)(()=>l.scheme.variables,[l.scheme.variables]),c=(0,i.useMemo)(()=>null==n?void 0:n.value,[n]),m=(0,i.useMemo)(()=>null==n?void 0:n.unit,[n]),h=(0,i.useCallback)(e=>{o(s,u,e)},[s,u,o]),v=(0,i.useCallback)(e=>{r(u,e)},[u,r]);return(0,a.jsx)(ei,{dimension:t,label:s.name,defaultValue:null!=c?c:String(s.default),additionalKeywords:d,units:s.units,unit:null!=m?m:s.unit,onValueChange:h,onUnitChange:v})};var eX=e=>{var l,t;let{geometries:n,simulation:s,value:u,swr:o,onClose:d}=e,[m,h]=(0,i.useState)(),[v,y]=(0,i.useState)(),[p,f]=(0,i.useState)(),[x,b]=(0,i.useState)(),[g,C]=(0,i.useState)(),[k,Z]=(0,i.useState)(),{dispatch:w}=(0,i.useContext)(ev.ZB),S=(0,i.useMemo)(()=>s.scheme.configuration.materials,[s]),N=(0,i.useMemo)(()=>{var e,l;let t=null!==(l=null===(e=S.values)||void 0===e?void 0:e.map(e=>{if(e.uuid!==m)return{label:e.material.label,selected:e.selected}}).filter(e=>e))&&void 0!==l?l:[];return t},[S,m]),M=(0,i.useCallback)(e=>{y(e)},[]),O=(0,i.useCallback)((e,l,t)=>{y({label:"Custom",children:[...v.children.slice(0,l),{...null==v?void 0:v.children[l],label:e.label,symbol:e.name,value:t},...v.children.slice(l+1)]})},[v]),A=(0,i.useCallback)((e,l)=>{y({...v,children:[...v.children.slice(0,e),{...v.children[e],unit:l},...v.children.slice(e+1)]})},[v]),I=(0,i.useCallback)(e=>{C(e)},[]),R=(0,i.useCallback)(e=>{let l=n.find(l=>l.id===e);f(l);let t=l.summary.dimension;b(t),w((0,ey.wp)()),w((0,ey.Cw)(2===t?"faces":"solids")),w((0,ey.rx)(l.summary.uuid))},[n,w]),U=(0,i.useCallback)(()=>{d(),w((0,ey.h$)())},[d,w]);return(0,i.useEffect)(()=>{var e;m||h(null!==(e=null==u?void 0:u.uuid)&&void 0!==e?e:"add")},[u,m]),(0,i.useEffect)(()=>{var e;if(p)return;let l=null!==(e=null==u?void 0:u.geometry)&&void 0!==e?e:n[0].id;R(l)},[n,u,p,R]),(0,i.useEffect)(()=>{var e;v||y(null!==(e=null==u?void 0:u.material)&&void 0!==e?e:{label:"Default",children:S.children.map(e=>({label:e.label,symbol:e.name,value:e.default}))})},[u,S,v]),(0,a.jsx)(ek.Z,{className:e$().subPanel,title:"Material",placement:"left",closable:!1,open:!0,mask:!1,maskClosable:!1,width:300,extra:(0,a.jsx)(P(),{type:"text",icon:(0,a.jsx)(eZ.default,{}),onClick:U}),footer:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,a.jsx)(j.Lw,{onCancel:U}),u?(0,a.jsx)(eq,{material:{uuid:m,material:v,geometry:null==p?void 0:p.id,selected:g},simulation:s,swr:o,onError:Z,onClose:U}):(0,a.jsx)(eD,{material:{uuid:m,material:v,geometry:null==p?void 0:p.id,selected:g},simulation:s,swr:o,onError:Z,onClose:U})]}),children:(0,a.jsxs)(T.default,{direction:"vertical",className:L().fullWidth,children:[(0,a.jsx)(E.Z,{size:"small",children:(0,a.jsxs)(T.default,{direction:"vertical",className:L().fullWidth,children:[(0,a.jsx)(eB,{onSelect:M}),(0,a.jsxs)(c.Z.Text,{children:["Material: ",null!==(t=null==v?void 0:v.label)&&void 0!==t?t:"default"]}),null==S?void 0:null===(l=S.children)||void 0===l?void 0:l.map((e,l)=>{var t;let i=null==v?void 0:null===(t=v.children)||void 0===t?void 0:t.find(l=>l.symbol===e.name);return(0,a.jsx)(eQ,{simulation:s,dimension:x,material:i,child:e,index:l,_onMaterialChange:O,_onUnitChange:A},e.name)})]})}),(0,a.jsx)(r.default,{items:n.map(e=>({key:e.id,label:e.name,children:(0,a.jsx)(e_,{geometry:e,alreadySelected:N,updateSelected:I})})),activeKey:null==p?void 0:p.id,onChange:R}),k&&(0,a.jsxs)(c.Z.Text,{children:[(0,a.jsx)(ew.Z,{style:{color:"red"}})," ",k]})]})})};let e0={update:"Unable to update simulation"},e1=(e,l,t,i,n)=>{var s,u;return(0,a.jsx)(ei,{dimension:2,label:null!==(s=t.label2D)&&void 0!==s?s:t.label,defaultValue:null!==(u=t.value)&&void 0!==u?u:t.default,additionalKeywords:l,onValueChange:i,onUnitChange:n,units:t.units,unit:t.unit},e)},e5=(e,l,t)=>{var i,n,s,u;return(0,a.jsx)(_.Z,{layout:"vertical",children:(0,a.jsx)(_.Z.Item,{label:null!==(n=l.label2D)&&void 0!==n?n:l.label,children:(0,a.jsx)(o.default,{options:null===(i=l.options)||void 0===i?void 0:i.map(e=>{var l;return{label:e.label,value:null!==(l=e.value2D)&&void 0!==l?l:e.value}}),defaultValue:null!==(u=null!==(s=l.value)&&void 0!==s?s:l.default2D)&&void 0!==u?u:l.default,onChange:t})})},e)},e2=(e,l,t)=>{var i,n;return(0,a.jsx)(_.Z,{layout:"horizontal",children:(0,a.jsx)(_.Z.Item,{label:null!==(i=l.label2D)&&void 0!==i?i:l.label,children:(0,a.jsx)(K.default,{defaultChecked:null!==(n=l.value)&&void 0!==n?n:l.default,onChange:t})})},e)},e3=(e,l,t,i,n)=>{var s;return(0,a.jsx)(ei,{dimension:3,label:t.label,defaultValue:null!==(s=t.value)&&void 0!==s?s:t.default,additionalKeywords:l,units:t.units,unit:t.unit,onValueChange:i,onUnitChange:n},e)},e6=(e,l,t)=>{var i;return(0,a.jsx)(_.Z,{layout:"vertical",children:(0,a.jsx)(_.Z.Item,{label:l.label,children:(0,a.jsx)(o.default,{options:l.options,defaultValue:null!==(i=l.value)&&void 0!==i?i:l.default,onChange:t})})},e)},e4=(e,l,t)=>{var i;return(0,a.jsx)(_.Z,{layout:"horizontal",children:(0,a.jsx)(_.Z.Item,{label:l.label,children:(0,a.jsx)(K.default,{defaultChecked:null!==(i=l.value)&&void 0!==i?i:l.default,onChange:t})})},e)},e9=(e,l,t)=>{var i;return(0,a.jsx)(_.Z,{layout:"vertical",children:(0,a.jsx)(_.Z.Item,{label:l.label,children:(0,a.jsx)($.default.Group,{options:l.options,defaultValue:null!==(i=l.value)&&void 0!==i?i:l.default,onChange:t})})},e)},e7=async(e,l)=>{let t=k.Z.deepCopy(e),a=t.scheme.configuration.parameters,i={...a,done:!0};await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","parameters"],value:i}]),await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","run"],value:{...t.scheme.configuration.run,done:!1}}]),await l.mutateOneSimulation(t)},e8=async(e,l,t,a,i)=>{let n=k.Z.deepCopy(e),s=n.scheme.configuration.parameters,u=s[l];u.children[t].value=a;let o={...s};await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","parameters"],value:o}]),await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","run"],value:{...n.scheme.configuration.run,done:!1}}]),await i.mutateOneSimulation(n)},le=async(e,l,t,a,i)=>{let n=k.Z.deepCopy(e),s=n.scheme.configuration.parameters,u=s[l];u.children[t].unit=a;let o={...s};await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","parameters"],value:o}]),await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","run"],value:{...n.scheme.configuration.run,done:!1}}]),await i.mutateOneSimulation(n)},ll=e=>{let{variables:l,child:t,pkey:a,index:i,onChange:n,onChangeEvent:s,onUnitChange:u}=e;if(t.only3D);else if("formula"===t.htmlEntity)return e1(a+"&"+i,l,t,n,u);else if("select"===t.htmlEntity)return e5(a+"&"+i,t,n);else if("checkbox"===t.htmlEntity)return e2(a+"&"+i,t,s);return null},lt=e=>{let{variables:l,child:t,pkey:a,index:i,onChange:n,onChangeEvent:s,onUnitChange:u}=e;return"formula"===t.htmlEntity?e3(a+"&"+i,l,t,n,u):"select"===t.htmlEntity?e6(a+"&"+i,t,n):"checkbox"===t.htmlEntity?e4(a+"&"+i,t,s):"radio"===t.htmlEntity?e9(a+"&"+i,t,s):null},la=e=>{let{simulation:l,dimension:t,child:n,pkey:s,index:u,swr:o}=e,{dispatch:r}=(0,i.useContext)(p.uj),d=(0,i.useMemo)(()=>l.scheme.variables,[l]),c=(0,i.useCallback)(e=>{(0,b.u)(async()=>{try{await e8(l,s,u,e,o)}catch(e){r((0,f.iT)({title:e0.update,err:e}))}})},[l,s,u,o,r]),m=(0,i.useCallback)(e=>{(0,b.u)(async()=>{try{await le(l,s,u,e,o)}catch(e){r((0,f.iT)({title:e0.update,err:e}))}})},[l,s,u,o,r]),h=(0,i.useCallback)(e=>{(0,b.u)(async()=>{try{await e8(l,s,u,e.target.checked,o)}catch(e){r((0,f.iT)({title:e0.update,err:e}))}})},[l,s,u,o,r]);return n.hidden?null:2===t?(0,a.jsx)(ll,{variables:d,child:n,pkey:s,index:u,onChange:c,onChangeEvent:h,onUnitChange:m}):(0,a.jsx)(lt,{variables:d,child:n,pkey:s,index:u,onChange:c,onChangeEvent:h,onUnitChange:m})},li=e=>{let{simulation:l,dimension:t,pkey:n,parameter:s,swr:u}=e,o=(0,i.useMemo)(()=>s.children.map((e,i)=>(0,a.jsx)(la,{simulation:l,dimension:t,child:e,pkey:n,index:i,swr:u},n+"&"+e.label)),[l,t,n,s,u]);return(0,a.jsx)(E.Z,{size:"small",title:null==s?void 0:s.label,children:(0,a.jsx)(T.default,{direction:"vertical",children:o})},n)},ln=(e,l)=>{let t=[];t=Array.isArray(l.pattern)?l.pattern.map(e=>new RegExp(e)):[new RegExp(l.pattern)];let a=[],i=[];return e.forEach(e=>{let l=t.map(l=>l.test(e.fileName)),n=l.reduce((e,l)=>+e+ +l,0);0===n?i.push(e):a.push(e)}),{notFilteredFiles:i,filteredFiles:a}},ls=(e,l)=>{let t=[];t=Array.isArray(l.prefixPattern)?l.prefixPattern.map(e=>new RegExp(e)):[new RegExp(l.prefixPattern)];let a=[];return a=Array.isArray(l.suffixPattern)?l.suffixPattern.map(e=>new RegExp(e)):[new RegExp(l.suffixPattern)],e.map(e=>{let l=e.fileName;return t.forEach(e=>l=l.replace(e,"")),a.forEach(e=>l=l.replace(e,"")),{...e,number:+l}})},lu=(e,l)=>{let t=l.multiplicator;if(t){var a;let l=t.reduce((e,l)=>e[l],e);return null!==(a=l.value)&&void 0!==a?a:l.default}},lo={update:"Unable to update simulation"},lr=async(e,l,t)=>{let a=k.Z.deepCopy(e),i=a.scheme.configuration.initialization;i.value={type:l},await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","initialization"],value:i}]),await t.mutateOneSimulation(a)},ld=async(e,l,t,a)=>{var i;let n=await lv(e,t),s=k.Z.deepCopy(l),u=s.scheme.configuration.initialization;u.value={...u.value,simulation:t,result:null==n?void 0:null===(i=n[0])||void 0===i?void 0:i.value},await Z.Z.update({id:l.id},[{key:"scheme",type:"json",method:"set",path:["configuration","initialization"],value:u}]),await a.mutateOneSimulation(s)},lc=async(e,l,t,a)=>{let i=k.Z.deepCopy(e),n=i.scheme.configuration.initialization;n.value={...n.value,number:+l,result:t.file},await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","initialization"],value:n}]),await a.mutateOneSimulation(i)},lm=async(e,l,t,a)=>{let i=k.Z.deepCopy(e),n=i.scheme.configuration.initialization;n.value.values||(n.value.values=[]),n.value.values[l]=t,await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","initialization"],value:n}]),await a.mutateOneSimulation(i)},lh=(e,l)=>{let{filteredFiles:t,notFilteredFiles:a}=ln(e,l),i=ls(t,l),n=i.map(e=>{let t=[];t=Array.isArray(l.suffixPattern)?l.suffixPattern.map(e=>new RegExp(e)):[new RegExp(l.suffixPattern)];let a=e.fileName;return t.forEach(e=>a=a.replace(e,"")),{number:e.number,fileName:a}}).filter((e,l,t)=>t.findIndex(l=>l.number===e.number)===l).sort((e,l)=>e.number-l.number);return{filteredFiles:n,notFilteredFiles:a}},lv=async(e,l)=>{var t;let a=await Z.Z.tasks({id:l}),i=e.find(e=>e.id===l),n=i.scheme.configuration,s=null==n?void 0:null===(t=n.run)||void 0===t?void 0:t.resultsFilter,u=[];return a.forEach(e=>{if(e.file&&"result"===e.file.type&&u.push({label:e.file.fileName,value:e.file.fileName,file:e.file.fileName}),e.files){if(s){let{filteredFiles:l,notFilteredFiles:t}=lh(e.files,s),a=lu(n,s),i=l.map((e,l)=>{let t=a?e.number*a:l;return{label:String(Math.round(1e15*t)/1e15),value:e.fileName,file:e.fileName}});u.push(...t.map(e=>({label:e.fileName,value:e.fileName,file:e.fileName})).filter(e=>e)),u.push(...i)}else e.files.forEach(e=>{"result"===e.type&&u.push({label:e.fileName,value:e.fileName,file:e.fileName})})}}),u},ly=e=>{let{simulation:l,child:t,index:n,value:s,swr:u,dispatch:o}=e,r=(0,i.useCallback)(e=>{(0,b.u)(async()=>{try{await lm(l,n,e,u)}catch(e){o((0,f.iT)({title:lo.update,err:e}))}})},[l,n,u,o]);return(0,a.jsx)(ei,{label:t.label,defaultValue:(null!=s?s:t.default).toString(),units:t.units,unit:t.unit,onValueChange:r})},lp={update:"Unable to delete boundary condition"},lf=async(e,l,t,a)=>{let i=k.Z.deepCopy(e),n=i.scheme.configuration.boundaryConditions,s=n[l];s.values=[...s.values.slice(0,t),...s.values.slice(t+1)];let u=!1;Object.keys(n).forEach(e=>{var l;if("index"===e||"title"===e||"done"===e)return;let t=n[e];(null===(l=t.values)||void 0===l?void 0:l.length)&&(u=!0)});let o={...n,done:u};await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","boundaryConditions"],value:o}]),await a.mutateOneSimulation(i)};var lx=e=>{let{type:l,index:t,simulation:n,swr:s}=e,[u,o]=(0,i.useState)(!1),{dispatch:r}=(0,i.useContext)(ev.ZB),{dispatch:d}=(0,i.useContext)(p.uj),m=(0,i.useMemo)(()=>n.scheme.configuration.boundaryConditions,[n]),h=(0,i.useMemo)(()=>m[l],[m,l]),v=(0,i.useMemo)(()=>h.values[t],[h,t]),y=(0,i.useCallback)(async()=>{o(!0);try{await lf(n,l,t,s),r((0,ey.Ys)(v.selected))}catch(e){throw d((0,f.iT)({title:lp.update,err:e})),e}finally{o(!1)}},[n,l,t,s,v,r,d]);return(0,a.jsx)(j.m1,{loading:u,onDelete:y,text:(0,a.jsxs)(a.Fragment,{children:["Are you sure you want to delete the condition"," ",(0,a.jsx)(c.Z.Text,{strong:!0,children:null==v?void 0:v.name}),"?"]})})};let lb=e=>{let{geometries:l,simulation:t,boundaryCondition:n,index:s,type:u,swr:o,_onEdit:r}=e,d=(0,i.useRef)(!1),{dispatch:m}=(0,i.useContext)(ev.ZB),h=(0,i.useMemo)(()=>l.find(e=>e.id===n.geometry),[l,n]),v=(0,i.useMemo)(()=>n.selected,[n.selected]),y=(0,i.useMemo)(()=>(null==h?void 0:h.summary.dimension)===2?"edges":"faces",[h]),p=(0,i.useCallback)(()=>{m((0,ey.wp)()),m((0,ey.Cw)(y)),m((0,ey.rx)(null==h?void 0:h.summary.uuid)),m((0,ey.Ys)(v))},[h,v,y,m]),f=(0,i.useCallback)(()=>{d.current||m((0,ey.h$)())},[m]),x=(0,i.useCallback)(()=>{d.current=!0,r(u,s),setTimeout(()=>d.current=!1,1e3)},[s,u,r]);return(0,a.jsxs)(E.Z,{className:"".concat(L().textAlignCenter," ").concat(eg().listItem),hoverable:!0,onMouseMove:p,onMouseLeave:f,actions:[(0,a.jsx)(j.w6,{onEdit:x},"edit"),(0,a.jsx)(lx,{simulation:t,type:u,index:s,swr:o},"delete")],children:[h?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.Z.Text,{type:"danger",strong:!0,children:[(0,a.jsx)(eh.Z,{})," Geometry not found"]}),(0,a.jsx)("br",{})]}),(0,a.jsx)(c.Z.Text,{strong:!0,className:L().textAlignCenter,children:n.name})," ",(0,a.jsxs)(c.Z.Text,{children:["(",n.type.label,")"]})]})};var lg=e=>{let{geometries:l,simulation:t,swr:n,onEdit:s}=e,u=(0,i.useMemo)(()=>t.scheme.configuration.boundaryConditions,[t]);return(0,a.jsx)(a.Fragment,{children:Object.keys(u).map(e=>{var i;if("index"===e||"title"===e||"done"===e)return;let o=u[e];return null===(i=o.values)||void 0===i?void 0:i.map((i,u)=>(0,a.jsx)(lb,{geometries:l,simulation:t,boundaryCondition:i,index:u,type:e,swr:n,_onEdit:s},i.uuid))}).filter(e=>e)})};let lj={name:"You need to define a name",type:"You need to select a type",selected:"You need to select a face",update:"Unable to add boundary condition"},lC=async(e,l,t)=>{var a;let i={...l},n=i.type.key;i.uuid=(0,eV.Z)();let s=k.Z.deepCopy(e),u=s.scheme.configuration.boundaryConditions,o=u[n];o.values=[...null!==(a=o.values)&&void 0!==a?a:[],i];let r={...u,done:!0};await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","boundaryConditions"],value:r}]),await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","run"],value:{...s.scheme.configuration.run,done:!1}}]),await t.mutateOneSimulation(s)};var lk=e=>{let{simulation:l,boundaryCondition:t,swr:n,onError:s,onClose:u}=e,[o,r]=(0,i.useState)(!1),{dispatch:d}=(0,i.useContext)(p.uj),c=(0,i.useCallback)(()=>{(0,b.u)(async()=>{r(!0);try{var e,a;if(!t.name){s(lj.name),r(!1);return}if(!(null===(e=t.type)||void 0===e?void 0:e.key)){s(lj.type),r(!1);return}if(!(null===(a=t.selected)||void 0===a?void 0:a.length)){s(lj.selected),r(!1);return}s(),await lC(l,t,n),r(!1),u()}catch(e){d((0,f.iT)({title:lj.update,err:e})),r(!1)}})},[l,t,n,s,u,d]);return(0,a.jsx)(j.HS,{loading:o,onAdd:c,needMargin:!0,children:"Add"})};let lZ={name:"You need to define a name",type:"You need to select a type",selected:"You need to select a face",update:"Unable to edit boundary condition"},lw=async(e,l,t,a)=>{let i=k.Z.deepCopy(e),n=i.scheme.configuration.boundaryConditions,s=l.type.key,u=t.type.key;if(u!==s){let e=n[u],l=e.values.findIndex(e=>e.uuid===t.uuid);e.values=[...e.values.slice(0,l),...e.values.slice(l+1)]}if(u!==s){var o;let e=n[s];e.values=[...null!==(o=e.values)&&void 0!==o?o:[],l]}else{let e=n[s],t=e.values.findIndex(e=>e.uuid===l.uuid);e.values=[...e.values.slice(0,t),l,...e.values.slice(t+1)]}let r={...n};await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","boundaryConditions"],value:r}]),await a.mutateOneSimulation(i)};var lS=e=>{let{simulation:l,boundaryCondition:t,oldBoundaryCondition:n,swr:s,onError:u,onClose:o}=e,[r,d]=(0,i.useState)(!1),{dispatch:c}=(0,i.useContext)(p.uj),m=(0,i.useCallback)(()=>{(0,b.u)(async()=>{d(!0);try{var e,a;if(!t.name){u(lZ.name),d(!1);return}if(!(null===(e=t.type)||void 0===e?void 0:e.key)){u(lZ.type),d(!1);return}if(!(null===(a=t.selected)||void 0===a?void 0:a.length)){u(lZ.selected),d(!1);return}u(),await lw(l,t,n,s),d(!1),o()}catch(e){c((0,f.iT)({title:lZ.update,err:e})),d(!1)}})},[l,t,n,s,u,o,c]);return(0,a.jsx)(j.w6,{loading:r,onEdit:m,primary:!0,needMargin:!0,children:"Edit"})};let lE=e=>{let{simulation:l,dimension:t,values:n,child:s,index:u,_onValueChange:o,_onCheckedChange:r,_onUnitChange:d}=e,c=(0,i.useMemo)(()=>l.scheme.variables,[l.scheme.variables]),m=(0,i.useMemo)(()=>n[u].value,[n,u]),h=(0,i.useMemo)(()=>n.length>1?n[u].checked:void 0,[n,u]),v=(0,i.useMemo)(()=>{var e;return null!==(e=n[u].unit)&&void 0!==e?e:s.unit},[n,u,s]),y=(0,i.useCallback)(e=>o(u,e),[u,o]),p=(0,i.useCallback)(e=>r(u,e),[u,r]),f=(0,i.useCallback)(e=>d(u,e),[u,d]);return(0,a.jsx)(ei,{dimension:t,label:s.label,defaultValue:null!=m?m:String(s.default),defaultChecked:h,additionalKeywords:c,units:s.units,unit:v,onValueChange:y,onCheckedChange:p,onUnitChange:f})};var lT=e=>{let{geometries:l,simulation:t,value:n,swr:s,onClose:u}=e,[o,d]=(0,i.useState)(),[m,h]=(0,i.useState)(),[v,y]=(0,i.useState)(),[p,f]=(0,i.useState)(),[x,b]=(0,i.useState)(),[g,C]=(0,i.useState)(),[k,Z]=(0,i.useState)(),[w,S]=(0,i.useState)(),{dispatch:N}=(0,i.useContext)(ev.ZB),M=(0,i.useMemo)(()=>t.scheme.configuration.boundaryConditions,[t]),O=(0,i.useMemo)(()=>{let e=Object.keys(M).map(e=>{var l;if("index"===e||"title"===e||"done"===e)return;let t=M[e];return null==t?void 0:null===(l=t.values)||void 0===l?void 0:l.map(e=>{if(e.uuid!==o)return{label:e.name,selected:e.selected}}).filter(e=>e)}).flat().filter(e=>e);return e},[M,o]),A=(0,i.useMemo)(()=>{let e=Object.keys(M).map(e=>{if("index"===e||"title"===e||"done"===e)return;let l=M[e];return{key:e,label:l.label}}).filter(e=>e);return e},[M]),I=(0,i.useCallback)(e=>{let l=e.target.value;h(l)},[]),R=(0,i.useCallback)(e=>{var l;let t=e.target.value,a=A.find(e=>e.key===t);y(a);let i=M[t],n=null===(l=i.children)||void 0===l?void 0:l.map(e=>({checked:!0,value:e.default}));Z(null!=n?n:[])},[M,A]),U=(0,i.useCallback)((e,l)=>{Z([...k.slice(0,e),{...k[e],value:l},...k.slice(e+1)])},[k]),z=(0,i.useCallback)((e,l)=>{Z([...k.slice(0,e),{...k[e],checked:l},...k.slice(e+1)])},[k]),F=(0,i.useCallback)((e,l)=>{Z([...k.slice(0,e),{...k[e],unit:l},...k.slice(e+1)])},[k]),B=(0,i.useCallback)(e=>{C(e)},[]),V=(0,i.useCallback)(e=>{let t=l.find(l=>l.id===e);f(t);let a=t.summary.dimension;b(a),N((0,ey.wp)()),N((0,ey.Cw)(2===a?"edges":"faces")),N((0,ey.rx)(t.summary.uuid))},[l,N]),H=(0,i.useCallback)(()=>{u(),N((0,ey.h$)())},[u,N]),W=(0,i.useMemo)(()=>{if(!v)return;let e=M[v.key],l=e.children;if(l)return(0,a.jsx)(E.Z,{children:l.map((e,l)=>{if(2!==x||!e.only3D)return(0,a.jsx)(lE,{simulation:t,dimension:x,values:k,child:e,index:l,_onValueChange:U,_onCheckedChange:z,_onUnitChange:F},e.label)})})},[t,M,v,x,k,U,z,F]),D=(0,i.useMemo)(()=>{let e=0;return Object.keys(M).forEach(l=>{var t,a;if("index"===l||"title"===l||"done"===l)return;let i=M[l];e+=null!==(a=null===(t=i.values)||void 0===t?void 0:t.length)&&void 0!==a?a:0}),e},[M]);return(0,i.useEffect)(()=>{var e;o||d(null!==(e=null==n?void 0:n.uuid)&&void 0!==e?e:"add")},[n,o]),(0,i.useEffect)(()=>{m||((null==n?void 0:n.name)?h(n.name):h("Boundary condition "+(D+1)))},[n,m,D]),(0,i.useEffect)(()=>{var e;if(p)return;let t=null!==(e=null==n?void 0:n.geometry)&&void 0!==e?e:l[0].id;V(t)},[l,n,p,V]),(0,i.useEffect)(()=>{v||y(null==n?void 0:n.type)},[n,v]),(0,i.useEffect)(()=>{var e;k||Z(null!==(e=null==n?void 0:n.values)&&void 0!==e?e:[])},[n,k]),(0,a.jsx)(ek.Z,{className:e$().subPanel,title:"Boundary condition",placement:"left",closable:!1,open:!0,mask:!1,maskClosable:!1,width:300,extra:(0,a.jsx)(P(),{type:"text",icon:(0,a.jsx)(eZ.default,{}),onClick:H}),footer:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,a.jsx)(j.Lw,{onCancel:H}),n?(0,a.jsx)(lS,{boundaryCondition:{uuid:o,name:m,type:v,geometry:null==p?void 0:p.id,selected:g,values:k},oldBoundaryCondition:n,simulation:t,swr:s,onError:S,onClose:u}):(0,a.jsx)(lk,{boundaryCondition:{uuid:o,name:m,type:v,geometry:null==p?void 0:p.id,selected:g,values:k},simulation:t,swr:s,onError:S,onClose:u})]}),children:(0,a.jsxs)(T.default,{direction:"vertical",className:L().fullWidth,children:[(0,a.jsx)(E.Z,{size:"small",children:(0,a.jsx)(_.Z,{layout:"vertical",children:(0,a.jsx)(_.Z.Item,{label:(0,a.jsx)(c.Z.Text,{strong:!0,children:"Boundary condition name"}),children:(0,a.jsx)(Y.default,{value:null!=m?m:"",onChange:I,maxLength:50})})})}),(0,a.jsx)(E.Z,{size:"small",children:(0,a.jsx)(_.Z,{layout:"vertical",children:(0,a.jsx)(_.Z.Item,{label:(0,a.jsx)(c.Z.Text,{strong:!0,children:"Boundary condition type"}),children:(0,a.jsx)($.default.Group,{optionType:"button",buttonStyle:"solid",value:null==v?void 0:v.key,onChange:R,children:null==A?void 0:A.map(e=>(0,a.jsx)($.default.Button,{value:e.key,children:e.label},e.key))})})})}),W,(0,a.jsx)(r.default,{items:l.map(e=>({key:e.id,label:e.name,children:(0,a.jsx)(e_,{geometry:e,alreadySelected:O,updateSelected:B})})),activeKey:null==p?void 0:p.id,onChange:V}),w&&(0,a.jsxs)(c.Z.Text,{children:[(0,a.jsx)(ew.Z,{style:{color:"red"}})," ",w]})]})})},lN=t(94704),lM=t(46650),lP=t(25256),lO=t(97935),lA=t(9470);let lL={name:"You need to define a name",point:"You need to select a point",formula:"You need to define a formula",update:"Unable to update simulation"},lI=async(e,l,t)=>{let a=k.Z.deepCopy(e),i=a.scheme.configuration.run,n=l.index;delete l.index,i.sensors[n]=l,await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","run"],value:i}]),await t.mutateOneSimulation(a)};var lR=e=>{let{simulation:l,sensor:t,onError:n,onClose:s,swr:u}=e,[o,r]=(0,i.useState)(),{dispatch:d}=(0,i.useContext)(p.uj),c=(0,i.useCallback)(()=>{(0,b.u)(async()=>{r(!0);try{if(!t.name){n(lL.name),r(!1);return}if(!t.point){n(lL.point),r(!1);return}if(!t.formula){n(lL.formula),r(!1);return}n(),await lI(l,t,u),r(!1),s()}catch(e){d((0,f.iT)({title:lL.update,err:e})),r(!1)}})},[l,t,n,s,u,d]);return(0,a.jsx)(j.w6,{loading:o,primary:!0,needMargin:!0,onEdit:c,children:"Edit"})};let lU={name:"You need to define a name",point:"You need to select a point",formula:"You need to define a formula",update:"Unable to update simulation"},l_=async(e,l,t)=>{var a;let i=k.Z.deepCopy(e),n=i.scheme.configuration.run,s={...n,sensors:[...null!==(a=n.sensors)&&void 0!==a?a:[],l]};await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","run"],value:s}]),await t.mutateOneSimulation(i)};var lY=e=>{let{simulation:l,sensor:t,onError:n,onClose:s,swr:u}=e,[o,r]=(0,i.useState)(),{dispatch:d}=(0,i.useContext)(p.uj),c=(0,i.useCallback)(()=>{(0,b.u)(async()=>{r(!0);try{if(!t.name){n(lU.name),r(!1);return}if(!t.point){n(lU.point),r(!1);return}if(!t.formula){n(lU.formula),r(!1);return}n(),await l_(l,t,u),r(!1),s()}catch(e){d((0,f.iT)({title:lU.update,err:e})),r(!1)}})},[l,t,n,s,u,d]);return(0,a.jsx)(j.HS,{loading:o,needMargin:!0,onAdd:c,children:"Add"})},lz=e=>{var l,t,n;let{visible:s,geometries:u,simulation:o,sensor:m,onClose:h,swr:v}=e,[y,p]=(0,i.useState)(),[f,b]=(0,i.useState)(),[g,C]=(0,i.useState)(),[k,Z]=(0,i.useState)(),w=(0,i.useMemo)(()=>o.scheme.configuration.dimension,[o]),S=(0,i.useMemo)(()=>o.scheme.variables,[o]),{point:N,dispatch:M}=(0,i.useContext)(ev.ZB);(0,x.Z)(()=>{var e;M((0,ey.rx)(null===(e=u[0])||void 0===e?void 0:e.summary.uuid)),C(null==m?void 0:m.geometry)},[u,m],[M]),(0,x.Z)(()=>{M((0,ey.Cw)("point"))},[M]),(0,x.Z)(()=>{if(!m){let e=o.scheme.configuration.run;b(l=>({...l,name:"Sensor "+(e.sensors?e.sensors.length+1:1)}))}},[o,m]),(0,x.Z)(()=>{m&&(b(m),M((0,ey.N7)({x:m.point.x,y:m.point.y,z:m.point.z})))},[m],[M]),(0,x.Z)(()=>{N&&b(e=>({...e,point:N}))},[N]);let O=(0,i.useCallback)(()=>{p(!1),M((0,ey.h$)()),window.removeEventListener("click",O)},[M]),A=(0,i.useCallback)(()=>{y?O():(p(!0),M((0,ey.wp)()),setTimeout(()=>window.addEventListener("click",O),50))},[y,O,M]),I=(0,i.useCallback)(e=>{C(e);let l=u.find(l=>l.id===e);M((0,ey.rx)(l.summary.uuid)),b(l=>({...l,geometry:e}))},[u,M]),R=(0,i.useCallback)((e,l,t)=>{M((0,ey.N7)({x:e,y:l,z:t}))},[M]),U=(0,i.useCallback)(e=>{b(l=>({...l,formula:e}))},[]),_=(0,i.useCallback)(()=>{b(void 0),Z(void 0),M((0,ey.N7)()),M((0,ey.h$)()),h()},[M,h]),z=(0,i.useCallback)(e=>{b(l=>({...l,name:e.target.value}))},[]),F=(0,i.useCallback)(e=>{var l,t;return R(+e,null!==(l=null==N?void 0:N.y)&&void 0!==l?l:0,null!==(t=null==N?void 0:N.z)&&void 0!==t?t:0)},[N,R]),B=(0,i.useCallback)(e=>{var l,t;return R(null!==(l=null==N?void 0:N.x)&&void 0!==l?l:0,+e,null!==(t=null==N?void 0:N.z)&&void 0!==t?t:0)},[N,R]),V=(0,i.useCallback)(e=>{var l,t;return R(null!==(l=null==N?void 0:N.x)&&void 0!==l?l:0,null!==(t=null==N?void 0:N.y)&&void 0!==t?t:0,+e)},[N,R]);return(0,a.jsx)(ek.Z,{title:"Sensor",placement:"left",closable:!1,open:s,mask:!1,maskClosable:!1,width:300,extra:(0,a.jsx)(P(),{type:"text",icon:(0,a.jsx)(eZ.default,{}),onClick:_}),footer:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,a.jsx)(j.Lw,{onCancel:_}),m?(0,a.jsx)(lR,{simulation:o,sensor:{...m,...f},onError:Z,onClose:_,swr:v}):(0,a.jsx)(lY,{simulation:o,sensor:f,onError:Z,onClose:_,swr:v})]}),children:(0,a.jsxs)(T.default,{direction:"vertical",className:L().fullWidth,children:[(0,a.jsxs)(E.Z,{size:"small",children:[(0,a.jsx)(c.Z.Text,{children:"Name"}),(0,a.jsx)(Y.default,{value:null==f?void 0:f.name,onChange:z})]}),(0,a.jsxs)(E.Z,{size:"small",children:[(0,a.jsx)(r.default,{items:u.map(e=>({key:e.id,label:e.name})),activeKey:g,onChange:I}),(0,a.jsxs)(T.default,{direction:"vertical",className:L().fullWidth,children:[(0,a.jsxs)(T.default,{className:L().fullWidth,style:{justifyContent:"space-between"},children:[(0,a.jsx)(c.Z.Text,{children:"Point selection"}),(0,a.jsx)(d.default,{title:"Pin in the geometry",children:(0,a.jsx)(P(),{size:"small",type:y?"primary":"default",icon:(0,a.jsx)(lA.Z,{}),onClick:A})})]}),(0,a.jsx)(ei,{label:"X",noLarge:!0,defaultValue:null==f?void 0:null===(l=f.point)||void 0===l?void 0:l.x,onValueChange:F}),(0,a.jsx)(ei,{label:"Y",noLarge:!0,defaultValue:null==f?void 0:null===(t=f.point)||void 0===t?void 0:t.y,onValueChange:B}),(0,a.jsx)(ei,{label:"Z",noLarge:!0,defaultValue:null==f?void 0:null===(n=f.point)||void 0===n?void 0:n.z,onValueChange:V})]})]}),(0,a.jsx)(E.Z,{size:"small",className:L().noBorderBottom,children:(0,a.jsx)(ei,{label:"Formula",dimension:w,defaultValue:null==f?void 0:f.formula,additionalKeywords:S,onValueChange:U})}),k&&(0,a.jsxs)(c.Z.Text,{children:[(0,a.jsx)(ew.Z,{style:{color:"red"}})," ",k]})]})})};let lF={update:"Unable to update simulation"},lB=async(e,l,t)=>{let a=k.Z.deepCopy(e),i=a.scheme.configuration.run;i.sensors=[...i.sensors.slice(0,l),...i.sensors.slice(l+1)],await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","run"],value:i}]),await t.mutateOneSimulation(a)};var lV=e=>{let{simulation:l,index:t,swr:n}=e,[s,u]=(0,i.useState)(),{dispatch:o}=(0,i.useContext)(ev.ZB),{dispatch:r}=(0,i.useContext)(p.uj),d=(0,i.useMemo)(()=>l.scheme.configuration.run,[l]),m=(0,i.useMemo)(()=>d.sensors[t],[t,d]),h=(0,i.useCallback)(async()=>{u(!0);try{await lB(l,t,n),o((0,ey.N7)())}catch(e){r((0,f.iT)({title:lF.update,err:e}))}finally{u(!1)}},[l,t,n,o,r]);return(0,a.jsx)(j.m1,{loading:s,text:(0,a.jsxs)(a.Fragment,{children:["Are you sure you want to delete the sensor"," ",(0,a.jsx)(c.Z.Text,{strong:!0,children:m.name})]}),onDelete:h})};let lH=e=>{let{simulation:l,sensor:t,index:n,_onEdit:s,swr:u}=e,{dispatch:o}=(0,i.useContext)(ev.ZB),r=(0,i.useCallback)(()=>{o((0,ey.wp)()),o((0,ey.N7)(t.point))},[t,o]),d=(0,i.useCallback)(()=>{o((0,ey.h$)()),o((0,ey.N7)())},[o]),m=(0,i.useCallback)(()=>s({...t,index:n}),[t,n,s]);return(0,a.jsx)(E.Z,{className:"".concat(L().textAlignCenter," ").concat(eg().listItem),hoverable:!0,onMouseEnter:r,onMouseLeave:d,actions:[(0,a.jsx)(j.w6,{onEdit:m},"edit"),(0,a.jsx)(lV,{simulation:l,index:n,swr:u},"delete")],children:(0,a.jsx)(c.Z.Text,{strong:!0,className:L().textAlignCenter,children:t.name})})};var lW=e=>{var l;let{simulation:t,onEdit:n,swr:s}=e,u=(0,i.useMemo)(()=>t.scheme.configuration.run,[t]);return(0,a.jsx)(a.Fragment,{children:null===(l=u.sensors)||void 0===l?void 0:l.map((e,l)=>(0,a.jsx)(lH,{simulation:t,sensor:e,index:l,_onEdit:n,swr:s},e.name))})},lD=e=>{let{geometries:l,simulation:t,setVisible:n,setResults:s,setPostprocessing:u,swr:o}=e,[r,d]=(0,i.useState)(),[c,m]=(0,i.useState)(),h=(0,i.useCallback)(()=>{s([]),u(void 0),m(void 0),n(!1),d(!0)},[n,s,u]),v=(0,i.useCallback)(e=>{s([]),u(void 0),m(e),n(!1),d(!0)},[n,s,u]),y=(0,i.useCallback)(()=>{m(void 0),n(!0),d(!1)},[n]);return(0,a.jsxs)(E.Z,{size:"small",title:"Sensors",children:[(0,a.jsx)(lz,{visible:r,geometries:l,simulation:t,sensor:c,onClose:y,swr:o}),(0,a.jsxs)(T.default,{direction:"vertical",className:L().fullWidth,children:[(0,a.jsx)(P(),{className:L().fullWidth,disabled:!1,type:"primary",icon:(0,a.jsx)(lO.Z,{}),onClick:h,children:"Add a sensor"}),(0,a.jsx)(lW,{simulation:t,onEdit:v,swr:o})]})]})},lG=t(5152),lK=t.n(lG),lq=t(11163),lJ=t(72078),l$=t(9160),lQ=t(66769);let lX={plugins:"Plugins error",pluginsLoad:"Unable to load plugins",extra:"Unable to execute extra action"},l0=async(e,l)=>await lQ.Z.extra(e,l),Plugin=e=>{let{plugin:l,parallel:n,onOk:s,setVisible:u}=e,o=lK()(()=>t(64546)("./".concat(l.key,"/src/components"))),r=(0,i.useCallback)(e=>{(0,b.u)(async()=>{y()(l,e),await s(l),u(!1)})},[l,s,u]);return(0,a.jsx)(E.Z,{title:l.configuration.name.value,children:(0,a.jsx)(o,{data:l.data,parallel:n,onSelect:r})},l.uuid)},l1=e=>{let{pluginsList:l,plugins:t,parallel:n,onOk:s,setVisible:u}=e,o=(0,i.useMemo)(()=>t.length,[t]);return o?(0,a.jsx)(T.default,{direction:"vertical",children:t.map(e=>{let t=l.find(l=>l.key===e.key);return t?(0,a.jsx)(Plugin,{plugin:e,parallel:n,onOk:s,setVisible:u},e.uuid):null})}):null};var l5=e=>{var l;let{disabled:t,parallel:n,cloudServer:s,onOk:o}=e,[r,m]=(0,i.useState)(!1),[h,v]=(0,i.useState)([]),{dispatch:y}=(0,i.useContext)(p.uj),x=(0,lq.useRouter)(),[g,{errorPlugins:C}]=lQ.Z.usePlugins();(0,i.useEffect)(()=>{C&&y((0,f.iT)({title:lX.plugins,err:C}))},[C,y]),(0,i.useEffect)(()=>{(0,b.u)(async()=>{try{let e=await w.Z.list(),l=e.filter(e=>"HPC"===e.category);v(l)}catch(e){y((0,f.iT)({title:lX.pluginsLoad,err:e}))}})},[y]);let k=(0,i.useCallback)(()=>m(!0),[]),Z=(0,i.useCallback)(()=>m(!1),[]),S=(0,i.useCallback)(()=>{(0,b.u)(async()=>{await x.push({pathname:"/dashboard",query:{page:"account",tab:"hpc"}})})},[x]),N=(0,i.useCallback)(e=>{(0,b.u)(async()=>{try{await l0(s,e)}catch(e){y((0,f.iT)({title:lX.extra,err:e}))}})},[s,y]),M=(0,i.useMemo)(()=>{let e=null==s?void 0:s.extra;if(!e)return(0,a.jsx)(a.Fragment,{});let l=Object.keys(e).map(l=>{let t=e[l],i="cloud-download"===t.icon?(0,a.jsx)(lJ.Z,{}):null;if("button"===t.type)return(0,a.jsx)(d.default,{title:t.label,children:(0,a.jsx)(P(),{icon:i,onClick:()=>N(t.action)})},t.action)});return(0,a.jsxs)("div",{children:["Custom plugin actions:",(0,a.jsx)("br",{}),l]})},[null==s?void 0:s.extra,N]);return(0,a.jsxs)(E.Z,{size:"small",title:"Computational resource",children:[(0,a.jsx)(u.Z,{open:r,title:"Computational resource",okButtonProps:{disabled:!0,style:{display:"none"}},onCancel:Z,style:{width:"unset"},children:(0,a.jsxs)(T.default,{direction:"vertical",children:[(0,a.jsxs)(c.Z.Text,{children:["Your computational resource does not appear in this list? Create one in your"," ",(0,a.jsx)(j.Qj,{onClick:S,children:"account settings"})]}),(0,a.jsx)(l1,{pluginsList:h,plugins:g,parallel:n,onOk:o,setVisible:m})]})}),(0,a.jsxs)(T.default,{direction:"vertical",className:L().fullWidth,children:[s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.Z.Text,{children:[(0,a.jsx)("span",{className:L().textLight,children:"Plugin:"})," ",s.name]}),(0,a.jsxs)(c.Z.Text,{children:[(0,a.jsx)("span",{className:L().textLight,children:"Name:"})," ",s.configuration.name.value]}),Object.keys(null!==(l=s.inUseConfiguration)&&void 0!==l?l:{}).map(e=>{let l=s.inUseConfiguration[e],t=l.parallelOnly;if(t&&!n)return;let i=l.value;return"boolean"==typeof i&&(i=i?"yes":"no"),(0,a.jsxs)(c.Z.Text,{children:[(0,a.jsxs)("span",{className:L().textLight,children:[l.label,":"]})," ",i]},e)})]}),(0,a.jsx)(P(),{className:L().fullWidth,disabled:t,type:s?"link":"primary",icon:(0,a.jsx)(l$.Z,{}),onClick:k,children:s?"Modify the resource":"Select a resource"}),M]})]})},l2=t(75624),l3=t(47311),l6=t(48764).lW;let l4={log:"Unable to get system log"},l9=async(e,l)=>{let t=await Z.Z.log({id:e.id},l.systemLog),i=l6.from(t.log).toString();u.Z.info({title:"System log",width:"unset",content:(0,a.jsx)("div",{style:{maxHeight:"70vh",overflow:"auto"},children:(0,a.jsx)("pre",{children:(0,a.jsx)("code",{children:(0,l3.ZP)(i.replace(/\n\n/g,"\n").replace(/\n/g,"<br />"))})})})})},l7=e=>{var l,t,n,s;let{simulation:u,step:o,loading:r,setLoading:d}=e,{dispatch:m}=(0,i.useContext)(p.uj),h=(0,i.useCallback)(()=>{(0,b.u)(async()=>{d(!0);try{await l9(u,o)}catch(e){m((0,f.iT)({title:l4.log,err:e}))}finally{d(!1)}})},[u,o,d,m]),v=(0,i.useMemo)(()=>{let e=[];return o.warning&&e.push({key:"warnings",className:eg().warning,label:(0,a.jsx)(c.Z.Text,{type:"warning",children:"Warnings"}),children:(0,l3.ZP)(o.warning.replace(/\n\n/g,"\n").replace(/\n/g,"<br />"))}),o.error&&e.push({key:"errors",className:eg().error,label:(0,a.jsx)(c.Z.Text,{type:"danger",children:"Errors"}),children:(0,l3.ZP)(o.error.replace(/\n\n/g,"\n").replace(/\n/g,"<br />"))}),e},[o]);return(0,a.jsxs)(a.Fragment,{children:[o.systemLog&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P(),{loading:r,onClick:h,children:"Complete log"}),(0,a.jsx)("br",{})]}),o.link&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{href:"https://"+o.link.href,target:"_blank",rel:"noreferrer",children:(0,a.jsx)(P(),{type:"primary",children:o.link.label})}),(0,a.jsx)("br",{})]}),(0,a.jsx)(G.Z,{ghost:!0,items:v}),(0,l3.ZP)(null!==(n=null===(l=o.pluginLog)||void 0===l?void 0:l.replace(/\n\n/g,"\n").replace(/\n/g,"<br />").replace(/Warning:/g,'<span style="color: orange; font-weight: bold;">Info: </span>').replace(/Error:/g,'<span style="color: red; font-weight: bold;">Error:</span>'))&&void 0!==n?n:""),(0,l3.ZP)(null!==(s=null===(t=o.log)||void 0===t?void 0:t.replace(/^PERCENT.*\n?/gm,"").replace(/Info\s*:/g,'<span style="color: blue; font-weight: bold;">Info: </span>').replace(/Error:/g,'<span style="color: red; font-weight: bold;">Error:</span>').replace(/\n\n/g,"\n").replace(/\n/g,"<br />"))&&void 0!==s?s:"")]})};var l8=e=>{let{simulation:l,steps:t}=e,[n,s]=(0,i.useState)(!1),[u,o]=(0,i.useState)(!1),c=(0,i.useCallback)(()=>s(!0),[]),m=(0,i.useCallback)(()=>s(!1),[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ek.Z,{title:"Log",open:n,onClose:m,width:"50%",children:(0,a.jsx)(r.default,{items:null==t?void 0:t.map((e,t)=>({key:""+t,label:e.label,children:(0,a.jsx)(l7,{simulation:l,step:e,loading:u,setLoading:o})}))})}),(0,a.jsx)(d.default,{title:"Log",children:(0,a.jsx)(P(),{disabled:!(null==t?void 0:t.length),icon:(0,a.jsx)(l2.Z,{}),onClick:c})})]})},te=t(42419),tl=t(34265),tt=t(30744),ta=t(85615);let ti={download:"Unable to download file"},tn=async(e,l)=>{let t=await ta.Z.download({id:e.id},{originPath:l.originPath,fileName:l.fileName}),a=await t.blob(),i=window.URL.createObjectURL(new Blob([a])),n=document.createElement("a");n.href=i,n.setAttribute("download",l.name+"."+l.fileName.split(".").pop()),n.click()};var ts=e=>{let{simulation:l,file:t}=e,[n,s]=(0,i.useState)(!1),{dispatch:u}=(0,i.useContext)(p.uj),o=(0,i.useCallback)(()=>{(0,b.u)(async()=>{s(!0);try{await tn(l,t)}catch(e){u((0,f.iT)({title:ti.download,err:e}))}finally{s(!1)}})},[l,t,u]);return(0,a.jsx)(d.default,{title:"Download",children:(0,a.jsx)(P(),{loading:n,icon:(0,a.jsx)(tt.default,{}),onClick:o})})};let tu={archive:"Unable to download archive"},to=async e=>{let l=await ta.Z.archive({id:e.id}),t=await l.blob(),a=window.URL.createObjectURL(new Blob([t])),i=document.createElement("a");i.href=a,i.setAttribute("download",e.scheme.name+".zip"),i.click()};var tr=e=>{let{simulation:l}=e,[t,n]=(0,i.useState)(!1),{dispatch:s}=(0,i.useContext)(p.uj),u=(0,i.useCallback)(()=>{(0,b.u)(async()=>{n(!0);try{await to(l)}catch(e){s((0,f.iT)({title:tu.archive,err:e}))}finally{n(!1)}})},[l,s]);return(0,a.jsx)(j.o6,{loading:t,onDownload:u})};let td=e=>{var l;let{simulation:t,results:n,file:s,setResults:u}=e,o=(0,i.useCallback)(()=>{let e=n.findIndex(e=>e.fileName===s.fileName&&e.name===s.name);if(-1===e){let e=s.geometry,l=n.filter(l=>l.geometry!==e);u([...l,s])}else u([...n.slice(0,e),...n.slice(e+1)])},[n,s,u]),r=(0,i.useMemo)(()=>n.find(e=>e.fileName===s.fileName&&e.name===s.name),[n,s]);return(0,a.jsxs)(T.default,{style:{alignItems:"center"},children:[(0,a.jsx)(P(),{icon:r?(0,a.jsx)(te.default,{style:{color:"#fad114"}}):(0,a.jsx)(tl.default,{}),onClick:o}),(0,a.jsx)(ts,{simulation:{id:t.id},file:{name:s.name,fileName:s.fileName,originPath:s.originPath}}),null===(l=s.name)||void 0===l?void 0:l.replaceAll("_"," ")]})};var tc=e=>{let{simulation:l,results:t,setResults:n}=e,[s,u]=(0,i.useState)(),{singleFiles:r,filteredFiles:d}=(0,i.useMemo)(()=>{var e;let t;if(!l.tasks)return{singleFiles:[],filteredFiles:void 0};let a=l.scheme.configuration,i=[],n=null==a?void 0:null===(e=a.run)||void 0===e?void 0:e.resultsFilter;for(let e of l.tasks)if(e.file&&i.push(e.file),e.files){if(n){let{filteredFiles:l,notFilteredFiles:s}=ln(e.files,n),u=ls(l,n),o=u.map(e=>e.number).filter((e,l,t)=>t.indexOf(e)===l).sort((e,l)=>e-l),r=lu(a,n),d=o.map((e,l)=>{let t=r?e*r:l,a=Math.round(1e15*t)/1e15;return{label:a,value:e}});i.push(...s),t={filtered:!0,name:n.name,files:u,options:d}}else i.push(...e.files)}return{singleFiles:i,filteredFiles:t}},[l]);(0,x.Z)(()=>{!s&&d&&u(null==d?void 0:d.options[0].value)},[d,s]);let c=(0,i.useCallback)(e=>{let l=d.files.filter(l=>l.number===e&&t.find(e=>e.name===l.name));n(l),u(e)},[t,d,n]);return r.length||d?(0,a.jsx)(E.Z,{size:"small",title:"Results",extra:(0,a.jsx)(tr,{simulation:l&&{id:l.id,scheme:l.scheme}}),children:(0,a.jsxs)(T.default,{direction:"vertical",className:L().fullWidth,children:[null==r?void 0:r.map(e=>(0,a.jsx)(td,{simulation:l,results:t,file:e,setResults:n},e.name)),d&&(0,a.jsxs)(a.Fragment,{children:[d.name,(0,a.jsx)(o.default,{className:L().fullWidth,options:d.options,value:s,onChange:c}),d.files.map(e=>{if(e.number===s)return(0,a.jsx)(td,{simulation:l,results:t,file:e,setResults:n},e.name)})]})]})}):(0,a.jsx)(E.Z,{size:"small",children:"No results yet"})};let tm={run:"Unable to run simulation",stop:"Unable to stop simulation",update:"Unable to update simulation"},th=async(e,l,t)=>{let a=k.Z.deepCopy(e),i=e.scheme.configuration;i.run.cloudServer=l,a.scheme.configuration=i,await Z.Z.update({id:e.id},[{key:"scheme",type:"json",method:"set",path:["configuration","run"],value:i.run}]),await t.mutateOneSimulation(a),await t.mutateSimulation(a)},tv=async(e,l)=>await Z.Z.run({id:e.id},l),ty=async e=>await Z.Z.stop({id:e.id});var tp=[{key:"warpByVector",label:"Warp by vector",parameters:[{key:"Vectors",label:"Vectors",rules:[{required:!0,message:"Vectors is required"}]},{key:"ScaleFactor",label:"Scale factor",default:"1",rules:[{required:!0,message:"Scale factor is required"}]}]},{key:"contour",label:"Contour",parameters:[{key:"ContourBy",label:"Contour by",rules:[{required:!0,message:"ContourBy by is required"}]},{key:"isosurface",label:"Isosurface",default:"0",rules:[{required:!0,message:"Isosurface is required"}]}]},{key:"streamTracer",label:"Stream tracer",parameters:[{key:"Vectors",label:"Vectors",rules:[{required:!0,message:"Vectors is required"}]}]}],tf=t(948);let tx=async(e,l,t,a)=>{let i=await (0,tf.R)("/api/postprocessing",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({simulation:e,result:l,filter:t,parameters:a})});return i.json()};var tb={run:tx};let tg={run:"Unable to run filter"},tj=async(e,l,t,a)=>await tb.run(e,l,t,a),tC=e=>{let{simulation:l,postprocessing:t,result:n,setResult:s}=e,u=(0,i.useCallback)(()=>s((null==t?void 0:t.fileName)===n.fileName&&(null==t?void 0:t.name)===n.name?void 0:{type:"postprocessing",...n}),[t,n,s]);return(0,a.jsxs)(T.default,{children:[(0,a.jsx)(P(),{icon:(null==t?void 0:t.fileName)===n.fileName&&(null==t?void 0:t.name)===n.name?(0,a.jsx)(te.default,{className:L().primaryColor}):(0,a.jsx)(tl.default,{}),onClick:u}),(0,a.jsx)(ts,{simulation:{id:l.id},file:{name:n.name,fileName:n.fileName,originPath:n.originPath}}),n.name]},n.glb)},tk=e=>{let{simulation:l,postprocessing:t,results:n,setResult:s}=e,u=(0,i.useMemo)(()=>n.length,[n]);return u?(0,a.jsx)(T.default,{direction:"vertical",className:L().fullWidth,children:n.map(e=>(0,a.jsx)(tC,{simulation:l,postprocessing:t,result:e,setResult:s},e.glb))}):(0,a.jsx)(a.Fragment,{children:"No results"})},tZ={plugins:"Unable to load plugins",update:"Unable to update simulation"},tw=async e=>{let l=await w.Z.list();return tS(e,C.Z,l)},tS=(e,l,t)=>{let a=l;return t.forEach(l=>{var t;(null===(t=e.authorizedplugins)||void 0===t?void 0:t.includes(l.key))&&"Model"===l.category&&(a=[...a,...l.models])}),a},tE=(e,l)=>{if(!(null==l?void 0:l.length))return!0;if(Array.isArray(e)){let t=l.filter(l=>e.includes(l));return t.length==l.length}return!!(1===l.length&&l.includes(e))},tT=async(e,l,t)=>{let a=l.find(l=>{var t;return l.algorithm===(null==e?void 0:null===(t=e.scheme)||void 0===t?void 0:t.algorithm)}),i=k.Z.deepCopy(e);y()(i.scheme,a),await Z.Z.update({id:e.id},[{key:"scheme",value:i.scheme}]),await t.mutateOneSimulation(i)};var tN={Selector:e=>{let{visible:l,user:t,title:m,okText:h,onOk:v,onCancel:y,onDelete:C}=e,[Z,w]=(0,i.useState)(),[S,E]=(0,i.useState)(),[T,N]=(0,i.useState)(!1),[M,P]=(0,i.useState)([]),[O,A]=(0,i.useState)([]),{dispatch:I}=(0,i.useContext)(p.uj);(0,x.Z)(()=>{(0,b.u)(async()=>{try{let e=await tw(t);P(e)}catch(e){I((0,f.iT)({title:tZ.plugins,err:e})),P([])}})},[t],[I]);let R=(0,i.useMemo)(()=>{let e=M.map(e=>e.category).flat().filter((e,l,t)=>t.indexOf(e)===l).map(e=>({key:e,value:e}));return e},[M]),U=(0,i.useCallback)(e=>{let{key:l}=e;w(l);let t=M.find(e=>e.algorithm===l);E({model:t})},[M]),_=(0,i.useCallback)(e=>{let{key:l}=e,a=l.split("&").pop();w(a);let i=t.usermodels.find(e=>e.model.algorithm===a);E(k.Z.deepCopy(i))},[t]),Y=(0,i.useCallback)(()=>{(0,b.u)(async()=>{if(N(!0),S)try{await v(S)}catch(e){}N(!1),E(void 0),w(void 0)})},[S,v]),z=(0,i.useCallback)(()=>{E(void 0),w(void 0),y()},[y]),F=(0,i.useMemo)(()=>{let e=[{key:"category",disabled:!0,label:(0,a.jsx)(o.default,{mode:"multiple",className:L().fullWidth,options:R,allowClear:!0,suffixIcon:null,placeholder:"Category filter",onChange:A,value:O,style:{textOverflow:"ellipsis"}})}];return M.forEach(l=>{tE(l.category,O)&&e.push({key:l.algorithm,label:l.name})}),e},[M,R,O]),B=(0,i.useMemo)(()=>{let e=[{key:"category",disabled:!0,label:(0,a.jsx)(o.default,{mode:"multiple",className:L().fullWidth,options:R,allowClear:!0,suffixIcon:null,placeholder:"Category filter",onChange:A,value:O})}];return t.usermodels.forEach((l,i)=>{tE(l.model.category,O)&&e.push({key:l.id+"&"+l.model.algorithm,label:(0,a.jsxs)(a.Fragment,{children:[C?(0,a.jsx)(j.m1,{onDelete:async()=>C(i)}):null,(0,a.jsx)(d.default,{title:l.model.name,children:(0,a.jsx)(c.Z.Text,{ellipsis:!0,children:l.model.name})}),l.owners.find(e=>e.id===t.id)?null:(0,a.jsx)("div",{className:"shared",children:k.Z.userToAvatar(l.owners[0])})]})})}),e},[t,R,O,C]);return(0,a.jsx)(u.Z,{open:l,title:null!=m?m:"Create simulation",okText:null!=h?h:"Create",okButtonProps:{loading:T},onOk:Y,onCancel:z,width:"80%",children:(0,a.jsxs)(n.Z,{className:eg().selectorContent,children:[(0,a.jsx)(n.Z.Sider,{theme:"light",width:300,className:eg().selectorSider,children:(0,a.jsx)(r.default,{defaultActiveKey:"tanatloc",items:[{key:"tanatloc",label:"Tanatloc algorithm",children:(0,a.jsx)(s.default,{selectedKeys:Z?[Z]:void 0,mode:"inline",items:F,onClick:U})},{key:"personal",label:"User algorithm",children:(0,a.jsx)(s.default,{selectedKeys:Z?[Z]:void 0,mode:"inline",className:eg().userMenu,items:B,onClick:_})}]})}),(0,a.jsx)(n.Z.Content,{className:eg().selector,children:(0,a.jsx)(g.Z.Html,{html:null==S?void 0:S.model.description})})]})})},Updater:e=>{let{user:l,simulation:t,swr:a}=e,[n,s]=(0,i.useState)([]),{dispatch:o}=(0,i.useContext)(p.uj);return(0,x.Z)(()=>{(0,b.u)(async()=>{try{let e=await tw(l);s(e)}catch(e){o((0,f.iT)({title:tZ.plugins,err:e})),s([])}})},[l],[o]),(0,x.Z)(()=>{let e=n.find(e=>{var l;return e.algorithm===(null==t?void 0:null===(l=t.scheme)||void 0===l?void 0:l.algorithm)});if(e&&(null==t?void 0:t.scheme)){let l=(0,m.Z)(t.scheme,e,{excludedKeys:["value","unit"]}),i=(0,h.Z)(t.scheme,e,{excludedKeys:["value","unit"]});(Object.keys(l).length||Object.keys(i).length)&&(u.Z.info({title:"Update",content:"Your model need an update, please wait.",closable:!1,okButtonProps:{hidden:!0}}),tT(t,n,a).catch(e=>{o((0,f.iT)({title:tZ.update,err:e}))}).finally(()=>u.Z.destroyAll()))}},[t,n,a]),null},About:e=>{let{project:l,simulation:t,swr:i}=e;return l&&t?(0,a.jsx)(n.Z,{children:(0,a.jsx)(n.Z.Content,{children:(0,a.jsx)(E.Z,{size:"small",title:(0,a.jsx)(c.Z.Title,{level:5,ellipsis:!0,children:t.name}),actions:[(0,a.jsx)(U,{project:{id:l.id,simulations:l.simulations},simulation:t,swr:{mutateProject:i.mutateProject,addOneSimulation:i.addOneSimulation}},"copy"),(0,a.jsx)(V,{simulation:{id:t.id,name:t.name},swr:{mutateOneSimulation:i.mutateOneSimulation}},"edit"),(0,a.jsx)(D,{project:{id:l.id,simulations:l.simulations},simulation:{id:t.id,name:t.name},swr:{mutateProject:i.mutateProject,delOneSimulation:i.delOneSimulation}},"delete")],children:(0,a.jsxs)(T.default,{direction:"vertical",className:L().fullWidth,children:[t.scheme.userModelId&&(0,a.jsx)(S.Z,{message:"User algorithm",type:"info",showIcon:!0}),(0,a.jsxs)(c.Z.Text,{children:[(0,a.jsx)("span",{className:L().textLight,children:"Category:"})," ",t.scheme.category]}),(0,a.jsxs)(c.Z.Text,{children:[(0,a.jsx)("span",{className:L().textLight,children:"Algorithm:"})," ",t.scheme.algorithm]}),(0,a.jsxs)(c.Z.Text,{children:[(0,a.jsx)("span",{className:L().textLight,children:"Code:"})," ",t.scheme.code]}),(0,a.jsxs)(c.Z.Text,{children:[(0,a.jsx)("span",{className:L().textLight,children:"Version:"})," ",t.scheme.version]}),(0,a.jsx)("div",{className:"".concat(L().fullWidth," ").concat(L().scroll),children:(0,a.jsx)(g.Z.Html,{html:t.scheme.description})})]})})})}):(0,a.jsx)(E.Z,{children:(0,a.jsx)(N.default,{})})},Geometry:e=>{let{geometries:l,simulation:t,setGeometries:n,swr:s}=e,u=(0,i.useMemo)(()=>t.scheme.configuration.geometry.children,[t.scheme.configuration.geometry.children]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.Z,{size:"small",children:(0,a.jsx)(c.Z.Text,{children:"When changing the simulation domain, you might lose your topological entity assignments"})}),u.map((e,i)=>(0,a.jsx)(ec,{geometries:l,simulation:t,child:e,index:i,setGeometries:n,swr:s},e.label))]})},Materials:e=>{let{geometries:l,simulation:t,swr:s,setVisible:u}=e,[o,r]=(0,i.useState)(),[d,c]=(0,i.useState)(!1),m=(0,i.useMemo)(()=>t.scheme.configuration.materials,[t]),h=(0,i.useMemo)(()=>{let e=l.reduce((e,l)=>(e.find(e=>e.id===l.id)||e.push(l),e),[]);return e},[l]),v=(0,i.useCallback)(()=>{r(void 0),c(!0),u(!1)},[u]),y=(0,i.useCallback)(e=>{let l=m.values[e];r(l),c(!0),u(!1)},[m,u]),p=(0,i.useCallback)(()=>{c(!1),r(void 0),u(!0)},[u]);return h.length?(0,a.jsx)(n.Z,{children:(0,a.jsx)(n.Z.Content,{children:(0,a.jsxs)(E.Z,{size:"small",children:[(0,a.jsx)(j.HS,{onAdd:v,fullWidth:!0,children:"Add material"}),(0,a.jsx)(eC,{geometries:h,simulation:t,swr:s,onEdit:y}),d?(0,a.jsx)(eX,{geometries:h,simulation:t,value:o,swr:s,onClose:p}):null]})})}):(0,a.jsx)(em.Z.Simple,{})},Parameters:e=>{let{simulation:l,swr:t}=e,{dispatch:s}=(0,i.useContext)(p.uj),u=(0,i.useMemo)(()=>null==l?void 0:l.scheme.configuration.parameters,[l]),o=(0,i.useMemo)(()=>null==l?void 0:l.scheme.configuration.dimension,[l]);(0,i.useEffect)(()=>{(0,b.u)(async()=>{try{(null==u?void 0:u.done)||await e7(l,t)}catch(e){s((0,f.iT)({title:e0.update,err:e}))}})},[l,u,t,s]);let r=(0,i.useMemo)(()=>Object.keys(u).map(e=>{if("index"===e||"title"===e||"done"===e)return null;let i=u[e];return i.advanced||i.hidden?null:(0,a.jsx)(li,{simulation:l,dimension:o,pkey:e,parameter:i,swr:t},e)}).filter(e=>e),[l,o,u,t]),d=(0,i.useMemo)(()=>Object.keys(u).map(e=>{if("index"===e||"title"===e||"done"===e)return null;let i=u[e];return!i.advanced||i.hidden?null:(0,a.jsx)(li,{simulation:l,dimension:o,pkey:e,parameter:i,swr:t},e)}).filter(e=>e),[l,o,u,t]);return(0,a.jsx)(n.Z,{children:(0,a.jsx)(n.Z.Content,{children:(0,a.jsxs)(T.default,{direction:"vertical",children:[r,d.length?(0,a.jsx)(G.Z,{items:[{key:"advanced",label:"Advanced",children:(0,a.jsx)(T.default,{direction:"vertical",children:d})}]}):null]})})})},Initialization:e=>{let{simulations:l,simulation:t,swr:s}=e,[u,r]=(0,i.useState)(!1),[d,m]=(0,i.useState)(),[h,v]=(0,i.useState)(),[y,g]=(0,i.useState)(),{dispatch:j}=(0,i.useContext)(p.uj),C=(0,i.useMemo)(()=>null==t?void 0:t.scheme.configuration.initialization,[t]),k=(0,i.useMemo)(()=>null==t?void 0:t.scheme.configuration.dimension,[t]),Z=(0,i.useCallback)(e=>{let t=l.find(l=>l.id===e);v(t)},[l]);(0,x.Z)(()=>{var e,l;!d&&C.value&&m(C.value.type),!h&&(null===(e=C.value)||void 0===e?void 0:e.simulation)&&Z(null===(l=C.value)||void 0===l?void 0:l.simulation)},[C,d,h],[Z]),(0,x.Z)(()=>{(0,b.u)(async()=>{if(h){let e=await lv(l,h.id);g(e)}})},[l,h]);let w=(0,i.useMemo)(()=>{let e=[{label:"None",value:"none"}];return C.coupling&&e.push({label:C.coupling.label,value:"coupling"}),C.direct&&e.push({label:C.direct.label,value:"direct"}),e},[C]),S=C.value,M=(0,i.useCallback)(e=>{(0,b.u)(async()=>{r(!0);try{await ld(l,t,e,s),Z(e)}catch(e){j((0,f.iT)({title:lo.update,err:e}))}finally{r(!1)}})},[l,t,s,Z,j]),P=(0,i.useCallback)((e,l)=>{(0,b.u)(async()=>{try{await lc(t,e,l,s)}catch(e){j((0,f.iT)({title:lo.update,err:e}))}})},[t,s,j]),O=(0,i.useCallback)((e,l)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z.Text,{children:"If you use coupling, the selected simulation mesh will be used, at least for the first iteration."}),(0,a.jsxs)(T.default,{direction:"vertical",className:L().fullWidth,style:{marginTop:"10px"},children:[(0,a.jsx)(o.default,{className:L().fullWidth,options:e,placeholder:"Select a simulation",value:null==S?void 0:S.simulation,onChange:M}),u&&(0,a.jsx)(N.default,{}),(null==y?void 0:y.length)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.Z.Text,{children:[null==l?void 0:l.name,":"]},"simulation"),(0,a.jsx)(o.default,{className:L().fullWidth,options:y,placeholder:"Select a "+l.name,value:null==S?void 0:S.result,onChange:P})]}):(0,a.jsx)(c.Z.Text,{type:"danger",children:"No results, please select an other simulation."})]})]}),[S,y,u,M,P]),A=(0,i.useCallback)(e=>(0,a.jsx)(T.default,{direction:"vertical",className:L().fullWidth,children:e.children.map((e,l)=>{var i;if(2!==k||!e.only3D)return(0,a.jsx)(ly,{simulation:t,child:e,index:l,value:null==S?void 0:null===(i=S.values)||void 0===i?void 0:i[l],swr:s,dispatch:j},e.label)})}),[S,k,t,s,j]),I=(0,i.useMemo)(()=>{let e={none:(0,a.jsx)("div",{})},i=C.coupling;if(null==i?void 0:i.compatibility){let a=l.map(e=>{let l=e.id===t.id||!i.compatibility.find(l=>l.algorithm===e.scheme.algorithm);return{label:e.name,value:e.id,disabled:l}}),n=i.compatibility.find(e=>{var l;return e.algorithm===(null==h?void 0:null===(l=h.scheme)||void 0===l?void 0:l.algorithm)}),s=null==n?void 0:n.filter;e.coupling=O(a,s)}let n=C.direct;return(null==n?void 0:n.children)&&(e.direct=A(n)),e},[l,t,h,C,O,A]),R=(0,i.useCallback)(e=>{(0,b.u)(async()=>{try{await lr(t,e,s),m(e)}catch(e){j((0,f.iT)({title:lo.update,err:e}))}})},[t,s,j]);return(0,a.jsx)(n.Z,{children:(0,a.jsx)(n.Z.Content,{children:(0,a.jsxs)(E.Z,{size:"small",children:[(0,a.jsx)(o.default,{className:L().fullWidth,style:{marginTop:"10px"},defaultValue:"none",value:d,options:w,onChange:R}),I[null!=d?d:"none"]]})})})},BoundaryConditions:e=>{let{simulation:l,geometries:t,swr:s,setVisible:u}=e,[o,r]=(0,i.useState)(),[d,c]=(0,i.useState)(!1),m=(0,i.useMemo)(()=>l.scheme.configuration.boundaryConditions,[l]),h=(0,i.useMemo)(()=>{let e=t.reduce((e,l)=>(e.find(e=>e.id===l.id)||e.push(l),e),[]);return e},[t]),v=(0,i.useCallback)(()=>{r(void 0),c(!0),u(!1)},[u]),y=(0,i.useCallback)((e,l)=>{let t=m[e],a=t.values[l];r(a),c(!0),u(!1)},[m,u]),p=(0,i.useCallback)(()=>{c(!1),r(void 0),u(!0)},[u]);return h.length?(0,a.jsx)(n.Z,{children:(0,a.jsx)(n.Z.Content,{children:(0,a.jsxs)(E.Z,{size:"small",children:[(0,a.jsx)(j.HS,{onAdd:v,fullWidth:!0,children:"Add boundary condition"}),(0,a.jsx)(lg,{geometries:h,simulation:l,swr:s,onEdit:y}),d?(0,a.jsx)(lT,{geometries:h,simulation:l,value:o,swr:s,onClose:p}):null]})})}):(0,a.jsx)(em.Z.Simple,{})},Run:e=>{var l;let{geometries:t,simulation:s,results:u,setResults:o,setPostprocessing:r,setVisible:d,swr:c}=e,[m,h]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),{dispatch:x}=(0,i.useContext)(p.uj),[g,{mutateSimulation:j}]=Z.Z.useSimulation(s.id,2e3),C=(0,i.useMemo)(()=>s.scheme.configuration,[s]),k=(0,i.useMemo)(()=>{if("0"!==g.id)return g.scheme.configuration},[g]),w=(0,i.useMemo)(()=>{if(!C)return!0;let e=!1;return Object.keys(C).forEach(l=>{if("dimension"!==l&&"run"!==l){let t=C[l];t.done||(e=!0)}}),C.run.cloudServer||(e=!1),e},[C]),S=(0,i.useMemo)(()=>{if(!C)return!1;let e=C.geometry,l=!0;return e.children.forEach(e=>{e.mesh||(l=!1)}),!!l},[C]),{steps:M,percent:O}=(0,i.useMemo)(()=>{var e;let l;if("0"===g.id)return{steps:[],percent:void 0};let t=[];return null==g||null===(e=g.tasks)||void 0===e||e.forEach((e,a)=>{if(e){if(a===g.tasks.length-1){var i,n;let t=null!==(n=null===(i=e.log)||void 0===i?void 0:i.split("\n"))&&void 0!==n?n:[],a=t.filter(e=>e.startsWith("PERCENT:")).filter(e=>e),s=null==a?void 0:a.pop(),u=s?parseFloat(s.replace("PERCENT: ","").replace("%","")):0;u&&(l=u)}t[e.index]={index:e.index,label:e.label,status:e.status,log:e.log,pluginLog:e.pluginLog,warning:e.warning,error:e.error,systemLog:e.systemLog,link:e.link}}}),{steps:t,percent:l}},[g]);(0,i.useEffect)(()=>{var e,l;if("0"===g.id){h(!1);return}(null==g?void 0:null===(e=g.tasks)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.status)==="error"))?h(!1):(null==g?void 0:null===(l=g.tasks)||void 0===l?void 0:l.find(e=>e&&"finish"!==e.status))?h(!0):h(!1)},[g]);let A=(0,i.useCallback)(async e=>{try{await th(s,e,{...c,mutateSimulation:j})}catch(e){x((0,f.iT)({title:tm.update,err:e}))}},[s,c,j,x]),I=(0,i.useCallback)(e=>y(e.target.checked),[]),R=(0,i.useCallback)(()=>{(0,b.u)(async()=>{h(!0);try{await tv(s,v)}catch(e){x((0,f.iT)({title:tm.run,err:e})),h(!1)}})},[s,v,x]),U=(0,i.useCallback)(()=>{(0,b.u)(async()=>{try{await ty(s),h(!1)}catch(e){x((0,f.iT)({title:tm.stop,err:e}))}})},[s,x]);return s&&g&&(null==g?void 0:g.id)!=="0"?(0,a.jsx)(n.Z,{children:(0,a.jsx)(n.Z.Content,{children:(0,a.jsxs)(T.default,{direction:"vertical",className:L().fullWidth,children:[(0,a.jsx)(lD,{geometries:t,simulation:s,setVisible:d,setResults:o,setPostprocessing:r,swr:{mutateOneSimulation:c.mutateOneSimulation}}),(0,a.jsx)(l5,{disabled:m,parallel:s.scheme.parallel,cloudServer:null==k?void 0:null===(l=k.run)||void 0===l?void 0:l.cloudServer,onOk:A}),(0,a.jsx)(E.Z,{size:"small",title:"Run",children:(0,a.jsxs)(T.default,{direction:"vertical",className:L().fullWidth,size:20,children:[S?(0,a.jsx)(K.default,{checked:v,onChange:I,children:"Keep mesh(es)?"}):null,(0,a.jsxs)("div",{className:L().fullWidth,style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsxs)(T.default,{children:[(0,a.jsx)(P(),{disabled:w,type:"primary",icon:(0,a.jsx)(lM.Z,{}),loading:m,onClick:R,children:"Run"}),(0,a.jsx)(P(),{disabled:!m,danger:!0,icon:(0,a.jsx)(lP.Z,{}),shape:"circle",onClick:U})]}),(0,a.jsx)(l8,{simulation:{id:s.id},steps:M})]}),(0,a.jsx)(lN.Z,{direction:"vertical",current:M.length-1,percent:O,items:M.map((e,l)=>({key:l,title:e.label,description:"("+(l+1)+"/"+M.length+")",status:e.status}))})]})}),(0,a.jsx)(tc,{simulation:g&&{id:g.id,scheme:g.scheme,tasks:g.tasks},results:u,setResults:o})]})})}):(0,a.jsx)(n.Z,{children:(0,a.jsx)(n.Z.Content,{children:(0,a.jsx)(E.Z,{size:"small",children:(0,a.jsx)(N.default,{})})})})},Postprocessing:e=>{let{simulation:l,results:t,postprocessing:n,setResult:s}=e,[u,r]=(0,i.useState)(),[d,c]=(0,i.useState)(),[m,h]=(0,i.useState)(),{postProcessing:v,dispatch:y}=(0,i.useContext)(ev.ZB),{dispatch:x}=(0,i.useContext)(p.uj),g=(0,i.useMemo)(()=>t[0],[t]);(0,i.useEffect)(()=>{l||(r(void 0),h(void 0))},[l]);let j=(0,i.useMemo)(()=>null==l?void 0:l.scheme.configuration.run.postprocessing,[l]),C=(0,i.useMemo)(()=>tp.map(e=>{if(null==j?void 0:j.find(l=>l.key===e.key))return{label:e.label,value:e.key}}).filter(e=>e),[j]),k=(0,i.useMemo)(()=>{if(!j||!u)return;let e=tp.find(e=>e.key===u),l=j.find(e=>e.key===u);if(null==e?void 0:e.parameters)return e.parameters.map((e,t)=>{var i;let n=null==l?void 0:null===(i=l.parameters)||void 0===i?void 0:i.find(l=>l.key===e.key);return(null==n?void 0:n.value)?(0,a.jsx)(_.Z.Item,{label:e.label,name:["parameters",t],initialValue:n.value,rules:e.rules,children:(0,a.jsx)(Y.default,{disabled:!0})},e.key):(null==n?void 0:n.options)?(0,a.jsx)(_.Z.Item,{label:e.label,name:["parameters",t],rules:e.rules,children:(0,a.jsx)(o.default,{options:n.options.map(e=>({label:e,value:e}))})},e.key):(0,a.jsx)(_.Z.Item,{label:e.label,name:["parameters",t],rules:e.rules,initialValue:e.default,children:(0,a.jsx)(Y.default,{})},e.key)})},[j,u]),Z=(0,i.useCallback)(()=>y((0,ey.Ud)(!1)),[y]),w=(0,i.useCallback)(e=>{(0,b.u)(async()=>{c(!0);try{var t;let a=await tj(l,g,u,null!==(t=e.parameters)&&void 0!==t?t:[]);h({filter:u,results:a})}catch(e){x((0,f.iT)({title:tg.run,err:e}))}c(!1)})},[l,g,u,x]);return((0,i.useEffect)(()=>{1!==t.length&&v&&Z()},[t,v,Z]),l&&1===t.length&&j&&C.length)?(0,a.jsxs)(ek.Z,{title:"Post-processing",closable:!0,onClose:Z,open:v,mask:!1,maskClosable:!1,children:[(0,a.jsx)(_.Z,{children:(0,a.jsx)(_.Z.Item,{name:"filter",label:"Filter",children:(0,a.jsx)(o.default,{placeholder:"Select a filter",options:C,onChange:r})})}),(0,a.jsxs)(_.Z,{layout:"vertical",style:{margin:"24px 0"},onFinish:w,children:[k,(0,a.jsx)(_.Z.Item,{children:(0,a.jsx)(P(),{type:"primary",loading:d,htmlType:"submit",icon:(0,a.jsx)(lM.Z,{}),children:"Run"})})]}),m&&(0,a.jsx)(E.Z,{size:"small",title:"Post-processing",extra:m.filter,children:(0,a.jsx)(tk,{simulation:l,postprocessing:n,results:m.results,setResult:s})})]}):null}}},78804:function(e,l,t){"use strict";t.d(l,{CH:function(){return o},Cw:function(){return s},N7:function(){return d},Ud:function(){return m},Ys:function(){return r},a_:function(){return c},h$:function(){return n},rx:function(){return u},wp:function(){return i}});var a=t(54523);let i=()=>({type:a.Hp.ENABLE}),n=()=>({type:a.Hp.DISABLE}),s=e=>({type:a.Hp.SETTYPE,value:e}),u=e=>({type:a.Hp.SETPART,value:e}),o=e=>({type:a.Hp.HIGHLIGHT,value:e}),r=e=>({type:a.Hp.SELECT,value:e}),d=e=>({type:a.Hp.SETPOINT,value:e}),c=e=>({type:a.Hp.SETDATA,value:e}),m=e=>({type:a.Hp.SETPOSTPROCESSING,value:e})},54523:function(e,l,t){"use strict";t.d(l,{Hp:function(){return s},ZB:function(){return u}});var a=t(85893),i=t(67294);let n={enabled:!1,type:void 0,part:void 0,highlighted:void 0,selected:[],point:void 0,data:void 0,postProcessing:void 0,dispatch:()=>void 0},s={ENABLE:"ENABLE",DISABLE:"DISABLE",CLEAR:"CLEAR",SETTYPE:"SETTYPE",SETPART:"SETPART",HIGHLIGHT:"HIGHLIGHT",SELECT:"SELECT",SETPOINT:"SETPOINT",SETDATA:"SETDATA",SETPOSTPROCESSING:"SETPOSTPROCESSING"},u=(0,i.createContext)(n),o=(e,l)=>{switch(l.type){case s.ENABLE:return{...e,enabled:!0};case s.DISABLE:return{...e,enabled:!1,highlighted:void 0,selected:[]};case s.CLEAR:return{...n};case s.SETTYPE:return{...e,type:l.value};case s.SETPART:return{...e,part:l.value};case s.HIGHLIGHT:return{...e,highlighted:l.value};case s.SELECT:return{...e,selected:l.value};case s.SETPOINT:return{...e,point:l.value};case s.SETDATA:return{...e,data:l.value};case s.SETPOSTPROCESSING:return{...e,postProcessing:l.value};default:return e}};l.ZP=e=>{let{children:l}=e,[t,s]=(0,i.useReducer)(o,n),r=(0,i.useMemo)(()=>({...t,dispatch:s}),[t]);return(0,a.jsx)(u.Provider,{value:r,children:l})}},2594:function(e){e.exports={formula:"formula_formula__5J08n",select:"formula_select__yg4qe"}},64098:function(e){e.exports={panel:"panel_panel__0UqOC",subPanel:"panel_subPanel__xW1ud"}},29040:function(e){e.exports={userMenu:"simulation_userMenu__B0_qd",selectorContent:"simulation_selectorContent__NJ9PO",selectorSider:"simulation_selectorSider__gozkv",selector:"simulation_selector__y2Udd",geometriesList:"simulation_geometriesList__Lzj7P",waring:"simulation_waring___VG9C",error:"simulation_error__E54cQ",listItem:"simulation_listItem__PQKrU"}},64546:function(e,l,t){var a={"./local/src/components":[13534,1059,8799,3534]};function i(e){if(!t.o(a,e))return Promise.resolve().then(function(){var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l});var l=a[e],i=l[0];return Promise.all(l.slice(1).map(t.e)).then(function(){return t(i)})}i.keys=function(){return Object.keys(a)},i.id=64546,e.exports=i}}]);