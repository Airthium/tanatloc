(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8322],{90420:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(1413),o=r(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},i=r(42135),a=function(e,t){return o.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:s}))};a.displayName="EyeInvisibleOutlined";var l=o.forwardRef(a)},99611:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(1413),o=r(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},i=r(42135),a=function(e,t){return o.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:s}))};a.displayName="EyeOutlined";var l=o.forwardRef(a)},69677:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(87462),o=r(4942),s=r(94184),i=r.n(s),a=r(67294),l=r(53124),c=r(65223),u=function(e){var t,r=(0,a.useContext)(l.E_),s=r.getPrefixCls,u=r.direction,d=e.prefixCls,p=e.className,m=s("input-group",d),f=i()(m,(t={},(0,o.Z)(t,"".concat(m,"-lg"),"large"===e.size),(0,o.Z)(t,"".concat(m,"-sm"),"small"===e.size),(0,o.Z)(t,"".concat(m,"-compact"),e.compact),(0,o.Z)(t,"".concat(m,"-rtl"),"rtl"===u),t),void 0===p?"":p),v=(0,a.useContext)(c.aM),h=(0,a.useMemo)(function(){return(0,n.Z)((0,n.Z)({},v),{isFormItemInput:!1})},[v]);return a.createElement("span",{className:f,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},a.createElement(c.aM.Provider,{value:h},e.children))},d=r(16591),p=r(97685),m=r(90420),f=r(99611),v=r(98423),h=r(42550),y=r(72922),g=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},w=function(e){return e?a.createElement(f.Z,null):a.createElement(m.Z,null)},x={click:"onClick",hover:"onMouseOver"},Z=a.forwardRef(function(e,t){var r=(0,a.useState)(!1),s=(0,p.Z)(r,2),c=s[0],u=s[1],m=(0,a.useRef)(null),f=(0,y.Z)(m),Z=function(){e.disabled||(c&&f(),u(function(e){return!e}))},j=function(t){var r,n=e.action,s=e.iconRender,i=x[void 0===n?"click":n]||"",l=(void 0===s?w:s)(c),u=(r={},(0,o.Z)(r,i,Z),(0,o.Z)(r,"className","".concat(t,"-icon")),(0,o.Z)(r,"key","passwordIcon"),(0,o.Z)(r,"onMouseDown",function(e){e.preventDefault()}),(0,o.Z)(r,"onMouseUp",function(e){e.preventDefault()}),r);return a.cloneElement(a.isValidElement(l)?l:a.createElement("span",null,l),u)},b=function(r){var s=r.getPrefixCls,l=e.className,u=e.prefixCls,p=e.inputPrefixCls,f=e.size,y=e.visibilityToggle,w=g(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),x=s("input",p),Z=s("input-password",u),b=(void 0===y||y)&&j(Z),C=i()(Z,l,(0,o.Z)({},"".concat(Z,"-").concat(f),!!f)),E=(0,n.Z)((0,n.Z)({},(0,v.Z)(w,["suffix","iconRender"])),{type:c?"text":"password",className:C,prefixCls:x,suffix:b});return f&&(E.size=f),a.createElement(d.ZP,(0,n.Z)({ref:(0,h.sQ)(t,m)},E))};return a.createElement(l.C,null,b)}),j=r(68795),b=r(71577),C=r(97647),E=r(96159),P=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},S=a.forwardRef(function(e,t){var r,s,c=e.prefixCls,u=e.inputPrefixCls,p=e.className,m=e.size,f=e.suffix,v=e.enterButton,y=void 0!==v&&v,g=e.addonAfter,w=e.loading,x=e.disabled,Z=e.onSearch,S=e.onChange,T=e.onCompositionStart,N=e.onCompositionEnd,O=P(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),k=a.useContext(l.E_),_=k.getPrefixCls,q=k.direction,R=a.useContext(C.Z),M=a.useRef(!1),z=m||R,L=a.useRef(null),I=function(e){e&&e.target&&"click"===e.type&&Z&&Z(e.target.value,e),S&&S(e)},A=function(e){var t;document.activeElement===(null===(t=L.current)||void 0===t?void 0:t.input)&&e.preventDefault()},B=function(e){var t,r;Z&&Z(null===(r=null===(t=L.current)||void 0===t?void 0:t.input)||void 0===r?void 0:r.value,e)},F=function(e){M.current||B(e)},D=_("input-search",c),Q=_("input",u),U="boolean"==typeof y?a.createElement(j.Z,null):null,J="".concat(D,"-button"),Y=y||{},H=Y.type&&!0===Y.type.__ANT_BUTTON;s=H||"button"===Y.type?(0,E.Tm)(Y,(0,n.Z)({onMouseDown:A,onClick:function(e){var t,r;null===(r=null===(t=null==Y?void 0:Y.props)||void 0===t?void 0:t.onClick)||void 0===r||r.call(t,e),B(e)},key:"enterButton"},H?{className:J,size:z}:{})):a.createElement(b.Z,{className:J,type:y?"primary":void 0,size:z,disabled:x,key:"enterButton",onMouseDown:A,onClick:B,loading:w,icon:U},y),g&&(s=[s,(0,E.Tm)(g,{key:"addonAfter"})]);var X=i()(D,(r={},(0,o.Z)(r,"".concat(D,"-rtl"),"rtl"===q),(0,o.Z)(r,"".concat(D,"-").concat(z),!!z),(0,o.Z)(r,"".concat(D,"-with-button"),!!y),r),p),G=function(e){M.current=!0,null==T||T(e)},W=function(e){M.current=!1,null==N||N(e)};return a.createElement(d.ZP,(0,n.Z)({ref:(0,h.sQ)(L,t),onPressEnter:F},O,{size:z,onCompositionStart:G,onCompositionEnd:W,prefixCls:Q,addonAfter:s,suffix:f,onChange:I,className:X,disabled:x}))}),T=r(3008),N=d.ZP;N.Group=u,N.Search=S,N.TextArea=T.Z,N.Password=Z;var O=N},33124:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/password",function(){return r(74562)}])},37404:function(e,t,r){"use strict";r.d(t,{JT:function(){return s},ah:function(){return a},nq:function(){return o},tE:function(){return i},yL:function(){return n}}),r(83454).env.AUTH_SECRET||Array(33).join("a");let n=6,o=16,s=!0,i=!0,a=!0},40287:function(e,t,r){"use strict";r.d(t,{EQ:function(){return s},kD:function(){return n},x_:function(){return o}}),r(83454).env.EMAIL_TOKEN;let n="subscribe",o="passwordRecovery",s="revalidate"},11425:function(e,t,r){"use strict";r.d(t,{R:function(){return c},_:function(){return l}});var n=r(59134),o=r.n(n),s=r(83454);let i=s.env.PORT?parseInt(s.env.PORT):3e3,a=o()()?"http://localhost:"+i:"",l=async(e,t)=>{let r=await fetch(a+e,{method:t?"POST":"GET",headers:{accept:"application/json","Content-Type":"application/json"},...t&&{body:t}}),n=r.headers.get("Content-Type");if(!r.ok){let o=Error("An error occured while fetching data.");throw o.info=(null==n?void 0:n.includes("application/json"))&&await r.json(),o.status=r.status,o}return r.json()},c=async(e,t)=>{let r=await fetch(a+e,{...t,method:t&&t.method||"GET",headers:{...t&&t.headers,"Content-Type":"application/json"}}),n=r.headers.get("Content-Type");if(!r.ok){let o=Error("An error occured while fetching data.");throw o.info=(null==n?void 0:n.includes("application/json"))&&await r.json(),o.status=r.status,o}return r}},4415:function(e,t,r){"use strict";r.d(t,{H:function(){return n}});class n extends Error{constructor(e){super(e.title),this.title=e.title,this.name="APIError",this.render=e.render,this.err=e.err,this.type=e.type||"error"}}},26554:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(11425);let o=async(e,t)=>{let r=await (0,n.R)("/api/link",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({id:e,data:t})});return r.json()},s=async(e,t)=>{await (0,n.R)("/api/link",{method:"PUT",body:JSON.stringify({id:e,data:t})})};var i={get:o,process:s}},92288:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(8100),o=r(67294),s=r(11425);let i=()=>{let{data:e,error:t,mutate:r}=(0,n.ZP)("/api/system",s._),i=(null==e?void 0:e.system)||{},a=(0,o.useCallback)(e=>{r({system:{...i,...e}})},[i,r]);return[i,{mutateSystem:a,errorSystem:t,loadingSystem:!e}]},a=async e=>{await (0,s.R)("/api/system",{method:"PUT",body:JSON.stringify(e)})};var l={useSystem:i,update:a}},47455:function(e,t,r){"use strict";r.d(t,{o:function(){return g}});var n=r(85893),o=r(81579),s=r(69677),i=r(37404),a=r(92288);let l={password:"Please enter a password",passwordTooSmall:e=>"Your password is too small (minimum "+e+" characters)",passwordTooLong:e=>"Your password is too long (maximum "+e+" characters)",passwordRequireLetter:"Your password must contain a letter",passwordRequireNumber:"Your password must contain a number",passwordRequireSymbol:"Your password must contain a symbol"},c=(e,t)=>!(t.length<e),u=(e,t)=>!(t.length>e),d=(e,t)=>-1!==e.search(t),p=(e,t)=>{var r,n;return(null!==(n=null==e?void 0:null===(r=e.password)||void 0===r?void 0:r.requireLetter)&&void 0!==n?!n:!i.JT)||d(t,/[a-zA-Z]/)},m=(e,t)=>{var r,n;return(null!==(n=null==e?void 0:null===(r=e.password)||void 0===r?void 0:r.requireNumber)&&void 0!==n?!n:!i.tE)||d(t,/\d/)},f=(e,t)=>{var r,n;return(null!==(n=null==e?void 0:null===(r=e.password)||void 0===r?void 0:r.requireSymbol)&&void 0!==n?!n:!i.ah)||d(t,/[!@#$%^&*(){}[\]<>?/|.:;_-]/)},v=(e,t,r,n)=>{c(e,r)||n.push(l.passwordTooSmall(e)),u(t,r)||n.push(l.passwordTooLong(t))},h=(e,t,r)=>{p(e,t)||r.push(l.passwordRequireLetter),m(e,t)||r.push(l.passwordRequireNumber),f(e,t)||r.push(l.passwordRequireSymbol)},y=e=>{var t,r,c,u;let{labelCol:d,wrapperCol:p,name:m,label:f,inputPlaceholder:y,inputAutoComplete:g,edit:w,style:x,required:Z,className:j}=e,[b]=a.Z.useSystem(),C=null!==(c=null==b?void 0:null===(t=b.password)||void 0===t?void 0:t.min)&&void 0!==c?c:i.yL,E=null!==(u=null==b?void 0:null===(r=b.password)||void 0===r?void 0:r.max)&&void 0!==u?u:i.nq;return(0,n.jsx)(o.Z.Item,{className:j,labelCol:d,wrapperCol:p,name:m||"password",label:f||"Password",rules:[()=>({validator(e,t){let r=[];return w&&"******"===t?Promise.resolve():t?(v(C,E,t,r),h(b,t,r),r.length)?Promise.reject(r):Promise.resolve():Promise.reject(l.password)}}),{required:!!Z,message:""}],style:x,children:(0,n.jsx)(s.Z.Password,{placeholder:y,autoComplete:g})})};var g=y},67582:function(e,t,r){"use strict";let n,o;r.d(t,{lt:function(){return g},Xq:function(){return j},Ur:function(){return a}});var s=r(13448);let i=(e,t)=>{s.Z.success({message:e,description:t,duration:10})};var a=i,l=r(85893),c=r(6880),u=r(54907),d=r(26713),p=r(71577),m=r(79074),f=r(60274);m.S1({dsn:"https://3bb27cb32e55433696022ba93cb32430@o394613.ingest.sentry.io/5428383"});let v=[],h=()=>{n&&(s.Z.close(n),n=void 0),v.forEach(e=>s.Z.close(e)),v.length=0,s.Z.close(o),o=void 0},y=function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if((null==t?void 0:t.message)==="Failed to fetch"){if(!n){let i="server_error";v.push(i),s.Z.error({key:i,message:"Server error",description:"Server is disconnected, please check your internet connection.",duration:0,onClose(){n=void 0}}),n=i}return}if(r){var a,m;let y="error_"+v.length;v.push(y),s.Z.error({key:y,message:e,description:t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z.Text,{code:!0,children:t.message}),(t.status||t.info)&&(0,l.jsx)(u.Z,{children:(0,l.jsx)(u.Z.Panel,{header:"More information",children:(0,l.jsxs)(d.Z,{direction:"vertical",children:[t.status&&(0,l.jsxs)(c.Z.Text,{children:["Status: ",t.status]}),(null===(a=t.info)||void 0===a?void 0:a.message)&&(0,l.jsxs)(c.Z.Text,{children:["Description: ",null===(m=t.info)||void 0===m?void 0:m.message]})]})},"information")})]}),duration:0})}if(t&&console.error(t),t&&f.captureException(t),v.length>1&&!o){let g="close_all";s.Z.info({key:g,message:(0,l.jsx)(p.Z,{type:"primary",onClick:h,children:"Close all"}),description:"Close all error notifications",duration:0,placement:"top"}),o=g}};var g=y,w=r(81579),x=r(14670);let Z=e=>{var t,r;let{error:n}=e;return n?(0,l.jsx)(w.Z.Item,{children:(0,l.jsx)(x.Z,{message:n.render||n.title,type:n.type,showIcon:!0,description:n.err&&(0,l.jsxs)(l.Fragment,{children:[n.err.message&&(0,l.jsxs)(c.Z.Text,{type:"danger",children:["Message: ",(0,l.jsx)("code",{children:n.err.message})]}),n.err.status&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("br",{}),(0,l.jsxs)(c.Z.Text,{type:"danger",children:["Status: ",(0,l.jsx)("code",{children:n.err.status})]})]}),(null===(t=n.err.info)||void 0===t?void 0:t.message)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("br",{}),(0,l.jsxs)(c.Z.Text,{type:"danger",children:["Information: ",(0,l.jsx)("code",{children:null===(r=n.err.info)||void 0===r?void 0:r.message})]})]})]})})}):null};var j=Z},74562:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(85893),o=r(67294),s=r(11163),i=r(97183),a=r(81474),l=r(11382),c=r(26713),u=r(6880),d=r(81579),p=r(69677),m=r(71577),f=r(40287),v=r(47455),h=r(67582),y=r(4415),g=r(26554);let w={wrongLink:"Wrong link",incorrect:"Incorrect data",internal:"Internal error, please try again shortly",passwordMismatch:"Passwords mismatch"},x=async(e,t,r,n)=>{if(n.email!==t)throw new y.H({title:w.incorrect});try{await g.Z.process(r,{email:n.email,password:n.password}),e.push("/login")}catch(o){throw new y.H({title:w.internal,err:o})}},Z=()=>{let[e,t]=(0,o.useState)(!0),[r,y]=(0,o.useState)(),[Z,j]=(0,o.useState)(!1),[b,C]=(0,o.useState)(),E=(0,s.useRouter)(),{id:P}=E.query;return((0,o.useEffect)(()=>{P&&g.Z.get(P,["type","email"]).then(e=>{e.type===f.x_?(y(e.email),t(!1)):(0,h.lt)(w.wrongLink)}).catch(e=>(0,h.lt)(w.internal,e))},[P]),e)?(0,n.jsx)(i.Z,{children:(0,n.jsxs)(a.Z,{bordered:!1,className:"Signup",children:[(0,n.jsx)(l.Z,{})," Loading..."]})}):(0,n.jsx)(i.Z,{children:(0,n.jsx)(a.Z,{bordered:!1,className:"Signup",children:(0,n.jsxs)(c.Z,{direction:"vertical",size:"large",className:"full-width",children:[(0,n.jsx)("div",{children:(0,n.jsx)(u.Z.Title,{level:1,style:{padding:0,marginBottom:16,fontWeight:500},children:"Password recovery"})}),(0,n.jsxs)(d.Z,{requiredMark:"optional",async onFinish(e){j(!0);try{await x(E,r,P,e)}catch(t){C(t),j(!1)}},layout:"vertical",children:[(0,n.jsx)(d.Z.Item,{name:"email",label:"Enter your email address",rules:[{required:!0,message:"Email is required"}],children:(0,n.jsx)(p.Z,{placeholder:"Email address",autoComplete:"email"})}),(0,n.jsx)(v.o,{name:"password",label:"Choose your password",inputPlaceholder:"Password",style:{marginBottom:"14px"}}),(0,n.jsx)(d.Z.Item,{name:"passwordConfirmation",label:"Confirm your password",rules:[{required:!0,message:"Password confirmation is required"},e=>{let{getFieldValue:t}=e;return{validator:(e,r)=>r&&t("password")!==r?Promise.reject(w.passwordMismatch):Promise.resolve()}}],style:{marginBottom:"14px"},children:(0,n.jsx)(p.Z.Password,{placeholder:"Password"})}),(0,n.jsx)(h.Xq,{error:b}),(0,n.jsx)(d.Z.Item,{className:"Signup-submit",children:(0,n.jsx)(m.Z,{type:"primary",loading:Z,htmlType:"submit",children:"Finish"})})]})]})})})},j=()=>(0,n.jsx)(Z,{});var b=j}},function(e){e.O(0,[6040,6362,1474,1266,6495,4362,6690,2650,9774,2888,179],function(){return e(e.s=33124)}),_N_E=e.O()}]);