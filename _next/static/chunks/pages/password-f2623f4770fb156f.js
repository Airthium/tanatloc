(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8322],{90420:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(87462),s=r(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},l=r(84089),a=s.forwardRef(function(e,t){return s.createElement(l.Z,(0,n.Z)({},e,{ref:t,icon:o}))})},99611:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(87462),s=r(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},l=r(84089),a=s.forwardRef(function(e,t){return s.createElement(l.Z,(0,n.Z)({},e,{ref:t,icon:o}))})},69677:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var n=r(94184),s=r.n(n),o=r(67294),l=r(53124),a=r(65223),i=r(47673),u=r(82586),c=r(90420),d=r(99611),p=r(98423),m=r(42550),f=r(72922),y=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};let v=e=>e?o.createElement(d.Z,null):o.createElement(c.Z,null),h={click:"onClick",hover:"onMouseOver"},w=o.forwardRef((e,t)=>{let{visibilityToggle:r=!0}=e,n="object"==typeof r&&void 0!==r.visible,[a,i]=(0,o.useState)(()=>!!n&&r.visible),c=(0,o.useRef)(null);o.useEffect(()=>{n&&i(r.visible)},[n,r]);let d=(0,f.Z)(c),w=()=>{let{disabled:t}=e;t||(a&&d(),i(e=>{var t;let n=!e;return"object"==typeof r&&(null===(t=r.onVisibleChange)||void 0===t||t.call(r,n)),n}))},{className:_,prefixCls:g,inputPrefixCls:x,size:b}=e,C=y(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:j}=o.useContext(l.E_),E=j("input",x),P=j("input-password",g),O=r&&(t=>{let{action:r="click",iconRender:n=v}=e,s=h[r]||"",l=n(a),i={[s]:w,className:`${t}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return o.cloneElement(o.isValidElement(l)?l:o.createElement("span",null,l),i)})(P),Z=s()(P,_,{[`${P}-${b}`]:!!b}),T=Object.assign(Object.assign({},(0,p.Z)(C,["suffix","iconRender","visibilityToggle"])),{type:a?"text":"password",className:Z,prefixCls:E,suffix:O});return b&&(T.size=b),o.createElement(u.Z,Object.assign({ref:(0,m.sQ)(t,c)},T))});var _=r(68795),g=r(96159),x=r(71577),b=r(98675),C=r(4173),j=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};let E=o.forwardRef((e,t)=>{let r;let{prefixCls:n,inputPrefixCls:a,className:i,size:c,suffix:d,enterButton:p=!1,addonAfter:f,loading:y,disabled:v,onSearch:h,onChange:w,onCompositionStart:E,onCompositionEnd:P}=e,O=j(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:Z,direction:T}=o.useContext(l.E_),S=o.useRef(!1),k=Z("input-search",n),N=Z("input",a),{compactSize:L}=(0,C.ri)(k,T),R=(0,b.Z)(e=>{var t;return null!==(t=null!=c?c:L)&&void 0!==t?t:e}),q=o.useRef(null),A=e=>{var t;document.activeElement===(null===(t=q.current)||void 0===t?void 0:t.input)&&e.preventDefault()},B=e=>{var t,r;h&&h(null===(r=null===(t=q.current)||void 0===t?void 0:t.input)||void 0===r?void 0:r.value,e)},M="boolean"==typeof p?o.createElement(_.Z,null):null,z=`${k}-button`,I=p||{},$=I.type&&!0===I.type.__ANT_BUTTON;r=$||"button"===I.type?(0,g.Tm)(I,Object.assign({onMouseDown:A,onClick:e=>{var t,r;null===(r=null===(t=null==I?void 0:I.props)||void 0===t?void 0:t.onClick)||void 0===r||r.call(t,e),B(e)},key:"enterButton"},$?{className:z,size:R}:{})):o.createElement(x.ZP,{className:z,type:p?"primary":void 0,size:R,disabled:v,key:"enterButton",onMouseDown:A,onClick:B,loading:y,icon:M},p),f&&(r=[r,(0,g.Tm)(f,{key:"addonAfter"})]);let D=s()(k,{[`${k}-rtl`]:"rtl"===T,[`${k}-${R}`]:!!R,[`${k}-with-button`]:!!p},i);return o.createElement(u.Z,Object.assign({ref:(0,m.sQ)(q,t),onPressEnter:e=>{S.current||y||B(e)}},O,{size:R,onCompositionStart:e=>{S.current=!0,null==E||E(e)},onCompositionEnd:e=>{S.current=!1,null==P||P(e)},prefixCls:N,addonAfter:r,suffix:d,onChange:e=>{e&&e.target&&"click"===e.type&&h&&h(e.target.value,e),w&&w(e)},className:D,disabled:v}))});var P=r(22913);let O=u.Z;O.Group=e=>{let{getPrefixCls:t,direction:r}=(0,o.useContext)(l.E_),{prefixCls:n,className:u=""}=e,c=t("input-group",n),d=t("input"),[p,m]=(0,i.ZP)(d),f=s()(c,{[`${c}-lg`]:"large"===e.size,[`${c}-sm`]:"small"===e.size,[`${c}-compact`]:e.compact,[`${c}-rtl`]:"rtl"===r},m,u),y=(0,o.useContext)(a.aM),v=(0,o.useMemo)(()=>Object.assign(Object.assign({},y),{isFormItemInput:!1}),[y]);return p(o.createElement("span",{className:f,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},o.createElement(a.aM.Provider,{value:v},e.children)))},O.Search=E,O.TextArea=P.Z,O.Password=w;var Z=O},47839:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/password",function(){return r(7926)}])},59420:function(e,t,r){"use strict";var n;r.d(t,{JT:function(){return l},ah:function(){return i},nq:function(){return o},tE:function(){return a},yL:function(){return s}}),null!==(n=r(83454).env.AUTH_SECRET)&&void 0!==n||Array(33).join("a");let s=6,o=16,l=!0,a=!0,i=!0},96542:function(e,t,r){"use strict";r.d(t,{EQ:function(){return i},kD:function(){return l},o3:function(){return o},x_:function(){return a}});var n,s=r(83454);let o=null!==(n=s.env.EMAIL_TOKEN)&&void 0!==n?n:"",l="subscribe",a="passwordRecovery",i="revalidate"},83755:function(e,t,r){"use strict";r.d(t,{R:function(){return u},_:function(){return i}});var n=r(59134),s=r.n(n),o=r(83454);let l=o.env.PORT?parseInt(o.env.PORT):3e3,a=s()()?"http://localhost:"+l:"",i=async(e,t)=>{let r=await fetch(a+e,{method:t?"POST":"GET",headers:{accept:"application/json","Content-Type":"application/json"},...t&&{body:t}}),n=r.headers.get("Content-Type");if(!r.ok){let e=Error("An error occured while fetching data.");throw e.info=(null==n?void 0:n.includes("application/json"))&&await r.json(),e.status=r.status,e}return r.json()},u=async(e,t)=>{var r;let n=await fetch(a+e,{...t,method:null!==(r=null==t?void 0:t.method)&&void 0!==r?r:"GET",headers:{...null==t?void 0:t.headers,"Content-Type":"application/json"}}),s=n.headers.get("Content-Type");if(!n.ok){let e=Error("An error occured while fetching data.");throw e.info=(null==s?void 0:s.includes("application/json"))&&await n.json(),e.status=n.status,e}return n}},93659:function(e,t,r){"use strict";r.d(t,{H:function(){return n}});class n extends Error{constructor(e){var t;super(e.title),this.title=e.title,this.name="APIError",this.render=e.render,this.err=e.err,this.type=null!==(t=e.type)&&void 0!==t?t:"error"}}},20825:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(83755);let s=async(e,t)=>{let r=await (0,n.R)("/api/link",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({id:e,data:t})});return r.json()},o=async(e,t)=>{await (0,n.R)("/api/link",{method:"PUT",body:JSON.stringify({id:e,data:t})})};var l={get:s,process:o}},69081:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(59734),s=r(67294),o=r(83755);let l=async e=>{await (0,o.R)("/api/system",{method:"PUT",body:JSON.stringify(e)})};var a={useSystem:()=>{var e;let{data:t,error:r,mutate:l}=(0,n.ZP)("/api/system",o._),a=null!==(e=null==t?void 0:t.system)&&void 0!==e?e:{},i=(0,s.useCallback)(async e=>{await l({system:{...a,...e}})},[a,l]);return[a,{mutateSystem:i,errorSystem:r,loadingSystem:!t}]},update:l}},74219:function(e,t,r){"use strict";r.d(t,{o:function(){return h}});var n=r(85893),s=r(638),o=r(69677),l=r(59420),a=r(69081);let i={password:"Please enter a password",passwordTooSmall:e=>"Your password is too small (minimum "+e+" characters)",passwordTooLong:e=>"Your password is too long (maximum "+e+" characters)",passwordRequireLetter:"Your password must contain a letter",passwordRequireNumber:"Your password must contain a number",passwordRequireSymbol:"Your password must contain a symbol"},u=(e,t)=>!(t.length<e),c=(e,t)=>!(t.length>e),d=(e,t)=>-1!==e.search(t),p=(e,t)=>{var r,n;return(null!==(n=null==e?void 0:null===(r=e.password)||void 0===r?void 0:r.requireLetter)&&void 0!==n?!n:!l.JT)||d(t,/[a-zA-Z]/)},m=(e,t)=>{var r,n;return(null!==(n=null==e?void 0:null===(r=e.password)||void 0===r?void 0:r.requireNumber)&&void 0!==n?!n:!l.tE)||d(t,/\d/)},f=(e,t)=>{var r,n;return(null!==(n=null==e?void 0:null===(r=e.password)||void 0===r?void 0:r.requireSymbol)&&void 0!==n?!n:!l.ah)||d(t,/[!@#$%^&*(){}[\]<>?/|.:;_-]/)},y=(e,t,r,n)=>{u(e,r)||n.push(i.passwordTooSmall(e)),c(t,r)||n.push(i.passwordTooLong(t))},v=(e,t,r)=>{p(e,t)||r.push(i.passwordRequireLetter),m(e,t)||r.push(i.passwordRequireNumber),f(e,t)||r.push(i.passwordRequireSymbol)};var h=e=>{var t,r,u,c;let{labelCol:d,wrapperCol:p,name:m,label:f,inputPlaceholder:h,inputAutoComplete:w,edit:_,style:g,required:x}=e,[b]=a.Z.useSystem(),C=null!==(u=null==b?void 0:null===(t=b.password)||void 0===t?void 0:t.min)&&void 0!==u?u:l.yL,j=null!==(c=null==b?void 0:null===(r=b.password)||void 0===r?void 0:r.max)&&void 0!==c?c:l.nq;return(0,n.jsx)(s.Z.Item,{labelCol:d,wrapperCol:p,name:null!=m?m:"password",label:null!=f?f:"Password",rules:[()=>({validator(e,t){let r=[];return _&&"******"===t?Promise.resolve():t?(y(C,j,t,r),v(b,t,r),r.length)?Promise.reject(r):Promise.resolve():Promise.reject(i.password)}}),{required:!!x,message:""}],style:g,children:(0,n.jsx)(o.Z.Password,{placeholder:h,autoComplete:w})})}},7926:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var n=r(85893),s=r(67294),o=r(11163),l=r(97183),a=r(85813),i=r(57953),u=r(42075),c=r(22850),d=r(638),p=r(69677),m=r(71577),f=r(96542),y=r(55359),v=r(830),h=r(74219),w=r(76695),_=r(93659),g=r(20825),x=r(14856),b=r.n(x),C=r(45629),j=r.n(C);let E={wrongLink:"Wrong link",incorrect:"Incorrect data",internal:"Internal error, please try again shortly",passwordMismatch:"Passwords mismatch"},P=async(e,t,r,n)=>{if(n.email!==t)throw new _.H({title:E.incorrect});try{await g.Z.process(r,{email:n.email,password:n.password}),await e.push("/login").catch()}catch(e){throw new _.H({title:E.internal,err:e})}};var O=()=>{let[e,t]=(0,s.useState)(!0),[r,_]=(0,s.useState)(),[x,C]=(0,s.useState)(!1),[O,Z]=(0,s.useState)(),{dispatch:T}=(0,s.useContext)(y.uj),S=(0,o.useRouter)(),{id:k}=S.query;(0,s.useEffect)(()=>{(async()=>{if(k)try{let e=await g.Z.get(k,["type","email"]);e.type===f.x_?(_(e.email),t(!1)):T((0,v.iT)({title:E.wrongLink}))}catch(e){T((0,v.iT)({title:E.internal,err:e}))}})()},[k,T]);let N=(0,s.useCallback)(e=>{(async()=>{C(!0);try{await P(S,r,k,e)}catch(e){Z(e),C(!1)}})()},[S,r,k]);return e?(0,n.jsx)(l.Z,{children:(0,n.jsxs)(a.Z,{bordered:!1,className:j().password,children:[(0,n.jsx)(i.Z,{})," Loading..."]})}):(0,n.jsx)(l.Z,{children:(0,n.jsx)(a.Z,{bordered:!1,className:j().password,children:(0,n.jsxs)(u.Z,{direction:"vertical",size:"large",className:b().fullWidth,children:[(0,n.jsx)("div",{children:(0,n.jsx)(c.Z.Title,{level:1,style:{padding:0,marginBottom:16,fontWeight:500},children:"Password recovery"})}),(0,n.jsxs)(d.Z,{requiredMark:"optional",onFinish:N,layout:"vertical",children:[(0,n.jsx)(d.Z.Item,{name:"email",label:"Enter your email address",rules:[{required:!0,message:"Email is required"}],children:(0,n.jsx)(p.Z,{placeholder:"Email address",autoComplete:"email"})}),(0,n.jsx)(h.o,{name:"password",label:"Choose your password",inputPlaceholder:"Password",style:{marginBottom:"14px"}}),(0,n.jsx)(d.Z.Item,{name:"passwordConfirmation",label:"Confirm your password",rules:[{required:!0,message:"Password confirmation is required"},e=>{let{getFieldValue:t}=e;return{validator:(e,r)=>r&&t("password")!==r?Promise.reject(E.passwordMismatch):Promise.resolve()}}],style:{marginBottom:"14px"},children:(0,n.jsx)(p.Z.Password,{placeholder:"Password"})}),(0,n.jsx)(w.Xq,{error:O}),(0,n.jsx)(d.Z.Item,{className:j().submit,children:(0,n.jsx)(m.ZP,{type:"primary",loading:x,htmlType:"submit",children:"Finish"})})]})]})})})},Z=()=>(0,n.jsx)(O,{})},45629:function(e){e.exports={password:"password_password__5flvB",submit:"password_submit___PX_D"}},14856:function(e){e.exports={variables:'"./variables.css"',colorPrimary:"#fad114",textColorDark:"rgba(0, 0, 0, 0.65)",textColorLight:"rgba(0, 0, 0, 0.45)",logo:"styles_logo__9fFr_",displayNone:"styles_displayNone__RJhEW",displayFlex:"styles_displayFlex__KZAtX",fullWidth:"styles_fullWidth__RSmL9",fullHeight:"styles_fullHeight__OH8_r",noScroll:"styles_noScroll__SbIOd",scroll:"styles_scroll__fB2wo",noBackground:"styles_noBackground__yOr7G",noBorder:"styles_noBorder__jtLOx",noBorderBottom:"styles_noBorderBottom__RAWEg",textWhite:"styles_textWhite__LKtl2",textLight:"styles_textLight__T2MUY",textDark:"styles_textDark__Ae4VK",textOrange:"styles_textOrange__94tCV",textGreen:"styles_textGreen__rD4Yj",textAlignLeft:"styles_textAlignLeft__jTX8x",textAlignCenter:"styles_textAlignCenter__4U96c",primaryColor:"styles_primaryColor__OdDJf",backgroundPrimary:"styles_backgroundPrimary__3E7Ss"}}},function(e){e.O(0,[9391,5813,4633,9774,2888,179],function(){return e(e.s=47839)}),_N_E=e.O()}]);