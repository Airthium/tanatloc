(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7616],{90420:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(1413),i=r(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},s=r(42135),a=function(e,t){return i.createElement(s.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:o}))};a.displayName="EyeInvisibleOutlined";var l=i.forwardRef(a)},99611:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(1413),i=r(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},s=r(42135),a=function(e,t){return i.createElement(s.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:o}))};a.displayName="EyeOutlined";var l=i.forwardRef(a)},68795:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(1413),i=r(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},s=r(42135),a=function(e,t){return i.createElement(s.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:o}))};a.displayName="SearchOutlined";var l=i.forwardRef(a)},28058:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(1413),i=r(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"},s=r(42135),a=function(e,t){return i.createElement(s.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:o}))};a.displayName="WarningOutlined";var l=i.forwardRef(a)},69677:function(e,t,r){"use strict";r.d(t,{Z:function(){return R}});var n=r(87462),i=r(4942),o=r(97685),s=r(94184),a=r.n(s),l=r(67294),u=r(53124),c=r(65223),d=r(47673),p=r(16591),f=r(71002),m=r(90420),h=r(99611),v=r(98423),Z=r(42550),g=r(72922),y=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},w=function(e){return e?l.createElement(h.Z,null):l.createElement(m.Z,null)},b={click:"onClick",hover:"onMouseOver"},C=l.forwardRef(function(e,t){var r=e.visibilityToggle,s=void 0===r||r,c="object"===(0,f.Z)(s)&&void 0!==s.visible,d=(0,l.useState)(function(){return!!c&&s.visible}),m=(0,o.Z)(d,2),h=m[0],C=m[1],E=(0,l.useRef)(null);l.useEffect(function(){c&&C(s.visible)},[c,s]);var x=(0,g.Z)(E),P=function(){e.disabled||(h&&x(),C(function(e){var t,r=!e;return"object"===(0,f.Z)(s)&&(null===(t=s.onVisibleChange)||void 0===t||t.call(s,r)),r}))},T=function(t){var r,n=e.action,o=e.iconRender,s=b[void 0===n?"click":n]||"",a=(void 0===o?w:o)(h),u=(r={},(0,i.Z)(r,s,P),(0,i.Z)(r,"className",t+"-icon"),(0,i.Z)(r,"key","passwordIcon"),(0,i.Z)(r,"onMouseDown",function(e){e.preventDefault()}),(0,i.Z)(r,"onMouseUp",function(e){e.preventDefault()}),r);return l.cloneElement(l.isValidElement(a)?a:l.createElement("span",null,a),u)};return l.createElement(u.C,null,function(r){var o=r.getPrefixCls,u=e.className,c=e.prefixCls,d=e.inputPrefixCls,f=e.size,m=y(e,["className","prefixCls","inputPrefixCls","size"]),g=o("input",d),w=o("input-password",c),b=s&&T(w),C=a()(w,u,(0,i.Z)({},w+"-"+f,!!f)),x=(0,n.Z)((0,n.Z)({},(0,v.Z)(m,["suffix","iconRender","visibilityToggle"])),{type:h?"text":"password",className:C,prefixCls:g,suffix:b});return f&&(x.size=f),l.createElement(p.ZP,(0,n.Z)({ref:(0,Z.sQ)(t,E)},x))})}),E=r(68795),x=r(71577),P=r(97647),T=r(4173),S=r(96159),O=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},k=l.forwardRef(function(e,t){var r,o,s=e.prefixCls,c=e.inputPrefixCls,d=e.className,f=e.size,m=e.suffix,h=e.enterButton,v=void 0!==h&&h,g=e.addonAfter,y=e.loading,w=e.disabled,b=e.onSearch,C=e.onChange,k=e.onCompositionStart,B=e.onCompositionEnd,N=O(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),R=l.useContext(u.E_),z=R.getPrefixCls,j=R.direction,M=l.useContext(P.Z),_=l.useRef(!1),X=z("input-search",s),q=z("input",c),L=(0,T.ri)(X,j).compactSize||f||M,U=l.useRef(null),A=function(e){var t;document.activeElement===(null===(t=U.current)||void 0===t?void 0:t.input)&&e.preventDefault()},I=function(e){var t,r;b&&b(null===(r=null===(t=U.current)||void 0===t?void 0:t.input)||void 0===r?void 0:r.value,e)},H="boolean"==typeof v?l.createElement(E.Z,null):null,D=X+"-button",Y=v||{},J=Y.type&&!0===Y.type.__ANT_BUTTON;o=J||"button"===Y.type?(0,S.Tm)(Y,(0,n.Z)({onMouseDown:A,onClick:function(e){var t,r;null===(r=null===(t=null==Y?void 0:Y.props)||void 0===t?void 0:t.onClick)||void 0===r||r.call(t,e),I(e)},key:"enterButton"},J?{className:D,size:L}:{})):l.createElement(x.Z,{className:D,type:v?"primary":void 0,size:L,disabled:w,key:"enterButton",onMouseDown:A,onClick:I,loading:y,icon:H},v),g&&(o=[o,(0,S.Tm)(g,{key:"addonAfter"})]);var F=a()(X,(r={},(0,i.Z)(r,X+"-rtl","rtl"===j),(0,i.Z)(r,X+"-"+L,!!L),(0,i.Z)(r,X+"-with-button",!!v),r),d);return l.createElement(p.ZP,(0,n.Z)({ref:(0,Z.sQ)(U,t),onPressEnter:function(e){_.current||y||I(e)}},N,{size:L,onCompositionStart:function(e){_.current=!0,null==k||k(e)},onCompositionEnd:function(e){_.current=!1,null==B||B(e)},prefixCls:q,addonAfter:o,suffix:m,onChange:function(e){e&&e.target&&"click"===e.type&&b&&b(e.target.value,e),C&&C(e)},className:F,disabled:w}))}),B=r(56994),N=p.ZP;N.Group=function(e){var t,r=(0,l.useContext)(u.E_),s=r.getPrefixCls,p=r.direction,f=e.prefixCls,m=e.className,h=s("input-group",f),v=s("input"),Z=(0,d.ZP)(v),g=(0,o.Z)(Z,2),y=g[0],w=g[1],b=a()(h,(t={},(0,i.Z)(t,h+"-lg","large"===e.size),(0,i.Z)(t,h+"-sm","small"===e.size),(0,i.Z)(t,h+"-compact",e.compact),(0,i.Z)(t,h+"-rtl","rtl"===p),t),w,void 0===m?"":m),C=(0,l.useContext)(c.aM),E=(0,l.useMemo)(function(){return(0,n.Z)((0,n.Z)({},C),{isFormItemInput:!1})},[C]);return y(l.createElement("span",{className:b,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},l.createElement(c.aM.Provider,{value:E},e.children)))},N.Search=k,N.TextArea=B.Z,N.Password=C;var R=N},47805:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return r(36149)}])},37404:function(e,t,r){"use strict";r.d(t,{JT:function(){return o},ah:function(){return a},nq:function(){return i},tE:function(){return s},yL:function(){return n}}),r(83454).env.AUTH_SECRET||Array(33).join("a");let n=6,i=16,o=!0,s=!0,a=!0},11425:function(e,t,r){"use strict";r.d(t,{R:function(){return u},_:function(){return l}});var n=r(59134),i=r.n(n),o=r(83454);let s=o.env.PORT?parseInt(o.env.PORT):3e3,a=i()()?"http://localhost:"+s:"",l=async(e,t)=>{let r=await fetch(a+e,{method:t?"POST":"GET",headers:{accept:"application/json","Content-Type":"application/json"},...t&&{body:t}}),n=r.headers.get("Content-Type");if(!r.ok){let i=Error("An error occured while fetching data.");throw i.info=(null==n?void 0:n.includes("application/json"))&&await r.json(),i.status=r.status,i}return r.json()},u=async(e,t)=>{let r=await fetch(a+e,{...t,method:t&&t.method||"GET",headers:{...t&&t.headers,"Content-Type":"application/json"}}),n=r.headers.get("Content-Type");if(!r.ok){let i=Error("An error occured while fetching data.");throw i.info=(null==n?void 0:n.includes("application/json"))&&await r.json(),i.status=r.status,i}return r}},4415:function(e,t,r){"use strict";r.d(t,{H:function(){return n}});class n extends Error{constructor(e){super(e.title),this.title=e.title,this.name="APIError",this.render=e.render,this.err=e.err,this.type=e.type||"error"}}},92288:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(8100),i=r(67294),o=r(11425);let s=()=>{let{data:e,error:t,mutate:r}=(0,n.ZP)("/api/system",o._),s=(null==e?void 0:e.system)||{},a=(0,i.useCallback)(e=>{r({system:{...s,...e}})},[s,r]);return[s,{mutateSystem:a,errorSystem:t,loadingSystem:!e}]},a=async e=>{await (0,o.R)("/api/system",{method:"PUT",body:JSON.stringify(e)})};var l={useSystem:s,update:a}},55734:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(8100),i=r(67294),o=r(11425);let s=()=>{let{data:e,error:t,mutate:r}=(0,n.ZP)("/api/user",o._),s=null==e?void 0:e.user,a=(0,i.useCallback)(e=>{r({user:{...s,...e}})},[s,r]),l=(0,i.useCallback)(()=>{r({user:void 0})},[r]);return[s,{mutateUser:a,clearUser:l,errorUser:(null==t?void 0:t.status)===401?void 0:t,loadingUser:(null==t?void 0:t.status)!==401&&!e}]},a=()=>{let{data:e,error:t,mutate:r}=(0,n.ZP)("/api/users",o._),s=(null==e?void 0:e.users)||[],a=(0,i.useCallback)(e=>{let t=[...s,{...e,authorizedplugins:[]}];r({users:t})},[s,r]),l=(0,i.useCallback)(e=>{let t=s.filter(t=>t.id!==e.id);r({users:t})},[s,r]),u=(0,i.useCallback)(e=>{let t=s.map(t=>(t.id===e.id&&(t={...t,...e}),t));r({users:t})},[s,r]);return[s,{addOneUser:a,delOneUser:l,mutateOneUser:u,errorUsers:t,loadingUsers:!e}]},l=async e=>{let t=await (0,o.R)("/api/user",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify(e)});return t.json()},u=async e=>{await (0,o.R)("/api/user",{method:"PUT",body:JSON.stringify(e)})},c=async(e,t)=>{await (0,o.R)("/api/user/"+e,{method:"PUT",body:JSON.stringify(t)})},d=async()=>{await (0,o.R)("/api/user",{method:"DELETE"})},p=async e=>{await (0,o.R)("/api/user/"+e,{method:"DELETE"})},f=async e=>{let t=await (0,o.R)("/api/user/check",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify(e)});return t.json()};var m={useUser:s,useUsers:a,add:l,update:u,updateById:c,del:d,delById:p,check:f}},47455:function(e,t,r){"use strict";r.d(t,{o:function(){return g}});var n=r(14288),i=r(62806),o=r(69677),s=r(37404),a=r(92288);let l={password:"Please enter a password",passwordTooSmall:e=>"Your password is too small (minimum "+e+" characters)",passwordTooLong:e=>"Your password is too long (maximum "+e+" characters)",passwordRequireLetter:"Your password must contain a letter",passwordRequireNumber:"Your password must contain a number",passwordRequireSymbol:"Your password must contain a symbol"},u=(e,t)=>!(t.length<e),c=(e,t)=>!(t.length>e),d=(e,t)=>-1!==e.search(t),p=(e,t)=>{var r,n;return(null!==(n=null==e?void 0:null===(r=e.password)||void 0===r?void 0:r.requireLetter)&&void 0!==n?!n:!s.JT)||d(t,/[a-zA-Z]/)},f=(e,t)=>{var r,n;return(null!==(n=null==e?void 0:null===(r=e.password)||void 0===r?void 0:r.requireNumber)&&void 0!==n?!n:!s.tE)||d(t,/\d/)},m=(e,t)=>{var r,n;return(null!==(n=null==e?void 0:null===(r=e.password)||void 0===r?void 0:r.requireSymbol)&&void 0!==n?!n:!s.ah)||d(t,/[!@#$%^&*(){}[\]<>?/|.:;_-]/)},h=(e,t,r,n)=>{u(e,r)||n.push(l.passwordTooSmall(e)),c(t,r)||n.push(l.passwordTooLong(t))},v=(e,t,r)=>{p(e,t)||r.push(l.passwordRequireLetter),f(e,t)||r.push(l.passwordRequireNumber),m(e,t)||r.push(l.passwordRequireSymbol)},Z=e=>{var t,r,u,c;let{labelCol:d,wrapperCol:p,name:f,label:m,inputPlaceholder:Z,inputAutoComplete:g,edit:y,style:w,required:b}=e,[C]=a.Z.useSystem(),E=null!==(u=null==C?void 0:null===(t=C.password)||void 0===t?void 0:t.min)&&void 0!==u?u:s.yL,x=null!==(c=null==C?void 0:null===(r=C.password)||void 0===r?void 0:r.max)&&void 0!==c?c:s.nq;return(0,n.tZ)(i.Z.Item,{labelCol:d,wrapperCol:p,name:f||"password",label:m||"Password",rules:[()=>({validator(e,t){let r=[];return y&&"******"===t?Promise.resolve():t?(h(E,x,t,r),v(C,t,r),r.length)?Promise.reject(r):Promise.resolve():Promise.reject(l.password)}}),{required:!!b,message:""}],style:w,children:(0,n.tZ)(o.Z.Password,{placeholder:Z,autoComplete:g})})};var g=Z},12271:function(e,t,r){"use strict";let n,i;r.d(t,{lt:function(){return Z},Xq:function(){return b},Ur:function(){return a}});var o=r(33009);let s=(e,t)=>{o.Z.success({message:e,description:t,duration:10})};var a=s,l=r(14288),u=r(22850),c=r(15045),d=r(26713),p=r(71577),f=r(79074),m=r(60274);f.S1({dsn:"https://3bb27cb32e55433696022ba93cb32430@o394613.ingest.sentry.io/5428383"});let h=[],v=()=>{n&&(o.Z.destroy(n),n=void 0),h.forEach(e=>o.Z.destroy(e)),h.length=0,o.Z.destroy(i),i=void 0};var Z=function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if((null==t?void 0:t.message)==="Failed to fetch"){if(!n){let s="server_error";h.push(s),o.Z.error({key:s,message:"Server error",description:"Server is disconnected, please check your internet connection.",duration:0,onClose(){n=void 0}}),n=s}return}if(r){var a,f;let Z="error_"+h.length;h.push(Z),o.Z.error({key:Z,message:e,description:t&&(0,l.BX)(l.HY,{children:[(0,l.tZ)(u.Z.Text,{code:!0,children:t.message}),(t.status||t.info)&&(0,l.tZ)(c.Z,{children:(0,l.tZ)(c.Z.Panel,{header:"More information",children:(0,l.BX)(d.Z,{direction:"vertical",children:[t.status&&(0,l.BX)(u.Z.Text,{children:["Status: ",t.status]}),(null===(a=t.info)||void 0===a?void 0:a.message)&&(0,l.BX)(u.Z.Text,{children:["Description: ",null===(f=t.info)||void 0===f?void 0:f.message]})]})},"information")})]}),duration:0})}if(t&&console.error(t),t&&m.captureException(t),h.length>1&&!i){let g="close_all";o.Z.info({key:g,message:(0,l.tZ)(p.Z,{type:"primary",onClick:v,children:"Close all"}),description:"Close all error notifications",duration:0,placement:"top"}),i=g}},g=r(62806),y=r(99138);let w=e=>{var t,r;let{error:n}=e;return n?(0,l.tZ)(g.Z.Item,{children:(0,l.tZ)(y.Z,{message:n.render||n.title,type:n.type,showIcon:!0,description:n.err&&(0,l.BX)(l.HY,{children:[n.err.message&&(0,l.BX)(u.Z.Text,{type:"danger",children:["Message: ",(0,l.tZ)("code",{children:n.err.message})]}),n.err.status&&(0,l.BX)(l.HY,{children:[(0,l.tZ)("br",{}),(0,l.BX)(u.Z.Text,{type:"danger",children:["Status: ",(0,l.tZ)("code",{children:n.err.status})]})]}),(null===(t=n.err.info)||void 0===t?void 0:t.message)&&(0,l.BX)(l.HY,{children:[(0,l.tZ)("br",{}),(0,l.BX)(u.Z.Text,{type:"danger",children:["Information: ",(0,l.tZ)("code",{children:null===(r=n.err.info)||void 0===r?void 0:r.message})]})]})]})})}):null};var b=w},67641:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(14288),i=r(67294),o=r(26713),s=r(85813),a=r(57953),l=r(3363),u=r(22850),c=r(97183),d=r(50888),p=r(28058),f=r(86159),m=r(70917);let h={loading:(0,m.iv)({margin:"auto !important",maxWidth:"80%"}),content:(0,m.iv)({maxHeight:"50vh",padding:"20px",overflow:"auto"}),status:(0,m.iv)({marginTop:"10px"}),errors:(0,m.iv)({marginTop:"10px",color:"red","& .ant-card":{margin:"10px 0",borderColor:"red",color:"red"}})},v=()=>(0,n.tZ)(o.Z,{style:{height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:(0,n.tZ)(s.Z,{children:(0,n.BX)(o.Z,{children:[(0,n.tZ)(a.Z,{}),"Loading, please wait..."]})})}),Z=e=>{let{text:t,status:r,errors:m}=e,v=(0,i.useRef)(null),[Z,g]=(0,i.useState)(),[y,w]=(0,i.useState)();(0,i.useEffect)(()=>{if(!(null==r?void 0:r.length)){g(void 0);return}g((0,n.tZ)("div",{css:h.status,children:(0,n.tZ)(l.Z,{direction:"vertical",items:r.map((e,t)=>({key:t,status:"finish",icon:t===r.length-1?(0,n.tZ)(d.Z,{}):void 0,title:e})).reverse()})}))},[r,m]),(0,i.useEffect)(()=>{if(!(null==m?void 0:m.length)){w(void 0);return}w((0,n.BX)("div",{css:h.errors,children:[m.map((e,t)=>{let r=null;return e.includes("docker: command not found")||e.includes("Is the docker daemon running")?r=(0,n.BX)(s.Z,{children:["There is an error with your Docker installation.",(0,n.tZ)("br",{}),"Please verify that Docker is correctly installed and running."]}):(e.includes("EHOSTUNREACH")||e.includes("ENETUNREACH")||e.includes("ETIMEOUT"))&&(r=(0,n.BX)(s.Z,{children:["There is an error with your PostgreSQL installation.",(0,n.tZ)("br",{}),'Please verify that postgres Docker container "tanatloc-postgres" is correctly installed and running.']})),(0,n.BX)("div",{children:[e,r]},t)}),(0,n.tZ)(u.Z.Title,{level:5,style:{color:"red"},children:"Please restart the application"})]}))},[m]);let b=!!(null==r?void 0:r.length)||!!(null==m?void 0:m.length);return(0,n.BX)(c.Z,{children:[(0,n.tZ)("div",{css:f.KP.logo,children:(0,n.tZ)("img",{src:"/images/logo.svg",alt:"Tanatloc"})}),(0,n.tZ)(s.Z,{css:h.loading,bodyStyle:{padding:0},title:(0,n.tZ)(o.Z,{children:(null==m?void 0:m.length)?(0,n.BX)(n.HY,{children:[(0,n.tZ)(p.Z,{style:{fontSize:"32px",color:"red"}}),(0,n.tZ)(u.Z.Title,{level:3,css:f.Ml.margin(0),children:"An error occurs"}),(0,n.tZ)("a",{href:"https://github.com/Airthium/tanatloc/issues/new/choose",target:"_blank",rel:"noreferrer",children:"Open an issue"})]}):(0,n.BX)(n.HY,{children:[(0,n.tZ)(a.Z,{size:"large"}),null!=t?t:"Loading, please wait..."]})}),children:b?(0,n.BX)("div",{ref:v,css:h.content,children:[y,Z]}):null})]})};Z.Simple=v;var g=Z},19069:function(e,t,r){"use strict";var n=r(70917);let i={signup:(0,n.iv)({margin:"auto !important",width:"350px"}),submit:(0,n.iv)({marginTop:"32px",button:{width:"50%"}})};t.Z=i},36149:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var n=r(14288),i=r(11163),o=r(67294),s=r(97183),a=r(85813),l=r(26713),u=r(22850),c=r(62806),d=r(69677),p=r(71577),f=r(47455),m=r(12271),h=r(67641),v=r(4415),Z=r(55734),g=r(92288),y=r(86159),w=r(19069);let b={user:"Error while loading user",system:"Error while loading system",internal:"Server issue : please try again shortly",alreadyExists:"This email is already registered",passwordMismatch:"Passwords mismatch"},C=async(e,t)=>{let r;try{r=await Z.Z.add(t)}catch(i){throw new v.H({title:b.internal,err:i})}if(r.alreadyExists)throw new v.H({title:b.alreadyExists,render:(0,n.BX)(n.HY,{children:["We know you! ",(0,n.tZ)("a",{onClick:()=>E(e),children:"Log in ?"})]}),type:"warning"});e.push("/signup/send")},E=e=>{e.push("/login")},x=()=>{let[e,t]=(0,o.useState)(!1),[r,v]=(0,o.useState)(),E=(0,i.useRouter)(),[x,{errorUser:P,loadingUser:T}]=Z.Z.useUser(),[S,{errorSystem:O,loadingSystem:k}]=g.Z.useSystem();return((0,o.useEffect)(()=>{P&&(0,m.lt)(b.user,P),O&&(0,m.lt)(b.system,O)},[P,O]),(0,o.useEffect)(()=>{x&&E.push("/dashboard")},[x,E]),(0,o.useEffect)(()=>{E.prefetch("/dashboard"),E.prefetch("/login")},[E]),T||k||x)?(0,n.tZ)(h.Z,{}):(null==S?void 0:S.allowsignup)?(0,n.tZ)(s.Z,{children:(0,n.tZ)(a.Z,{bordered:!1,css:w.Z.signup,children:(0,n.BX)(l.Z,{direction:"vertical",size:"large",css:y.KP.fullWidth,children:[(0,n.tZ)("div",{children:(0,n.tZ)(u.Z.Title,{level:1,style:{padding:0,marginBottom:16,fontWeight:500},children:"Sign Up"})}),(0,n.BX)(c.Z,{requiredMark:"optional",async onFinish(e){t(!0);try{await C(E,e)}catch(r){v(r)}finally{t(!1)}},layout:"vertical",children:[(0,n.tZ)(c.Z.Item,{name:"email",label:"Enter your email address",rules:[{required:!0,message:"Email is required"}],children:(0,n.tZ)(d.Z,{placeholder:"Email address",autoComplete:"email"})}),(0,n.tZ)(f.o,{name:"password",label:"Choose your password",inputPlaceholder:"Password",inputAutoComplete:"current-password",style:{marginBottom:"14px"}}),(0,n.tZ)(c.Z.Item,{name:"passwordConfirmation",label:"Confirm your password",rules:[{required:!0,message:"Password confirmation is required"},e=>{let{getFieldValue:t}=e;return{validator:(e,r)=>r&&t("password")!==r?Promise.reject(b.passwordMismatch):Promise.resolve()}}],style:{marginBottom:"14px"},children:(0,n.tZ)(d.Z.Password,{placeholder:"Password",autoComplete:"current-password"})}),(0,n.tZ)(m.Xq,{error:r}),(0,n.tZ)(c.Z.Item,{css:w.Z.submit,children:(0,n.tZ)(p.Z,{type:"primary",loading:e,htmlType:"submit",children:"Finish"})})]})]})})}):(0,n.tZ)(s.Z,{children:(0,n.tZ)(a.Z,{css:w.Z.signup,children:"The server does not allow signup for now"})})},P=()=>(0,n.tZ)(x,{});var T=P}},function(e){e.O(0,[4875,992,1183,5813,1577,3239,2833,4702,1473,3363,9774,2888,179],function(){return e(e.s=47805)}),_N_E=e.O()}]);