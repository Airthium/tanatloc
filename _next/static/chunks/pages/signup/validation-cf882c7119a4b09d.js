(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[556],{61988:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup/validation",function(){return __webpack_require__(52957)}])},40287:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{EQ:function(){return REVALIDATE},kD:function(){return SUBSCRIBE},x_:function(){return PASSWORD_RECOVERY}}),__webpack_require__(83454).env.EMAIL_TOKEN;let SUBSCRIBE="subscribe",PASSWORD_RECOVERY="passwordRecovery",REVALIDATE="revalidate"},11425:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{R:function(){return call},_:function(){return fetcher}});var is_electron__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59134),is_electron__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(is_electron__WEBPACK_IMPORTED_MODULE_0__),process=__webpack_require__(83454);let port=process.env.PORT?parseInt(process.env.PORT):3e3,base=is_electron__WEBPACK_IMPORTED_MODULE_0___default()()?"http://localhost:"+port:"",fetcher=async(url,payload)=>{let response=await fetch(base+url,{method:payload?"POST":"GET",headers:{accept:"application/json","Content-Type":"application/json"},...payload&&{body:payload}}),contentType=response.headers.get("Content-Type");if(!response.ok){let error=Error("An error occured while fetching data.");throw error.info=(null==contentType?void 0:contentType.includes("application/json"))&&await response.json(),error.status=response.status,error}return response.json()},call=async(route,param)=>{let response=await fetch(base+route,{...param,method:param&&param.method||"GET",headers:{...param&&param.headers,"Content-Type":"application/json"}}),contentType=response.headers.get("Content-Type");if(!response.ok){let error=Error("An error occured while fetching data.");throw error.info=(null==contentType?void 0:contentType.includes("application/json"))&&await response.json(),error.status=response.status,error}return response}},26554:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return api_link}});var call=__webpack_require__(11425);let get=async(id,data)=>{let response=await (0,call.R)("/api/link",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({id,data})});return response.json()},process=async(id,data)=>{await (0,call.R)("/api/link",{method:"PUT",body:JSON.stringify({id,data})})};var api_link={get:get,process:process}},67582:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";let serverNotification,closeNotification;__webpack_require__.d(__webpack_exports__,{lt:function(){return error},Xq:function(){return form_error},Ur:function(){return success}});var notification=__webpack_require__(13448);let SuccessNotification=(title,subTitle)=>{notification.Z.success({message:title,description:subTitle,duration:10})};var success=SuccessNotification,jsx_runtime=__webpack_require__(85893),typography=__webpack_require__(6880),collapse=__webpack_require__(54907),space=__webpack_require__(26713),es_button=__webpack_require__(71577),sdk=__webpack_require__(79074),esm=__webpack_require__(60274);sdk.S1({dsn:"https://3bb27cb32e55433696022ba93cb32430@o394613.ingest.sentry.io/5428383"});let opened=[],closeAll=()=>{serverNotification&&(notification.Z.close(serverNotification),serverNotification=void 0),opened.forEach(notif=>notification.Z.close(notif)),opened.length=0,notification.Z.close(closeNotification),closeNotification=void 0};var error=function(title,err){let display=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if((null==err?void 0:err.message)==="Failed to fetch"){if(!serverNotification){let key="server_error";opened.push(key),notification.Z.error({key,message:"Server error",description:"Server is disconnected, please check your internet connection.",duration:0,onClose(){serverNotification=void 0}}),serverNotification=key}return}if(display){var ref,ref1;let key1="error_"+opened.length;opened.push(key1),notification.Z.error({key:key1,message:title,description:err&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(typography.Z.Text,{code:!0,children:err.message}),(err.status||err.info)&&(0,jsx_runtime.jsx)(collapse.Z,{children:(0,jsx_runtime.jsx)(collapse.Z.Panel,{header:"More information",children:(0,jsx_runtime.jsxs)(space.Z,{direction:"vertical",children:[err.status&&(0,jsx_runtime.jsxs)(typography.Z.Text,{children:["Status: ",err.status]}),(null===(ref=err.info)||void 0===ref?void 0:ref.message)&&(0,jsx_runtime.jsxs)(typography.Z.Text,{children:["Description: ",null===(ref1=err.info)||void 0===ref1?void 0:ref1.message]})]})},"information")})]}),duration:0})}if(err&&console.error(err),err&&esm.captureException(err),opened.length>1&&!closeNotification){let key2="close_all";notification.Z.info({key:key2,message:(0,jsx_runtime.jsx)(es_button.Z,{type:"primary",onClick:closeAll,children:"Close all"}),description:"Close all error notifications",duration:0,placement:"top"}),closeNotification=key2}},es_form=__webpack_require__(81579),es_alert=__webpack_require__(14670);let FormError=param=>{var ref,ref1;let{error}=param;return error?(0,jsx_runtime.jsx)(es_form.Z.Item,{children:(0,jsx_runtime.jsx)(es_alert.Z,{message:error.render||error.title,type:error.type,showIcon:!0,description:error.err&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[error.err.message&&(0,jsx_runtime.jsxs)(typography.Z.Text,{type:"danger",children:["Message: ",(0,jsx_runtime.jsx)("code",{children:error.err.message})]}),error.err.status&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsxs)(typography.Z.Text,{type:"danger",children:["Status: ",(0,jsx_runtime.jsx)("code",{children:error.err.status})]})]}),(null===(ref=error.err.info)||void 0===ref?void 0:ref.message)&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsxs)(typography.Z.Text,{type:"danger",children:["Information: ",(0,jsx_runtime.jsx)("code",{children:null===(ref1=error.err.info)||void 0===ref1?void 0:ref1.message})]})]})]})})}):null};var form_error=FormError},52957:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return signup_validation}});var jsx_runtime=__webpack_require__(85893),react=__webpack_require__(67294),next_router=__webpack_require__(11163),layout=__webpack_require__(97183),card=__webpack_require__(81474),space=__webpack_require__(26713),typography=__webpack_require__(6880),spin=__webpack_require__(11382),email=__webpack_require__(40287),notification=__webpack_require__(67582),api_link=__webpack_require__(26554);let errors={wrongLink:"Wrong link",internal:"Internal error, please try again shortly"},Validation=()=>{let router=(0,next_router.useRouter)(),{id}=router.query;return(0,react.useEffect)(()=>{id&&api_link.Z.get(id,["type"]).then(res=>{res.type===email.kD||res.type===email.EQ?api_link.Z.process(id).then(()=>{router.push("/login")}).catch(err=>(0,notification.lt)(errors.internal,err)):(0,notification.lt)(errors.wrongLink)}).catch(err=>(0,notification.lt)(errors.internal,err))},[id,router]),(0,jsx_runtime.jsx)(layout.Z,{children:(0,jsx_runtime.jsx)(card.Z,{bordered:!1,className:"Signup",children:(0,jsx_runtime.jsxs)(space.Z,{direction:"vertical",className:"full-width",children:[(0,jsx_runtime.jsxs)(typography.Z.Text,{children:[(0,jsx_runtime.jsx)(spin.Z,{})," Validating..."]}),!id&&(0,jsx_runtime.jsx)(typography.Z.Text,{type:"warning",children:"No link identifier detected"})]})})})},validation_Validation=()=>(0,jsx_runtime.jsx)(Validation,{});var signup_validation=validation_Validation}},function(__webpack_require__){__webpack_require__.O(0,[305,362,474,266,495,347,690,774,888,179],function(){return __webpack_require__(__webpack_require__.s=61988)}),_N_E=__webpack_require__.O()}]);