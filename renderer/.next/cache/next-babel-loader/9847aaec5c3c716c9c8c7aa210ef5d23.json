{"ast":null,"code":"import \"antd/lib/layout/style\";\nimport _Layout from \"antd/lib/layout\";\nimport \"antd/lib/menu/style\";\nimport _Menu from \"antd/lib/menu\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport { useState } from 'react';\nimport { AppstoreTwoTone, LogoutOutlined, QuestionCircleTwoTone, SettingTwoTone } from '@ant-design/icons';\nimport ProjectList from '../components/project/list';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout as reduxLogout } from '../store/auth/action';\nconst menuItems = {\n  projects: {\n    label: 'My Projects',\n    key: '1'\n  },\n  account: {\n    label: 'Account Settings',\n    key: '2'\n  },\n  help: {\n    label: 'I Need Help',\n    key: '3'\n  },\n  logout: {\n    label: 'Logout',\n    key: '4'\n  }\n}; // TODO\n\nconst Account = () => {\n  return __jsx(\"div\", null, \"Account\");\n}; // TODO\n\n\nconst Help = () => {\n  return __jsx(\"div\", null, \"Help\");\n};\n\nexport default (() => {\n  // State\n  const {\n    0: collapsed,\n    1: setCollapsed\n  } = useState(false);\n  const {\n    0: current,\n    1: setCurrent\n  } = useState(menuItems.projects.key); // Router\n\n  const router = useRouter(); // Redux\n\n  const dispatch = useDispatch(); // Props\n\n  const {\n    user\n  } = useSelector(store => store.auth);\n  console.log(user);\n\n  if (false && !user.id) {\n    // Go to login\n    router.push('/login');\n  } // Collpase\n\n\n  const onCollapse = collapsed => {\n    setCollapsed(collapsed);\n  };\n\n  const onSelect = ({\n    key\n  }) => {\n    if (key === '0') return;\n    if (key === menuItems.logout.key) logout();else setCurrent(key);\n  };\n\n  const logout = () => {\n    dispatch(reduxLogout());\n    router.push('/');\n  };\n\n  return __jsx(_Layout, null, __jsx(_Layout.Sider, {\n    theme: \"light\",\n    collapsible: true,\n    collapsed: collapsed,\n    onCollapse: onCollapse\n  }, __jsx(\"div\", {\n    className: \"logo\"\n  }, __jsx(\"img\", {\n    src: \"logo.svg\"\n  })), __jsx(_Menu, {\n    theme: \"light\",\n    defaultSelectedKeys: ['projects'],\n    onSelect: onSelect\n  }, __jsx(_Menu.Item, {\n    key: '0'\n  }, \"Hello \", user.username), __jsx(_Menu.Divider, null), __jsx(_Menu.Item, {\n    key: menuItems.projects.key,\n    icon: __jsx(AppstoreTwoTone, null)\n  }, menuItems.projects.label), __jsx(_Menu.Item, {\n    key: menuItems.account.key,\n    icon: __jsx(SettingTwoTone, null)\n  }, menuItems.account.label), __jsx(_Menu.Item, {\n    key: menuItems.help.key,\n    icon: __jsx(QuestionCircleTwoTone, null)\n  }, menuItems.help.label), __jsx(_Menu.Divider, null), __jsx(_Menu.Item, {\n    key: menuItems.logout.key,\n    danger: true,\n    icon: __jsx(LogoutOutlined, null)\n  }, menuItems.logout.label))), __jsx(_Layout, {\n    className: \"bg-yellow no-scroll\"\n  }, current === menuItems.projects.key && __jsx(ProjectList, null), current === menuItems.account.key && __jsx(Account, null), current === menuItems.help.key && __jsx(Help, null)));\n});","map":null,"metadata":{},"sourceType":"module"}