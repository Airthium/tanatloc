{"ast":null,"code":"import _Drawer from \"antd/lib/drawer\";\nimport _Button from \"antd/lib/button\";\nimport _Card from \"antd/lib/card\";\nimport _Space from \"antd/lib/space\";\nimport _Typography from \"antd/lib/typography\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/home/simon/Documents/Git/Airthium/tanatloc-ssr/renderer/components/project/simulation/materials/material/index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from 'react';\nimport DataBase from '../database';\nimport Formula from '../../../../assets/formula';\nimport Selector from '../../../../assets/selector';\nimport Add from '../add';\nimport Edit from '../edit';\n\nvar Material = function Material(_ref) {\n  _s();\n\n  var _current$material, _materials$children;\n\n  var project = _ref.project,\n      simulation = _ref.simulation,\n      visible = _ref.visible,\n      part = _ref.part,\n      materials = _ref.materials,\n      material = _ref.material,\n      close = _ref.close;\n\n  // State\n  var _useState = useState(),\n      current = _useState[0],\n      setCurrent = _useState[1];\n\n  var _useState2 = useState(true),\n      disabled = _useState2[0],\n      setDisabled = _useState2[1]; // Edit\n\n\n  useEffect(function () {\n    if (material) setCurrent(material);\n  }, [material]); // Disabled\n\n  useEffect(function () {\n    var _current$selected;\n\n    if (!current || !current.material || !((_current$selected = current.selected) !== null && _current$selected !== void 0 && _current$selected.length)) setDisabled(true);else setDisabled(false);\n  }, [current]);\n  /**\n   *\n   * @param {Object} currentMaterial Current material\n   */\n\n  var onMaterialSelect = function onMaterialSelect(currentMaterial) {\n    setCurrent(_objectSpread(_objectSpread({}, current), {}, {\n      material: currentMaterial\n    }));\n  };\n  /**\n   * On select\n   * @param {Object} selected Selected\n   */\n\n\n  var onSelected = function onSelected(selected) {\n    setCurrent(_objectSpread(_objectSpread({}, current), {}, {\n      selected: selected\n    }));\n  };\n  /**\n   * On close\n   */\n\n\n  var onClose = function onClose() {\n    close();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Drawer, {\n    title: \"Material\",\n    placement: \"left\",\n    closable: false,\n    visible: visible,\n    mask: false,\n    maskClosable: false,\n    width: 300,\n    children: [/*#__PURE__*/_jsxDEV(_Card, {\n      children: /*#__PURE__*/_jsxDEV(_Space, {\n        direction: \"vertical\",\n        children: [/*#__PURE__*/_jsxDEV(DataBase, {\n          onSelect: onMaterialSelect\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(_Typography.Text, {\n          children: current === null || current === void 0 ? void 0 : (_current$material = current.material) === null || _current$material === void 0 ? void 0 : _current$material.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, _this), materials === null || materials === void 0 ? void 0 : (_materials$children = materials.children) === null || _materials$children === void 0 ? void 0 : _materials$children.map(function (child) {\n          var _current$material2, _current$material2$ch;\n\n          var m = current === null || current === void 0 ? void 0 : (_current$material2 = current.material) === null || _current$material2 === void 0 ? void 0 : (_current$material2$ch = _current$material2.children) === null || _current$material2$ch === void 0 ? void 0 : _current$material2$ch.find(function (c) {\n            return c.symbol === child.name;\n          });\n          if (m) return /*#__PURE__*/_jsxDEV(Formula, {\n            defaultValue: m.value,\n            unit: child.unit,\n            onChange: function onChange(val) {\n              m.value = val;\n            }\n          }, m.symbol, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, _this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Selector, {\n      part: part,\n      updateSelected: onSelected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(_Space, {\n      children: [/*#__PURE__*/_jsxDEV(_Button, {\n        type: \"danger\",\n        onClick: onClose,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, _this), material ? /*#__PURE__*/_jsxDEV(Edit, {\n        disabled: disabled,\n        material: current,\n        project: project,\n        simulation: simulation,\n        part: part,\n        close: onClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, _this) : /*#__PURE__*/_jsxDEV(Add, {\n        disabled: disabled,\n        material: current,\n        project: project,\n        simulation: simulation,\n        part: part,\n        close: onClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Material, \"c+FLxgKOEvhpKcal1NKl4LDKg6k=\");\n\n_c = Material;\nexport default Material;\n\nvar _c;\n\n$RefreshReg$(_c, \"Material\");","map":{"version":3,"sources":["/home/simon/Documents/Git/Airthium/tanatloc-ssr/renderer/components/project/simulation/materials/material/index.js"],"names":["useState","useEffect","DataBase","Formula","Selector","Add","Edit","Material","project","simulation","visible","part","materials","material","close","current","setCurrent","disabled","setDisabled","selected","length","onMaterialSelect","currentMaterial","onSelected","onClose","label","children","map","child","m","find","c","symbol","name","value","unit","val"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport { Button, Card, Drawer, Space, Typography } from 'antd'\n\nimport DataBase from '../database'\nimport Formula from '../../../../assets/formula'\nimport Selector from '../../../../assets/selector'\nimport Add from '../add'\nimport Edit from '../edit'\n\nconst Material = ({\n  project,\n  simulation,\n  visible,\n  part,\n  materials,\n  material,\n  close\n}) => {\n  // State\n  const [current, setCurrent] = useState()\n  const [disabled, setDisabled] = useState(true)\n\n  // Edit\n  useEffect(() => {\n    if (material) setCurrent(material)\n  }, [material])\n\n  // Disabled\n  useEffect(() => {\n    if (!current || !current.material || !current.selected?.length)\n      setDisabled(true)\n    else setDisabled(false)\n  }, [current])\n\n  /**\n   *\n   * @param {Object} currentMaterial Current material\n   */\n  const onMaterialSelect = (currentMaterial) => {\n    setCurrent({\n      ...current,\n      material: currentMaterial\n    })\n  }\n\n  /**\n   * On select\n   * @param {Object} selected Selected\n   */\n  const onSelected = (selected) => {\n    setCurrent({\n      ...current,\n      selected\n    })\n  }\n\n  /**\n   * On close\n   */\n  const onClose = () => {\n    close()\n  }\n\n  return (\n    <Drawer\n      title=\"Material\"\n      placement=\"left\"\n      closable={false}\n      visible={visible}\n      mask={false}\n      maskClosable={false}\n      width={300}\n    >\n      <Card>\n        <Space direction=\"vertical\">\n          <DataBase onSelect={onMaterialSelect} />\n          <Typography.Text>{current?.material?.label}</Typography.Text>\n          {materials?.children?.map((child) => {\n            const m = current?.material?.children?.find(\n              (c) => c.symbol === child.name\n            )\n            if (m)\n              return (\n                <Formula\n                  key={m.symbol}\n                  defaultValue={m.value}\n                  unit={child.unit}\n                  onChange={(val) => {\n                    m.value = val\n                  }}\n                />\n              )\n          })}\n        </Space>\n      </Card>\n      <Selector part={part} updateSelected={onSelected} />\n      <Space>\n        <Button type=\"danger\" onClick={onClose}>\n          Cancel\n        </Button>\n        {material ? (\n          <Edit\n            disabled={disabled}\n            material={current}\n            project={project}\n            simulation={simulation}\n            part={part}\n            close={onClose}\n          />\n        ) : (\n          <Add\n            disabled={disabled}\n            material={current}\n            project={project}\n            simulation={simulation}\n            part={part}\n            close={onClose}\n          />\n        )}\n      </Space>\n    </Drawer>\n  )\n}\n\nexport default Material\n"]},"metadata":{},"sourceType":"module"}