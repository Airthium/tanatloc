{"ast":null,"code":"import _Card from \"antd/lib/card\";\nimport _Row from \"antd/lib/row\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _Button from \"antd/lib/button\";\nimport _Col from \"antd/lib/col\";\nimport _Typography from \"antd/lib/typography\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState } from 'react';\nimport { DeleteOutlined } from '@ant-design/icons';\nimport { Error } from '../../assets/notification';\nimport { DeleteDialog } from '../../assets/dialog';\nimport UserAPI from '../../../../src/api/user';\nimport logout from '../../../../src/api/logout';\n/**\n * Errors account/delete\n * @memberof module:renderer/components/account\n */\n\nvar errors = {\n  delError: 'Unable to delete the user'\n};\n/**\n * Delete account\n * @memberof module:renderer/components/account\n */\n\nvar Delete = function Delete() {\n  // State\n  var _useState = useState(false),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _UserAPI$useUser = UserAPI.useUser(),\n      _UserAPI$useUser2 = _slicedToArray(_UserAPI$useUser, 2),\n      mutateUser = _UserAPI$useUser2[1].mutateUser;\n  /**\n   * Handle delete\n   */\n\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.prev = 1;\n              _context.next = 4;\n              return UserAPI.del();\n\n            case 4:\n              _context.next = 6;\n              return logout();\n\n            case 6:\n              // Mutate\n              mutateUser({});\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              Error(errors.delError, _context.t0);\n\n            case 12:\n              _context.prev = 12;\n              setLoading(false);\n              return _context.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9, 12, 15]]);\n    }));\n\n    return function handleDelete() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  /**\n   * Render\n   */\n\n\n  return /*#__PURE__*/_jsx(_Card, {\n    className: \"Vertical-gutter\",\n    bodyStyle: {\n      padding: '0 24px',\n      minHeight: '48px'\n    },\n    children: /*#__PURE__*/_jsxs(_Row, {\n      align: \"middle\",\n      children: [/*#__PURE__*/_jsx(_Col, {\n        span: 4,\n        children: /*#__PURE__*/_jsx(_Typography.Title, {\n          level: 5,\n          style: {\n            padding: '16px 0',\n            margin: 0,\n            fontWeight: 500\n          },\n          children: \"Delete your account\"\n        })\n      }), /*#__PURE__*/_jsx(_Col, {\n        span: 20,\n        children: /*#__PURE__*/_jsx(_Row, {\n          children: /*#__PURE__*/_jsxs(_Col, {\n            offset: 5,\n            children: [/*#__PURE__*/_jsx(_Button, {\n              icon: /*#__PURE__*/_jsx(DeleteOutlined, {}),\n              type: \"danger\",\n              onClick: function onClick() {\n                return setVisible(true);\n              },\n              children: \"Delete your account\"\n            }), /*#__PURE__*/_jsx(DeleteDialog, {\n              visible: visible,\n              onCancel: function onCancel() {\n                return setVisible(false);\n              },\n              onOk: handleDelete,\n              loading: loading,\n              children: \"This action cannot be undone. If you delete your account, you will permanently lose your workspaces and projects.\"\n            })]\n          })\n        })\n      })]\n    })\n  });\n};\n\nexport default Delete;","map":null,"metadata":{},"sourceType":"module"}