{"ast":null,"code":"import _Layout from \"antd/lib/layout\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useEffect } from 'react';\nimport { PlusCircleOutlined } from '@ant-design/icons';\nimport { AddButton } from '../../../assets/button';\nimport List from './list';\nimport Material from './material';\nimport { useDispatch } from 'react-redux';\nimport { enable, disable, setType, setPart } from '../../../../store/select/action';\n\nconst Materials = ({\n  project,\n  simulation,\n  part,\n  setVisible\n}) => {\n  var _simulation$scheme, _simulation$scheme$co;\n\n  // State\n  const {\n    0: material,\n    1: setMaterial\n  } = useState();\n  const {\n    0: materialVisible,\n    1: setMaterialVisible\n  } = useState(false); // Store\n\n  const dispatch = useDispatch(); // Data\n\n  const materials = simulation === null || simulation === void 0 ? void 0 : (_simulation$scheme = simulation.scheme) === null || _simulation$scheme === void 0 ? void 0 : (_simulation$scheme$co = _simulation$scheme.configuration) === null || _simulation$scheme$co === void 0 ? void 0 : _simulation$scheme$co.materials; // Part\n\n  useEffect(() => {\n    dispatch(setType('solids'));\n    dispatch(setPart(part === null || part === void 0 ? void 0 : part.uuid));\n  }, [part]);\n  /**\n   * On add\n   */\n\n  const onAdd = () => {\n    setMaterial();\n    setMaterialVisible(true);\n    setVisible(false);\n    dispatch(enable());\n  };\n  /**\n   * On edit\n   */\n\n\n  const onEdit = index => {\n    const materialToEdit = materials.values[index];\n    setMaterial(materialToEdit);\n    setMaterialVisible(true);\n    setVisible(false);\n    dispatch(enable());\n  };\n  /**\n   * On close\n   */\n\n\n  const onClose = () => {\n    setMaterialVisible(false);\n    setVisible(true);\n    setMaterial();\n    dispatch(disable());\n  };\n\n  return /*#__PURE__*/_jsx(_Layout, {\n    children: /*#__PURE__*/_jsxs(_Layout.Content, {\n      children: [/*#__PURE__*/_jsx(AddButton, {\n        icon: /*#__PURE__*/_jsx(PlusCircleOutlined, {}),\n        onAdd: onAdd,\n        children: \"Add material\"\n      }), /*#__PURE__*/_jsx(List, {\n        project: project,\n        simulation: simulation,\n        onEdit: onEdit\n      }), /*#__PURE__*/_jsx(Material, {\n        project: project,\n        simulation: simulation,\n        visible: materialVisible,\n        part: part,\n        materials: materials,\n        material: material,\n        close: onClose\n      })]\n    })\n  });\n};\n\nexport default Materials;","map":null,"metadata":{},"sourceType":"module"}