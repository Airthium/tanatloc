{"ast":null,"code":"import _Button from \"antd/lib/button\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState } from 'react';\nimport { Error } from '../../assets/notification';\nimport PluginAPI from '../../../../src/api/plugin';\n/**\n * Errors (hpc/delete)\n */\n\nvar errors = {\n  updateError: 'Unable to delete plugin'\n};\n/**\n * Delete plugin\n * @param {Object} props Props\n */\n\nvar Delete = function Delete(_ref) {\n  var plugin = _ref.plugin;\n\n  // State\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1]; // Data\n\n\n  var _PluginAPI$usePlugins = PluginAPI.usePlugins(),\n      _PluginAPI$usePlugins2 = _slicedToArray(_PluginAPI$usePlugins, 2),\n      delOnePlugin = _PluginAPI$usePlugins2[1].delOnePlugin;\n  /**\n   * On delete\n   */\n\n\n  var onDelete = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.prev = 1;\n              _context.next = 4;\n              return PluginAPI.del(plugin);\n\n            case 4:\n              // Mutate\n              delOnePlugin(plugin);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](1);\n              Error(errors.updateError, _context.t0);\n\n            case 10:\n              _context.prev = 10;\n              setLoading(false);\n              return _context.finish(10);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 7, 10, 13]]);\n    }));\n\n    return function onDelete() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  /**\n   * Render\n   */\n\n\n  return /*#__PURE__*/_jsx(_Button, {\n    type: \"danger\",\n    loading: loading,\n    onClick: onDelete,\n    children: \"Delete\"\n  });\n};\n\nexport default Delete;","map":null,"metadata":{},"sourceType":"module"}