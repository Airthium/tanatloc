{"ast":null,"code":"import _Card from \"antd/lib/card\";\nimport _Row from \"antd/lib/row\";\nimport _Button from \"antd/lib/button\";\nimport _Col from \"antd/lib/col\";\nimport _Typography from \"antd/lib/typography\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/simon/Documents/Git/Airthium/tanatloc-ssr/renderer/components/account/delete/index.js\";\nimport { useState } from 'react';\nimport { DeleteOutlined } from '@ant-design/icons';\nimport { Error } from '../../assets/notification';\nimport { DeleteDialog } from '../../assets/dialog';\nimport UserAPI from '../../../../src/api/user';\nimport logout from '../../../../src/api/logout';\n/**\n * Errors account/delete\n * @memberof module:renderer/components/account\n */\n\nconst errors = {\n  delError: 'Unable to delete the user'\n};\n/**\n * Delete account\n * @memberof module:renderer/components/account\n */\n\nconst Delete = () => {\n  // State\n  const {\n    0: visible,\n    1: setVisible\n  } = useState(false);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const [, {\n    mutateUser\n  }] = UserAPI.useUser();\n  /**\n   * Handle delete\n   */\n\n  const handleDelete = async () => {\n    setLoading(true);\n\n    try {\n      // Delete\n      await UserAPI.del(); // Logout\n\n      await logout(); // Mutate\n\n      mutateUser({});\n    } catch (err) {\n      Error(errors.delError, err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  /**\n   * Render\n   */\n\n\n  return /*#__PURE__*/_jsxDEV(_Card, {\n    className: \"Vertical-gutter\",\n    bodyStyle: {\n      padding: '0 24px',\n      minHeight: '48px'\n    },\n    children: /*#__PURE__*/_jsxDEV(_Row, {\n      align: \"middle\",\n      children: [/*#__PURE__*/_jsxDEV(_Col, {\n        span: 4,\n        children: /*#__PURE__*/_jsxDEV(_Typography.Title, {\n          level: 5,\n          style: {\n            padding: '16px 0',\n            margin: 0,\n            fontWeight: 500\n          },\n          children: \"Delete your account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Col, {\n        span: 20,\n        children: /*#__PURE__*/_jsxDEV(_Row, {\n          children: /*#__PURE__*/_jsxDEV(_Col, {\n            offset: 5,\n            children: [/*#__PURE__*/_jsxDEV(_Button, {\n              icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 23\n              }, this),\n              type: \"danger\",\n              onClick: () => setVisible(true),\n              children: \"Delete your account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DeleteDialog, {\n              visible: visible,\n              onCancel: () => setVisible(false),\n              onOk: handleDelete,\n              loading: loading,\n              children: \"This action cannot be undone. If you delete your account, you will permanently lose your workspaces and projects.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\nexport default Delete;","map":{"version":3,"sources":["/home/simon/Documents/Git/Airthium/tanatloc-ssr/renderer/components/account/delete/index.js"],"names":["useState","DeleteOutlined","Error","DeleteDialog","UserAPI","logout","errors","delError","Delete","visible","setVisible","loading","setLoading","mutateUser","useUser","handleDelete","del","err","padding","minHeight","margin","fontWeight"],"mappings":";;;;;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AAGA,SAASC,cAAT,QAA+B,mBAA/B;AAEA,SAASC,KAAT,QAAsB,2BAAtB;AACA,SAASC,YAAT,QAA6B,qBAA7B;AAEA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AAEA;AACA;AACA;AACA;;AACA,MAAMC,MAAM,GAAG;AACbC,EAAAA,QAAQ,EAAE;AADG,CAAf;AAIA;AACA;AACA;AACA;;AACA,MAAMC,MAAM,GAAG,MAAM;AACnB;AACA,QAAM;AAAA,OAACC,OAAD;AAAA,OAAUC;AAAV,MAAwBV,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM;AAAA,OAACW,OAAD;AAAA,OAAUC;AAAV,MAAwBZ,QAAQ,CAAC,KAAD,CAAtC;AAEA,QAAM,GAAG;AAAEa,IAAAA;AAAF,GAAH,IAAqBT,OAAO,CAACU,OAAR,EAA3B;AAEA;AACF;AACA;;AACE,QAAMC,YAAY,GAAG,YAAY;AAC/BH,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,QAAI;AACF;AACA,YAAMR,OAAO,CAACY,GAAR,EAAN,CAFE,CAIF;;AACA,YAAMX,MAAM,EAAZ,CALE,CAOF;;AACAQ,MAAAA,UAAU,CAAC,EAAD,CAAV;AACD,KATD,CASE,OAAOI,GAAP,EAAY;AACZf,MAAAA,KAAK,CAACI,MAAM,CAACC,QAAR,EAAkBU,GAAlB,CAAL;AACD,KAXD,SAWU;AACRL,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,GAhBD;AAkBA;AACF;AACA;;;AACE,sBACE;AACE,IAAA,SAAS,EAAC,iBADZ;AAEE,IAAA,SAAS,EAAE;AACTM,MAAAA,OAAO,EAAE,QADA;AAETC,MAAAA,SAAS,EAAE;AAFF,KAFb;AAAA,2BAOE;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA,8BACE;AAAK,QAAA,IAAI,EAAE,CAAX;AAAA,+BACE,oBAAY,KAAZ;AACE,UAAA,KAAK,EAAE,CADT;AAEE,UAAA,KAAK,EAAE;AAAED,YAAAA,OAAO,EAAE,QAAX;AAAqBE,YAAAA,MAAM,EAAE,CAA7B;AAAgCC,YAAAA,UAAU,EAAE;AAA5C,WAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAUE;AAAK,QAAA,IAAI,EAAE,EAAX;AAAA,+BACE;AAAA,iCACE;AAAK,YAAA,MAAM,EAAE,CAAb;AAAA,oCACE;AACE,cAAA,IAAI,eAAE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,sBADR;AAEE,cAAA,IAAI,EAAC,QAFP;AAGE,cAAA,OAAO,EAAE,MAAMX,UAAU,CAAC,IAAD,CAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAQE,QAAC,YAAD;AACE,cAAA,OAAO,EAAED,OADX;AAEE,cAAA,QAAQ,EAAE,MAAMC,UAAU,CAAC,KAAD,CAF5B;AAGE,cAAA,IAAI,EAAEK,YAHR;AAIE,cAAA,OAAO,EAAEJ,OAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,UADF;AA2CD,CA1ED;;AA4EA,eAAeH,MAAf","sourcesContent":["import { useState } from 'react'\nimport { Button, Card, Row, Col, Typography } from 'antd'\n\nimport { DeleteOutlined } from '@ant-design/icons'\n\nimport { Error } from '../../assets/notification'\nimport { DeleteDialog } from '../../assets/dialog'\n\nimport UserAPI from '../../../../src/api/user'\nimport logout from '../../../../src/api/logout'\n\n/**\n * Errors account/delete\n * @memberof module:renderer/components/account\n */\nconst errors = {\n  delError: 'Unable to delete the user'\n}\n\n/**\n * Delete account\n * @memberof module:renderer/components/account\n */\nconst Delete = () => {\n  // State\n  const [visible, setVisible] = useState(false)\n  const [loading, setLoading] = useState(false)\n\n  const [, { mutateUser }] = UserAPI.useUser()\n\n  /**\n   * Handle delete\n   */\n  const handleDelete = async () => {\n    setLoading(true)\n    try {\n      // Delete\n      await UserAPI.del()\n\n      // Logout\n      await logout()\n\n      // Mutate\n      mutateUser({})\n    } catch (err) {\n      Error(errors.delError, err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  /**\n   * Render\n   */\n  return (\n    <Card\n      className=\"Vertical-gutter\"\n      bodyStyle={{\n        padding: '0 24px',\n        minHeight: '48px'\n      }}\n    >\n      <Row align=\"middle\">\n        <Col span={4}>\n          <Typography.Title\n            level={5}\n            style={{ padding: '16px 0', margin: 0, fontWeight: 500 }}\n          >\n            Delete your account\n          </Typography.Title>\n        </Col>\n\n        <Col span={20}>\n          <Row>\n            <Col offset={5}>\n              <Button\n                icon={<DeleteOutlined />}\n                type=\"danger\"\n                onClick={() => setVisible(true)}\n              >\n                Delete your account\n              </Button>\n              <DeleteDialog\n                visible={visible}\n                onCancel={() => setVisible(false)}\n                onOk={handleDelete}\n                loading={loading}\n              >\n                This action cannot be undone. If you delete your account, you\n                will permanently lose your workspaces and projects.\n              </DeleteDialog>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default Delete\n"]},"metadata":{},"sourceType":"module"}